<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8" />
    <title>Authentication and Authorization with Verifiable Credentials using using did:elsi</title>
    <meta name="viewport" content="width=device-width, initial-scale=1" />

    <!-- Opengraph Facebook Meta Tags -->
    <meta property="og:title" content="Authentication and Authorization with Verifiable Credentials using using did:elsi">
    <meta property="og:type" content="website">
    <meta property="og:description" content="Authentication and Authorization with Verifiable Credentials using using did:elsi">
    <meta property="og:site_name" content="Authn with Verifiable Credentials">
    <meta property="og:url" content="https://alastria.github.io/did-method-elsi/authzn.html">

    <script src="https://www.w3.org/Tools/respec/respec-w3c" async="" class="remove"></script>
    <script class="remove">
        var respecConfig = {
            latestVersion: "https://alastria.github.io/did-method-elsi/authzn.html",
            edDraftURI: "https://alastria.github.io/did-method-elsi/authzn.html",
            github: "https://github.com/alastria/did-method-elsi/blob/main/authzn.html",
            editors: [
                {
                    company: "JesusRuiz",
                    companyURL: "https://hesusruiz.github.io/hesusruiz",
                    email: "hesusruiz@gmail.com",
                    name: "Jesus Ruiz",
                },
            ],
            authors: [
                {
                    company: "JesusRuiz",
                    companyURL: "https://hesusruiz.github.io/hesusruiz",
                    email: "hesusruiz@gmail.com",
                    name: "Jesus Ruiz",
                },
                {
                    company: "nicos AG",
                    companyURL: "https://www.nicos-ag.com/",
                    email: "jlangkau@nicos-ag.com",
                    name: "Jörg Langkau ",
                },
            ],
            localBiblio: {
                "DEP-DSS": {
                        date: "2019-10",
                        href: "https://ec.europa.eu/digital-building-blocks/wikis/display/DIGITAL/Qualified+electronic+signature+-+QES+validation+algorithm",
                        publisher: "European Commission",
                        title: "Algorithm for Validation of qualified and advanced signatures and seals",
                },
                "DID-DNS": {
                        href: "https://tools.ietf.org/html/draft-mayrhofer-did-dns-01",
                        publisher: "IETF",
                        status: "Internet Draft",
                        title: "The Decentralized Identifier (DID) in the DNS",
                },
                "DID-ELSI": {
                        date: "04 June 2023",
                        href: "https://alastria.github.io/did-method-elsi/",
                        title: "DID ETSI Legal person Semantic Identifier Method Specification (did:elsi)",
                },
                "DID-ONBOARDING": {
                        date: "04 June 2023",
                        href: "https://alastria.github.io/did-method-elsi/onboarding.html",
                        title: "Onboarding example with LEARCredential using did:elsi",
                },
                "DID-PRIMER": {
                        href: "https://github.com/WebOfTrustInfo/rebooting-the-web-of-trust-fall2017/blob/master/topics-and-advance-readings/did-primer.md",
                        publisher: "Rebooting the Web of Trust 2017",
                        title: "DID Primer",
                },
                "DIF.PresentationExchange": {
                        href: "https://identity.foundation/presentation-exchange/spec/v2.0.0/",
                        title: "Presentation Exchange 2.0.0",
                },
                "ETSI-CERTOVERVIEW": {
                        date: "2020-07",
                        href: "https://www.etsi.org/deliver/etsi_en/319400_319499/31941201/01.04.02_20/en_31941201v010402a.pdf",
                        publisher: "ETSI",
                        title: "ETSI EN 319 412-1 V1.4.2 (2020-07) - Electronic Signatures and Infrastructures (ESI); Certificate Profiles; Part 1: Overview and common data structures",
                },
                "ETSI-JADES": {
                        date: "2021-03",
                        href: "https://www.etsi.org/deliver/etsi_ts/119100_119199/11918201/01.01.01_60/ts_11918201v010101p.pdf",
                        publisher: "ETSI",
                        title: "ETSI TS 119 182-1 V1.1.1 (2021-03) - Electronic Signatures and Infrastructures (ESI); JAdES digital signatures; Part 1: Building blocks and JAdES baseline signatures",
                },
                "ETSI-LEGALPERSON": {
                        date: "2020-07",
                        href: "https://www.etsi.org/deliver/etsi_en/319400_319499/31941203/01.02.01_60/en_31941203v010201p.pdf",
                        publisher: "ETSI",
                        title: "ETSI EN 319 412-3 V1.2.1 (2020-07) - Electronic Signatures and Infrastructures (ESI); Certificate Profiles; Part 3: Certificate profile for certificates issued to legal persons",
                },
                "NIST-AUTH": {
                        date: "October 2016",
                        href: "https://nvlpubs.nist.gov/nistpubs/SpecialPublications/NIST.SP.800-178.pdf",
                        title: "NIST Special Publication 800-178: A Comparison of Attribute Based Access Control (ABAC) Standards for Data Service Applications",
                },
                "OWASP-TRANSPORT": {
                        href: "https://www.owasp.org/index.php/Transport_Layer_Protection_Cheat_Sheet",
                        title: "Transport Layer Protection Cheatsheet",
                },
                "OpenID.Core": {
                        date: "8 November 2014",
                        href: "http://openid.net/specs/openid-connect-core-1_0.html",
                        title: "OpenID Connect Core 1.0 incorporating errata set 1",
                },
                "OpenID.SIOP2": {
                        date: "28 January 2022",
                        href: "https://openid.bitbucket.io/connect/openid-connect-self-issued-v2-1_0.html",
                        title: "Self-Issued OpenID Provider v2",
                },
                "OpenID.VCI": {
                        date: "3 February 2023",
                        href: "https://openid.net/specs/openid-4-verifiable-credential-issuance-1_0.html",
                        title: "OpenID for Verifiable Credential Issuance",
                },
                "OpenID.VP": {
                        date: "21 April 2023",
                        href: "https://openid.net/specs/openid-4-verifiable-presentations-1_0.html",
                        title: "OpenID for Verifiable Presentations",
                },
                "RFC6749": {
                        href: "https://www.rfc-editor.org/rfc/rfc6749.html",
                        title: "The OAuth 2.0 Authorization Framework",
                },
                "RFC7515": {
                        href: "https://www.rfc-editor.org/rfc/rfc7515",
                        title: "JSON Web Signature (JWS)",
                },
                "RFC7519": {
                        href: "https://www.rfc-editor.org/rfc/rfc7519",
                        title: "JSON Web Token (JWT)",
                },
                "RFC8414": {
                        href: "https://www.rfc-editor.org/rfc/rfc8414",
                        title: "OAuth 2.0 Authorization Server Metadata",
                },
                "RFC8725": {
                        href: "https://www.rfc-editor.org/rfc/rfc8725",
                        title: "JSON Web Token Best Current Practices",
                },
            },
        };
    </script>
    <style>
        code {
            color: red;
        }
        pre.nohighlight {
            padding: 0.5em
        }
        ul.plain {
            list-style: none;
        }
        ul.plain li {
            text-indent: -1em;
        }
        ul.plain li>div {
            text-indent:0;
        }
    </style>
</head>

<body>
    <p class="copyright">
        Copyright © 2023 the document editors/authors. Text is available under the <a rel="license" href="https://creativecommons.org/licenses/by/4.0/legalcode"> Creative Commons Attribution 4.0 International Public License</a>
    </p>



<section id='abstract'>
    <p>Once an organisation has onboarded an ecosystem like a Data Space, some of its employees have to be appointed to enable them to perform a concrete set of activities in the ecosystem. These activities are performed in the web portals of different organisations which are already participants in the ecosystem, like the onboarding service, the marketplace portals and also in the web portals of other participants.
    </p>
    <p>This document describes how:
    </p>
    <ul>
        <li id='list_125.1'>An organisation can issue Verifiable Credentials to its employees enabling them to perform some specific processes in other organisations "on-behalf-of" the employer        </li>
        <li id='list_125.2'>Other organisations can accept those Verifiable Credentials to perform authentication and access control.        </li>
    </ul>

    <p>We assume that all organisations have onboarded in the ecosystem using the mechanisms described in [[[DID-ELSI]]] and [[[DID-ONBOARDING]]].
    </p>
</section>


<section id="conformance">
</section>


<section><h2>Introduction</h2>

    <p>Once an organisation has onboarded an ecosystem like a Data Space, some of its employees have to be appointed to enable them to perform a concrete set of activities in the ecosystem. These activities are performed in the web portals of different organisations which are already participants in the ecosystem, like the onboarding service, the marketplace portals and also in the web portals of other participants.
    </p>
    <p>This document describes how:
    </p>
    <ul>
        <li id='list_140.1'>An organisation can issue Verifiable Credentials to its employees enabling them to perform some specific processes in other organisations "on-behalf-of" the employer        </li>
        <li id='list_140.2'>Other organisations can accept those Verifiable Credentials to perform authentication and access control.        </li>
    </ul>

    <p>We assume that all organisations have onboarded in the ecosystem using the mechanisms described in [[[DID-ELSI]]] and [[[DID-ONBOARDING]]].
    </p>
    <p>The appointed employee will perform the process by using a special type of Verifiable Credential called <code>LEARCredential</code> (from <b>L</b>egal <b>E</b>ntity <b>A</b>ppointed <b>R</b>epresentative).
    </p>
    <p>To achieve a high level of legal certainty under eIDAS, the LEARCredential is:
    </p>
    <ul>
        <li id='list_150.1'>signed or sealed with an eIDAS certificate which is either:        <div>
            <ul>
                <li id='list_153.1'>a <b>certificate for electronic seals</b> issued to a legal person by a Qualified Trust Service Provider, or                </li>
                <li id='list_153.2'>a <b>certificate for electronic signatures</b>, issued to a <b>legal representative of the legal person</b> by a Qualified Trust Service Provider.                </li>
            </ul>

        </div>
        </li>
        <li id='list_150.2'>signed using the <b>JSON Advanced Electronic Signature</b> format described in [[[ETSI-JADES]]]        </li>
    </ul>

    <p>The LEARCredential includes claims identifying the employee and a description of the concrete powers that have been delegated by the legal representative of the organisation.
    </p>
    <p>By signing/sealing the credential with an eIDAS certificate, the legal representative attests that the powers described in the credential have been delegated to the employee (maybe under some conditions, also described in the credential).
    </p>
    <p>In this way, the LEARCredential has the same legal status as any other document in other formats (e.g., PDF) signed in an eIDAS-compliant way, but with all the advantages provided by the Verifiable Credential format.
    </p>
    <p>In addition, the LEARCredential includes cryptographic material that allows the appointed employee to <b>use the credential as an online authentication mechanism</b> in a portal, by proving that the holder of the credential is the same person identified in the credential.
    </p>
    <p>Any Verifier that trusts the eIDAS Trust Framework will be able to verify that:
    </p>
    <ul>
        <li id='list_168.1'><b>The person presenting the LEARCredential is the same as the one identified in the credential</b>        </li>
        <li id='list_168.2'><b>A legal representative of the organisation has attested that the person has the powers described in the credential</b>        </li>
    </ul>

    <p>This enables the person presenting the LEARCredential to start the process and to provide any additional required documentation, preferably as additional Verifiable Credentials to enable automatic verification of compliance with the process requirements (including Gaia-X credentials issued by the Compliance Service of Gaia-X). 
    </p>
    <p>Both types of eIDAS certificates mentioned above are an electronic attestation <b>that links electronic seal/signature validation data to a legal person and confirms the name of that person</b>. This way, the certificate, usually linked to the sealed/signed document, can be used to verify the identity of the creator of the seal/signature and whether the document has been sealed/signed using the corresponding private key.
    </p>
    <p>Before issuing a certificate like the above, the Qualified Trust Service Provider (QTSP) performs validations against `Authentic Sources` to authenticate the identity of the organisation:
    </p>
    <ul>
        <li id='list_178.1'>The data concerning the business name or corporate name of the organisation.        </li>
        <li id='list_178.2'>The data relating to the constitution and legal status of the subscriber.        </li>
        <li id='list_178.3'>The data concerning the extent and validity of the powers of representation of the applicant.        </li>
        <li id='list_178.4'>The data concerning the tax identification code of the organisation or equivalent code used in the country to whose legislation the subscriber is subject.        </li>
    </ul>

    <p>The person controlling the above certificates will appoint a legal entity representative (LEAR) by generating and signing a Verifiable Credential which:
    </p>
    <ul>
        <li id='list_186.1'>Includes identification data of an employee of the organisation        </li>
        <li id='list_186.2'>Includes claims stating the delegation of specific powers to perform a set of specific processes on behalf of the organisation        </li>
        <li id='list_186.3'>Includes a public key where the corresponding private key is controlled by the employee, enabling him to prove that he is the holder of the credential when it is being used in an authentication process like the ones used as examples in this document.        </li>
    </ul>

    <p>The LEARCredential uses the `did:elsi` method for the identifiers of legal persons involved in the process, to facilitate the DID resolution and linkage with the eIDAS certificates. The `did:elsi` method is specified in [[[DID-ELSI]]].    
    </p>
    <p>The high-level view of the process is described in the following diagram, when a COO (Chief Operating Officer) appoints an employee to perform some processes:
    </p>
<!-- Original D2 diagram definition
    shape: sequence_diagram
    # Definition of the participants
    employee: Employee of company {
        icon: https://icons.terrastruct.com/essentials%2F365-user.svg
    }
    COO: COO of company {
        icon: https://icons.terrastruct.com/essentials%2F365-user.svg
    }
    TSP: Trust Service Provider {
        icon: https://icons.terrastruct.com/azure%2FWeb%20Service%20Color%2FApp%20Service%20Certificates.svg
    }
    registry: Authentic Sources {
        icon: https://icons.terrastruct.com/azure%2FIntegration%20Service%20Color%2FAzure%20Data%20Catalog.svg
    }
    COO -> TSP: Request a\ncertificate for signatures
    TSP <-> registry: Verify trusted data
    TSP -> COO: Provide certificate for signature
    COO -> employee: Issue LEARCredential
 -->

<?xml version="1.0" encoding="utf-8"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" d2Version="v0.4.0-HEAD" preserveAspectRatio="xMinYMin meet" viewBox="0 0 1144 679"><svg id="d2-svg" class="d2-3669787437" width="1144" height="679" viewBox="-89 -49 1144 679"><rect x="-89.000000" y="-49.000000" width="1144.000000" height="679.000000" rx="0.000000" class=" fill-N7" stroke-width="0" /><style type="text/css"><![CDATA[
.d2-3669787437 .text {
	font-family: "d2-3669787437-font-regular";
}
@font-face {
	font-family: d2-3669787437-font-regular;
	src: url("data:application/font-woff;base64,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");
}
.d2-3669787437 .text-italic {
	font-family: "d2-3669787437-font-italic";
}
@font-face {
	font-family: d2-3669787437-font-italic;
	src: url("data:application/font-woff;base64,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");
}]]></style><style type="text/css"><![CDATA[.shape {
  shape-rendering: geometricPrecision;
  stroke-linejoin: round;
}
.connection {
  stroke-linecap: round;
  stroke-linejoin: round;
}
.blend {
  mix-blend-mode: multiply;
  opacity: 0.5;
}

		.d2-3669787437 .fill-N1{fill:#0A0F25;}
		.d2-3669787437 .fill-N2{fill:#676C7E;}
		.d2-3669787437 .fill-N3{fill:#9499AB;}
		.d2-3669787437 .fill-N4{fill:#CFD2DD;}
		.d2-3669787437 .fill-N5{fill:#DEE1EB;}
		.d2-3669787437 .fill-N6{fill:#EEF1F8;}
		.d2-3669787437 .fill-N7{fill:#FFFFFF;}
		.d2-3669787437 .fill-B1{fill:#0D32B2;}
		.d2-3669787437 .fill-B2{fill:#0D32B2;}
		.d2-3669787437 .fill-B3{fill:#E3E9FD;}
		.d2-3669787437 .fill-B4{fill:#E3E9FD;}
		.d2-3669787437 .fill-B5{fill:#EDF0FD;}
		.d2-3669787437 .fill-B6{fill:#F7F8FE;}
		.d2-3669787437 .fill-AA2{fill:#4A6FF3;}
		.d2-3669787437 .fill-AA4{fill:#EDF0FD;}
		.d2-3669787437 .fill-AA5{fill:#F7F8FE;}
		.d2-3669787437 .fill-AB4{fill:#EDF0FD;}
		.d2-3669787437 .fill-AB5{fill:#F7F8FE;}
		.d2-3669787437 .stroke-N1{stroke:#0A0F25;}
		.d2-3669787437 .stroke-N2{stroke:#676C7E;}
		.d2-3669787437 .stroke-N3{stroke:#9499AB;}
		.d2-3669787437 .stroke-N4{stroke:#CFD2DD;}
		.d2-3669787437 .stroke-N5{stroke:#DEE1EB;}
		.d2-3669787437 .stroke-N6{stroke:#EEF1F8;}
		.d2-3669787437 .stroke-N7{stroke:#FFFFFF;}
		.d2-3669787437 .stroke-B1{stroke:#0D32B2;}
		.d2-3669787437 .stroke-B2{stroke:#0D32B2;}
		.d2-3669787437 .stroke-B3{stroke:#E3E9FD;}
		.d2-3669787437 .stroke-B4{stroke:#E3E9FD;}
		.d2-3669787437 .stroke-B5{stroke:#EDF0FD;}
		.d2-3669787437 .stroke-B6{stroke:#F7F8FE;}
		.d2-3669787437 .stroke-AA2{stroke:#4A6FF3;}
		.d2-3669787437 .stroke-AA4{stroke:#EDF0FD;}
		.d2-3669787437 .stroke-AA5{stroke:#F7F8FE;}
		.d2-3669787437 .stroke-AB4{stroke:#EDF0FD;}
		.d2-3669787437 .stroke-AB5{stroke:#F7F8FE;}
		.d2-3669787437 .background-color-N1{background-color:#0A0F25;}
		.d2-3669787437 .background-color-N2{background-color:#676C7E;}
		.d2-3669787437 .background-color-N3{background-color:#9499AB;}
		.d2-3669787437 .background-color-N4{background-color:#CFD2DD;}
		.d2-3669787437 .background-color-N5{background-color:#DEE1EB;}
		.d2-3669787437 .background-color-N6{background-color:#EEF1F8;}
		.d2-3669787437 .background-color-N7{background-color:#FFFFFF;}
		.d2-3669787437 .background-color-B1{background-color:#0D32B2;}
		.d2-3669787437 .background-color-B2{background-color:#0D32B2;}
		.d2-3669787437 .background-color-B3{background-color:#E3E9FD;}
		.d2-3669787437 .background-color-B4{background-color:#E3E9FD;}
		.d2-3669787437 .background-color-B5{background-color:#EDF0FD;}
		.d2-3669787437 .background-color-B6{background-color:#F7F8FE;}
		.d2-3669787437 .background-color-AA2{background-color:#4A6FF3;}
		.d2-3669787437 .background-color-AA4{background-color:#EDF0FD;}
		.d2-3669787437 .background-color-AA5{background-color:#F7F8FE;}
		.d2-3669787437 .background-color-AB4{background-color:#EDF0FD;}
		.d2-3669787437 .background-color-AB5{background-color:#F7F8FE;}
		.d2-3669787437 .color-N1{color:#0A0F25;}
		.d2-3669787437 .color-N2{color:#676C7E;}
		.d2-3669787437 .color-N3{color:#9499AB;}
		.d2-3669787437 .color-N4{color:#CFD2DD;}
		.d2-3669787437 .color-N5{color:#DEE1EB;}
		.d2-3669787437 .color-N6{color:#EEF1F8;}
		.d2-3669787437 .color-N7{color:#FFFFFF;}
		.d2-3669787437 .color-B1{color:#0D32B2;}
		.d2-3669787437 .color-B2{color:#0D32B2;}
		.d2-3669787437 .color-B3{color:#E3E9FD;}
		.d2-3669787437 .color-B4{color:#E3E9FD;}
		.d2-3669787437 .color-B5{color:#EDF0FD;}
		.d2-3669787437 .color-B6{color:#F7F8FE;}
		.d2-3669787437 .color-AA2{color:#4A6FF3;}
		.d2-3669787437 .color-AA4{color:#EDF0FD;}
		.d2-3669787437 .color-AA5{color:#F7F8FE;}
		.d2-3669787437 .color-AB4{color:#EDF0FD;}
		.d2-3669787437 .color-AB5{color:#F7F8FE;}.appendix text.text{fill:#0A0F25}.md{--color-fg-default:#0A0F25;--color-fg-muted:#676C7E;--color-fg-subtle:#9499AB;--color-canvas-default:#FFFFFF;--color-canvas-subtle:#EEF1F8;--color-border-default:#0D32B2;--color-border-muted:#0D32B2;--color-neutral-muted:#EEF1F8;--color-accent-fg:#0D32B2;--color-accent-emphasis:#0D32B2;--color-attention-subtle:#676C7E;--color-danger-fg:red;}.sketch-overlay-B1{fill:url(#streaks-darker);mix-blend-mode:lighten}.sketch-overlay-B2{fill:url(#streaks-darker);mix-blend-mode:lighten}.sketch-overlay-B3{fill:url(#streaks-bright);mix-blend-mode:darken}.sketch-overlay-B4{fill:url(#streaks-bright);mix-blend-mode:darken}.sketch-overlay-B5{fill:url(#streaks-bright);mix-blend-mode:darken}.sketch-overlay-B6{fill:url(#streaks-bright);mix-blend-mode:darken}.sketch-overlay-AA2{fill:url(#streaks-dark);mix-blend-mode:overlay}.sketch-overlay-AA4{fill:url(#streaks-bright);mix-blend-mode:darken}.sketch-overlay-AA5{fill:url(#streaks-bright);mix-blend-mode:darken}.sketch-overlay-AB4{fill:url(#streaks-bright);mix-blend-mode:darken}.sketch-overlay-AB5{fill:url(#streaks-bright);mix-blend-mode:darken}.sketch-overlay-N1{fill:url(#streaks-darker);mix-blend-mode:lighten}.sketch-overlay-N2{fill:url(#streaks-dark);mix-blend-mode:overlay}.sketch-overlay-N3{fill:url(#streaks-normal);mix-blend-mode:color-burn}.sketch-overlay-N4{fill:url(#streaks-normal);mix-blend-mode:color-burn}.sketch-overlay-N5{fill:url(#streaks-bright);mix-blend-mode:darken}.sketch-overlay-N6{fill:url(#streaks-bright);mix-blend-mode:darken}.sketch-overlay-N7{fill:url(#streaks-bright);mix-blend-mode:darken}.light-code{display: block}.dark-code{display: none}]]></style><g id="employee"><g class="shape" ><rect x="12.000000" y="52.000000" width="220.000000" height="92.000000" class=" stroke-B1 fill-B5" style="stroke-width:2;" /></g><image href="https://icons.terrastruct.com/essentials%2F365-user.svg" x="12.000000" y="52.000000" width="46" height="46" /><text x="122.000000" y="103.500000" class="text fill-N1" style="text-anchor:middle;font-size:16px">Employee of company</text></g><g id="COO"><g class="shape" ><rect x="272.000000" y="52.000000" width="185.000000" height="92.000000" class=" stroke-B1 fill-B5" style="stroke-width:2;" /></g><image href="https://icons.terrastruct.com/essentials%2F365-user.svg" x="272.000000" y="52.000000" width="46" height="46" /><text x="364.500000" y="103.500000" class="text fill-N1" style="text-anchor:middle;font-size:16px">COO of company</text></g><g id="TSP"><g class="shape" ><rect x="502.000000" y="52.000000" width="219.000000" height="92.000000" class=" stroke-B1 fill-B5" style="stroke-width:2;" /></g><image href="https://icons.terrastruct.com/azure%2FWeb%20Service%20Color%2FApp%20Service%20Certificates.svg" x="502.000000" y="52.000000" width="46" height="46" /><text x="611.500000" y="103.500000" class="text fill-N1" style="text-anchor:middle;font-size:16px">Trust Service Provider</text></g><g id="registry"><g class="shape" ><rect x="761.000000" y="52.000000" width="193.000000" height="92.000000" class=" stroke-B1 fill-B5" style="stroke-width:2;" /></g><image href="https://icons.terrastruct.com/azure%2FIntegration%20Service%20Color%2FAzure%20Data%20Catalog.svg" x="761.000000" y="52.000000" width="46" height="46" /><text x="857.500000" y="103.500000" class="text fill-N1" style="text-anchor:middle;font-size:16px">Authentic Sources</text></g><g id="(employee -- )[0]"><path d="M 122.000000 146.000000 L 122.000000 528.000000" fill="none" class="connection stroke-B2" style="stroke-width:2;stroke-dasharray:12.000000,11.838767;" mask="url(#d2-3669787437)" /></g><g id="(COO -- )[0]"><path d="M 364.500000 146.000000 L 364.500000 528.000000" fill="none" class="connection stroke-B2" style="stroke-width:2;stroke-dasharray:12.000000,11.838767;" mask="url(#d2-3669787437)" /></g><g id="(TSP -- )[0]"><path d="M 611.500000 146.000000 L 611.500000 528.000000" fill="none" class="connection stroke-B2" style="stroke-width:2;stroke-dasharray:12.000000,11.838767;" mask="url(#d2-3669787437)" /></g><g id="(registry -- )[0]"><path d="M 857.500000 146.000000 L 857.500000 528.000000" fill="none" class="connection stroke-B2" style="stroke-width:2;stroke-dasharray:12.000000,11.838767;" mask="url(#d2-3669787437)" /></g><g id="(COO -&gt; TSP)[0]"><marker id="mk-3488378134" markerWidth="10.000000" markerHeight="12.000000" refX="7.000000" refY="6.000000" viewBox="0.000000 0.000000 10.000000 12.000000" orient="auto" markerUnits="userSpaceOnUse"> <polygon points="0.000000,0.000000 10.000000,6.000000 0.000000,12.000000" class="connection fill-B1" stroke-width="2" /> </marker><path d="M 366.500000 221.000000 L 607.500000 221.000000" fill="none" class="connection stroke-B1" style="stroke-width:2;" marker-end="url(#mk-3488378134)" mask="url(#d2-3669787437)" /><text x="488.500000" y="219.000000" class="text-italic fill-N2" style="text-anchor:middle;font-size:16px"><tspan x="488.500000" dy="0.000000">Request a</tspan><tspan x="488.500000" dy="18.500000">certificate for signatures</tspan></text></g><g id="(TSP &lt;-&gt; registry)[0]"><marker id="mk-2451250203" markerWidth="10.000000" markerHeight="12.000000" refX="3.000000" refY="6.000000" viewBox="0.000000 0.000000 10.000000 12.000000" orient="auto" markerUnits="userSpaceOnUse"> <polygon points="10.000000,0.000000 0.000000,6.000000 10.000000,12.000000" class="connection fill-B1" stroke-width="2" /> </marker><path d="M 615.500000 298.000000 L 853.500000 298.000000" fill="none" class="connection stroke-B1" style="stroke-width:2;" marker-start="url(#mk-2451250203)" marker-end="url(#mk-3488378134)" mask="url(#d2-3669787437)" /><text x="734.500000" y="304.000000" class="text-italic fill-N2" style="text-anchor:middle;font-size:16px">Verify trusted data</text></g><g id="(TSP -&gt; COO)[0]"><path d="M 609.500000 375.000000 L 368.500000 375.000000" fill="none" class="connection stroke-B1" style="stroke-width:2;" marker-end="url(#mk-3488378134)" mask="url(#d2-3669787437)" /><text x="488.500000" y="381.000000" class="text-italic fill-N2" style="text-anchor:middle;font-size:16px">Provide certificate for signature</text></g><g id="(COO -&gt; employee)[0]"><path d="M 362.500000 452.000000 L 126.000000 452.000000" fill="none" class="connection stroke-B1" style="stroke-width:2;" marker-end="url(#mk-3488378134)" mask="url(#d2-3669787437)" /><text x="243.500000" y="458.000000" class="text-italic fill-N2" style="text-anchor:middle;font-size:16px">Issue LEARCredential</text></g><mask id="d2-3669787437" maskUnits="userSpaceOnUse" x="-89" y="-49" width="1144" height="679">
<rect x="-89" y="-49" width="1144" height="679" fill="white"></rect>
<rect x="408.000000" y="203.000000" width="161" height="37" fill="black"></rect>
<rect x="674.000000" y="288.000000" width="121" height="21" fill="black"></rect>
<rect x="385.000000" y="365.000000" width="207" height="21" fill="black"></rect>
<rect x="175.000000" y="442.000000" width="137" height="21" fill="black"></rect>
</mask></svg></svg>
</section>


<section><h2>Participants</h2>

    <p>Here we introduce the actors of the reference use case we are going to have. The main actors are marked in yellow in the following diagram.
    </p>
    <p>RealTruth is a Trust Service Provider operating under the eIDAS Trust Framework, which issues a certificate for seals to the company GoodAir. GoodAir is a business that provides some services using an Air Quality application operated by GoodAir.
    </p>
    <p>RealTruth also provides a certificate for signatures to the COO of the GoodAir company, so the COO can use the certificate to sign documents on behalf of GoodAir (like contracts, invoices, financial reports, ...) in a way that is compliant with eIDAS.
    </p>
    <p>The COO of GoodAir will issue a verifiable credential of type LEARCredential to an employee of GoodAir, signing the credential with his certificate for signatures.
    </p>
<!-- Original D2 diagram definition
    classes: {
        participant: {
            style: {
                fill: "aqua"
            }
        }
        multiple: {
            style: {
                multiple: true
            }
        }
    }
    eIDAS: eIDAS Trust Framework {
        icon: images/eu_trust_mark.jpg
    }
    eIDAS.style.fill: transparent
    DE_TL: Germany Trusted List
    RealTruth: RealTruth TSP {
        Seal: Certificate\nfor seal
        Seal.shape: oval
        Sign: Certificate\nfor signature
        Sign.shape: oval
    }
    RealTruth.class: participant
    OtherG: Other TSPs {
        S3.shape: circle
        S3: Cert\nfor Sign
        S4.shape: circle
        S4: Cert\nfor Seal
    }
    OtherG.class: multiple
    DE_TL -> RealTruth
    DE_TL -> OtherG
    Other_Countries: Other Trusted Lists
    Other_Countries.style.fill: transparent
    Other_Countries.class: multiple
    TSP1 {
        S1.shape: circle
        S1: Cert\nfor Sign
        S2.shape: circle
        S2: Cert\nfor Seal
    }
    TSPn {
        S3.shape: circle
        S3: Cert\nfor Sign
        S4.shape: circle
        S4: Cert\nfor Seal
    }
    GoodAir {
        COO
        Employee
    }
    GoodAir.class: participant
    eIDAS -> DE_TL
    eIDAS -> Other_Countries
    RealTruth.Seal -> GoodAir: Issue Cert for Seals {
        style: {
            font-size: 30
        }
    }
    RealTruth.Sign -> GoodAir.COO: Issue Cert for Signatures {
        style: {
            font-size: 30            }
    }
    Other_Countries -> TSP1
    Other_Countries -> TSPn
    GoodAir.COO -> GoodAir.Employee: LEARCredential {
        style: {
            font-size: 30
        }
    }
 -->

<?xml version="1.0" encoding="utf-8"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" d2Version="v0.4.0-HEAD" preserveAspectRatio="xMinYMin meet" viewBox="0 0 1901 1307"><svg id="d2-svg" class="d2-848158414" width="1901" height="1307" viewBox="-101 -101 1901 1307"><rect x="-101.000000" y="-101.000000" width="1901.000000" height="1307.000000" rx="0.000000" class=" fill-N7" stroke-width="0" /><style type="text/css"><![CDATA[
.d2-848158414 .text {
	font-family: "d2-848158414-font-regular";
}
@font-face {
	font-family: d2-848158414-font-regular;
	src: url("data:application/font-woff;base64,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");
}
.d2-848158414 .text-bold {
	font-family: "d2-848158414-font-bold";
}
@font-face {
	font-family: d2-848158414-font-bold;
	src: url("data:application/font-woff;base64,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");
}
.d2-848158414 .text-italic {
	font-family: "d2-848158414-font-italic";
}
@font-face {
	font-family: d2-848158414-font-italic;
	src: url("data:application/font-woff;base64,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");
}]]></style><style type="text/css"><![CDATA[.shape {
  shape-rendering: geometricPrecision;
  stroke-linejoin: round;
}
.connection {
  stroke-linecap: round;
  stroke-linejoin: round;
}
.blend {
  mix-blend-mode: multiply;
  opacity: 0.5;
}

		.d2-848158414 .fill-N1{fill:#0A0F25;}
		.d2-848158414 .fill-N2{fill:#676C7E;}
		.d2-848158414 .fill-N3{fill:#9499AB;}
		.d2-848158414 .fill-N4{fill:#CFD2DD;}
		.d2-848158414 .fill-N5{fill:#DEE1EB;}
		.d2-848158414 .fill-N6{fill:#EEF1F8;}
		.d2-848158414 .fill-N7{fill:#FFFFFF;}
		.d2-848158414 .fill-B1{fill:#0D32B2;}
		.d2-848158414 .fill-B2{fill:#0D32B2;}
		.d2-848158414 .fill-B3{fill:#E3E9FD;}
		.d2-848158414 .fill-B4{fill:#E3E9FD;}
		.d2-848158414 .fill-B5{fill:#EDF0FD;}
		.d2-848158414 .fill-B6{fill:#F7F8FE;}
		.d2-848158414 .fill-AA2{fill:#4A6FF3;}
		.d2-848158414 .fill-AA4{fill:#EDF0FD;}
		.d2-848158414 .fill-AA5{fill:#F7F8FE;}
		.d2-848158414 .fill-AB4{fill:#EDF0FD;}
		.d2-848158414 .fill-AB5{fill:#F7F8FE;}
		.d2-848158414 .stroke-N1{stroke:#0A0F25;}
		.d2-848158414 .stroke-N2{stroke:#676C7E;}
		.d2-848158414 .stroke-N3{stroke:#9499AB;}
		.d2-848158414 .stroke-N4{stroke:#CFD2DD;}
		.d2-848158414 .stroke-N5{stroke:#DEE1EB;}
		.d2-848158414 .stroke-N6{stroke:#EEF1F8;}
		.d2-848158414 .stroke-N7{stroke:#FFFFFF;}
		.d2-848158414 .stroke-B1{stroke:#0D32B2;}
		.d2-848158414 .stroke-B2{stroke:#0D32B2;}
		.d2-848158414 .stroke-B3{stroke:#E3E9FD;}
		.d2-848158414 .stroke-B4{stroke:#E3E9FD;}
		.d2-848158414 .stroke-B5{stroke:#EDF0FD;}
		.d2-848158414 .stroke-B6{stroke:#F7F8FE;}
		.d2-848158414 .stroke-AA2{stroke:#4A6FF3;}
		.d2-848158414 .stroke-AA4{stroke:#EDF0FD;}
		.d2-848158414 .stroke-AA5{stroke:#F7F8FE;}
		.d2-848158414 .stroke-AB4{stroke:#EDF0FD;}
		.d2-848158414 .stroke-AB5{stroke:#F7F8FE;}
		.d2-848158414 .background-color-N1{background-color:#0A0F25;}
		.d2-848158414 .background-color-N2{background-color:#676C7E;}
		.d2-848158414 .background-color-N3{background-color:#9499AB;}
		.d2-848158414 .background-color-N4{background-color:#CFD2DD;}
		.d2-848158414 .background-color-N5{background-color:#DEE1EB;}
		.d2-848158414 .background-color-N6{background-color:#EEF1F8;}
		.d2-848158414 .background-color-N7{background-color:#FFFFFF;}
		.d2-848158414 .background-color-B1{background-color:#0D32B2;}
		.d2-848158414 .background-color-B2{background-color:#0D32B2;}
		.d2-848158414 .background-color-B3{background-color:#E3E9FD;}
		.d2-848158414 .background-color-B4{background-color:#E3E9FD;}
		.d2-848158414 .background-color-B5{background-color:#EDF0FD;}
		.d2-848158414 .background-color-B6{background-color:#F7F8FE;}
		.d2-848158414 .background-color-AA2{background-color:#4A6FF3;}
		.d2-848158414 .background-color-AA4{background-color:#EDF0FD;}
		.d2-848158414 .background-color-AA5{background-color:#F7F8FE;}
		.d2-848158414 .background-color-AB4{background-color:#EDF0FD;}
		.d2-848158414 .background-color-AB5{background-color:#F7F8FE;}
		.d2-848158414 .color-N1{color:#0A0F25;}
		.d2-848158414 .color-N2{color:#676C7E;}
		.d2-848158414 .color-N3{color:#9499AB;}
		.d2-848158414 .color-N4{color:#CFD2DD;}
		.d2-848158414 .color-N5{color:#DEE1EB;}
		.d2-848158414 .color-N6{color:#EEF1F8;}
		.d2-848158414 .color-N7{color:#FFFFFF;}
		.d2-848158414 .color-B1{color:#0D32B2;}
		.d2-848158414 .color-B2{color:#0D32B2;}
		.d2-848158414 .color-B3{color:#E3E9FD;}
		.d2-848158414 .color-B4{color:#E3E9FD;}
		.d2-848158414 .color-B5{color:#EDF0FD;}
		.d2-848158414 .color-B6{color:#F7F8FE;}
		.d2-848158414 .color-AA2{color:#4A6FF3;}
		.d2-848158414 .color-AA4{color:#EDF0FD;}
		.d2-848158414 .color-AA5{color:#F7F8FE;}
		.d2-848158414 .color-AB4{color:#EDF0FD;}
		.d2-848158414 .color-AB5{color:#F7F8FE;}.appendix text.text{fill:#0A0F25}.md{--color-fg-default:#0A0F25;--color-fg-muted:#676C7E;--color-fg-subtle:#9499AB;--color-canvas-default:#FFFFFF;--color-canvas-subtle:#EEF1F8;--color-border-default:#0D32B2;--color-border-muted:#0D32B2;--color-neutral-muted:#EEF1F8;--color-accent-fg:#0D32B2;--color-accent-emphasis:#0D32B2;--color-attention-subtle:#676C7E;--color-danger-fg:red;}.sketch-overlay-B1{fill:url(#streaks-darker);mix-blend-mode:lighten}.sketch-overlay-B2{fill:url(#streaks-darker);mix-blend-mode:lighten}.sketch-overlay-B3{fill:url(#streaks-bright);mix-blend-mode:darken}.sketch-overlay-B4{fill:url(#streaks-bright);mix-blend-mode:darken}.sketch-overlay-B5{fill:url(#streaks-bright);mix-blend-mode:darken}.sketch-overlay-B6{fill:url(#streaks-bright);mix-blend-mode:darken}.sketch-overlay-AA2{fill:url(#streaks-dark);mix-blend-mode:overlay}.sketch-overlay-AA4{fill:url(#streaks-bright);mix-blend-mode:darken}.sketch-overlay-AA5{fill:url(#streaks-bright);mix-blend-mode:darken}.sketch-overlay-AB4{fill:url(#streaks-bright);mix-blend-mode:darken}.sketch-overlay-AB5{fill:url(#streaks-bright);mix-blend-mode:darken}.sketch-overlay-N1{fill:url(#streaks-darker);mix-blend-mode:lighten}.sketch-overlay-N2{fill:url(#streaks-dark);mix-blend-mode:overlay}.sketch-overlay-N3{fill:url(#streaks-normal);mix-blend-mode:color-burn}.sketch-overlay-N4{fill:url(#streaks-normal);mix-blend-mode:color-burn}.sketch-overlay-N5{fill:url(#streaks-bright);mix-blend-mode:darken}.sketch-overlay-N6{fill:url(#streaks-bright);mix-blend-mode:darken}.sketch-overlay-N7{fill:url(#streaks-bright);mix-blend-mode:darken}.light-code{display: block}.dark-code{display: none}]]></style><g id="eIDAS"><g class="shape" ><rect x="656.000000" y="0.000000" width="239.000000" height="118.000000" fill="transparent" class=" stroke-B1" style="stroke-width:2;" /></g><image href="images/eu_trust_mark.jpg" x="746.000000" y="29.500000" width="59" height="59" /><text x="775.500000" y="21.000000" class="text-bold fill-N1" style="text-anchor:middle;font-size:16px">eIDAS Trust Framework</text></g><g id="DE_TL"><g class="shape" ><rect x="291.000000" y="218.000000" width="197.000000" height="66.000000" class=" stroke-B1 fill-B6" style="stroke-width:2;" /></g><text x="389.500000" y="256.500000" class="text-bold fill-N1" style="text-anchor:middle;font-size:16px">Germany Trusted List</text></g><g id="RealTruth" class="participant"><g class="shape" ><rect x="0.000000" y="425.000000" width="540.000000" height="172.000000" fill="aqua" class=" stroke-B1" style="stroke-width:2;" /></g><text x="270.000000" y="412.000000" class="text fill-N1" style="text-anchor:middle;font-size:28px">RealTruth TSP</text></g><g id="OtherG" class="multiple"><g class="shape" ><rect x="571.000000" y="415.000000" width="366.000000" height="172.000000" class=" stroke-B1 fill-B4" style="stroke-width:2;" /><rect x="561.000000" y="425.000000" width="366.000000" height="172.000000" class=" stroke-B1 fill-B4" style="stroke-width:2;" /></g><text x="744.000000" y="412.000000" class="text fill-N1" style="text-anchor:middle;font-size:28px">Other TSPs</text></g><g id="Other_Countries" class="multiple"><g class="shape" ><rect x="1156.000000" y="208.000000" width="181.000000" height="66.000000" fill="transparent" class=" stroke-B1" style="stroke-width:2;" /><rect x="1146.000000" y="218.000000" width="181.000000" height="66.000000" fill="transparent" class=" stroke-B1" style="stroke-width:2;" /></g><text x="1236.500000" y="256.500000" class="text-bold fill-N1" style="text-anchor:middle;font-size:16px">Other Trusted Lists</text></g><g id="TSP1"><g class="shape" ><rect x="947.000000" y="425.000000" width="366.000000" height="172.000000" class=" stroke-B1 fill-B4" style="stroke-width:2;" /></g><text x="1130.000000" y="412.000000" class="text fill-N1" style="text-anchor:middle;font-size:28px">TSP1</text></g><g id="TSPn"><g class="shape" ><rect x="1333.000000" y="425.000000" width="366.000000" height="172.000000" class=" stroke-B1 fill-B4" style="stroke-width:2;" /></g><text x="1516.000000" y="412.000000" class="text fill-N1" style="text-anchor:middle;font-size:28px">TSPn</text></g><g id="GoodAir" class="participant"><g class="shape" ><rect x="45.000000" y="776.000000" width="428.000000" height="329.000000" fill="aqua" class=" stroke-B1" style="stroke-width:2;" /></g><text x="259.000000" y="763.000000" class="text fill-N1" style="text-anchor:middle;font-size:28px">GoodAir</text></g><g id="RealTruth.Seal"><g class="shape" ><ellipse rx="82.000000" ry="43.000000" cx="122.000000" cy="511.000000" class="shape stroke-B1 fill-B5" style="stroke-width:2;" /></g><text x="122.000000" y="508.500000" class="text-bold fill-N1" style="text-anchor:middle;font-size:16px"><tspan x="122.000000" dy="0.000000">Certificate</tspan><tspan x="122.000000" dy="18.500000">for seal</tspan></text></g><g id="RealTruth.Sign"><g class="shape" ><ellipse rx="95.000000" ry="41.000000" cx="406.000000" cy="511.000000" class="shape stroke-B1 fill-B5" style="stroke-width:2;" /></g><text x="406.000000" y="508.500000" class="text-bold fill-N1" style="text-anchor:middle;font-size:16px"><tspan x="406.000000" dy="0.000000">Certificate</tspan><tspan x="406.000000" dy="18.500000">for signature</tspan></text></g><g id="OtherG.S3"><g class="shape" ><ellipse rx="56.500000" ry="56.500000" cx="657.500000" cy="510.500000" class="shape stroke-B1 fill-B5" style="stroke-width:2;" /></g><text x="657.500000" y="508.000000" class="text-bold fill-N1" style="text-anchor:middle;font-size:16px"><tspan x="657.500000" dy="0.000000">Cert</tspan><tspan x="657.500000" dy="18.500000">for Sign</tspan></text></g><g id="OtherG.S4"><g class="shape" ><ellipse rx="56.500000" ry="56.500000" cx="830.500000" cy="510.500000" class="shape stroke-B1 fill-B5" style="stroke-width:2;" /></g><text x="830.500000" y="508.000000" class="text-bold fill-N1" style="text-anchor:middle;font-size:16px"><tspan x="830.500000" dy="0.000000">Cert</tspan><tspan x="830.500000" dy="18.500000">for Seal</tspan></text></g><g id="TSP1.S1"><g class="shape" ><ellipse rx="56.500000" ry="56.500000" cx="1043.500000" cy="510.500000" class="shape stroke-B1 fill-B5" style="stroke-width:2;" /></g><text x="1043.500000" y="508.000000" class="text-bold fill-N1" style="text-anchor:middle;font-size:16px"><tspan x="1043.500000" dy="0.000000">Cert</tspan><tspan x="1043.500000" dy="18.500000">for Sign</tspan></text></g><g id="TSP1.S2"><g class="shape" ><ellipse rx="56.500000" ry="56.500000" cx="1216.500000" cy="510.500000" class="shape stroke-B1 fill-B5" style="stroke-width:2;" /></g><text x="1216.500000" y="508.000000" class="text-bold fill-N1" style="text-anchor:middle;font-size:16px"><tspan x="1216.500000" dy="0.000000">Cert</tspan><tspan x="1216.500000" dy="18.500000">for Seal</tspan></text></g><g id="TSPn.S3"><g class="shape" ><ellipse rx="56.500000" ry="56.500000" cx="1429.500000" cy="510.500000" class="shape stroke-B1 fill-B5" style="stroke-width:2;" /></g><text x="1429.500000" y="508.000000" class="text-bold fill-N1" style="text-anchor:middle;font-size:16px"><tspan x="1429.500000" dy="0.000000">Cert</tspan><tspan x="1429.500000" dy="18.500000">for Sign</tspan></text></g><g id="TSPn.S4"><g class="shape" ><ellipse rx="56.500000" ry="56.500000" cx="1602.500000" cy="510.500000" class="shape stroke-B1 fill-B5" style="stroke-width:2;" /></g><text x="1602.500000" y="508.000000" class="text-bold fill-N1" style="text-anchor:middle;font-size:16px"><tspan x="1602.500000" dy="0.000000">Cert</tspan><tspan x="1602.500000" dy="18.500000">for Seal</tspan></text></g><g id="GoodAir.COO"><g class="shape" ><rect x="225.000000" y="805.000000" width="77.000000" height="66.000000" class=" stroke-B1 fill-B5" style="stroke-width:2;" /></g><text x="263.500000" y="843.500000" class="text-bold fill-N1" style="text-anchor:middle;font-size:16px">COO</text></g><g id="GoodAir.Employee"><g class="shape" ><rect x="207.000000" y="1009.000000" width="114.000000" height="66.000000" class=" stroke-B1 fill-B5" style="stroke-width:2;" /></g><text x="264.000000" y="1047.500000" class="text-bold fill-N1" style="text-anchor:middle;font-size:16px">Employee</text></g><g id="(DE_TL -&gt; RealTruth)[0]"><marker id="mk-3488378134" markerWidth="10.000000" markerHeight="12.000000" refX="7.000000" refY="6.000000" viewBox="0.000000 0.000000 10.000000 12.000000" orient="auto" markerUnits="userSpaceOnUse"> <polygon points="0.000000,0.000000 10.000000,6.000000 0.000000,12.000000" class="connection fill-B1" stroke-width="2" /> </marker><path d="M 289.089837 282.155303 C 155.800000 323.512523 122.000000 352.200000 122.000000 421.000000" fill="none" class="connection stroke-B1" style="stroke-width:2;" marker-end="url(#mk-3488378134)" mask="url(#d2-848158414)" /></g><g id="(DE_TL -&gt; OtherG)[0]"><path d="M 489.910163 282.155303 C 623.200000 323.512523 657.000000 352.200000 657.000000 421.000000" fill="none" class="connection stroke-B1" style="stroke-width:2;" marker-end="url(#mk-3488378134)" mask="url(#d2-848158414)" /></g><g id="(eIDAS -&gt; DE_TL)[0]"><path d="M 654.075268 93.288331 C 442.800000 152.948964 389.500000 178.000000 389.500000 214.000000" fill="none" class="connection stroke-B1" style="stroke-width:2;" marker-end="url(#mk-3488378134)" mask="url(#d2-848158414)" /></g><g id="(eIDAS -&gt; Other_Countries)[0]"><path d="M 896.946223 87.746229 C 1167.800000 151.857112 1236.000000 178.000000 1236.000000 214.000000" fill="none" class="connection stroke-B1" style="stroke-width:2;" marker-end="url(#mk-3488378134)" mask="url(#d2-848158414)" /></g><g id="(RealTruth.Seal -&gt; GoodAir)[0]"><path d="M 122.000000 557.000000 C 122.000000 588.600000 122.000000 688.000000 122.000000 772.000000" fill="none" class="connection stroke-B1" style="stroke-width:2;" marker-end="url(#mk-3488378134)" mask="url(#d2-848158414)" /><text x="122.000000" y="677.000000" class="text-italic fill-N2" style="text-anchor:middle;font-size:30px">Issue Cert for Seals</text></g><g id="(RealTruth.Sign -&gt; GoodAir.COO)[0]"><path d="M 405.977779 553.999877 C 405.600000 588.000000 405.500000 610.800000 405.500000 631.500000 C 405.500000 652.200000 384.850000 751.191358 305.397763 813.488676" fill="none" class="connection stroke-B1" style="stroke-width:2;" marker-end="url(#mk-3488378134)" mask="url(#d2-848158414)" /><text x="394.500000" y="715.000000" class="text-italic fill-N2" style="text-anchor:middle;font-size:30px">Issue Cert for Signatures</text></g><g id="(Other_Countries -&gt; TSP1)[0]"><path d="M 1157.427756 284.790136 C 1066.253012 324.000000 1043.000000 352.200000 1043.000000 421.000000" fill="none" class="connection stroke-B1" style="stroke-width:2;" marker-end="url(#mk-3488378134)" mask="url(#d2-848158414)" /></g><g id="(Other_Countries -&gt; TSPn)[0]"><path d="M 1314.572244 284.790136 C 1405.746988 324.000000 1429.000000 352.200000 1429.000000 421.000000" fill="none" class="connection stroke-B1" style="stroke-width:2;" marker-end="url(#mk-3488378134)" mask="url(#d2-848158414)" /></g><g id="GoodAir.(COO -&gt; Employee)[0]"><path d="M 263.750000 873.500000 C 263.750000 926.700000 263.750000 954.300000 263.750000 1005.500000" fill="none" class="connection stroke-B1" style="stroke-width:2;" marker-end="url(#mk-3488378134)" mask="url(#d2-848158414)" /><text x="263.500000" y="952.000000" class="text-italic fill-N2" style="text-anchor:middle;font-size:30px">LEARCredential</text></g><mask id="d2-848158414" maskUnits="userSpaceOnUse" x="-101" y="-101" width="1901" height="1307">
<rect x="-101" y="-101" width="1901" height="1307" fill="white"></rect>
<rect x="7.000000" y="647.000000" width="230" height="38" fill="black"></rect>
<rect x="246.000000" y="685.000000" width="297" height="38" fill="black"></rect>
<rect x="169.000000" y="922.000000" width="189" height="38" fill="black"></rect>
</mask></svg></svg>

    <section id='participant'><h2>GoodAir: the company that wants to perform the process</h2>

        <p>The new participant is a business providing an Air Quality Monitoring application as a service. The business is called GoodAir and it operates the application, which receives data from a set of sensors that may or may not be the property of GoodAir. The sensors must have received a certification to be able to operate and send data to the GoodAir application.
        </p>
        <p>The company is registered in the tax agency and business registry of Spain with VAT number <b>VATES-12345678</b>.
        </p>
    </section>


    <section><h2>COO (Chief Operating Officer) of GoodAir</h2>

        <p>The GoodAir company is small and the only person that can sign contracts on behalf of the company is the COO (Chief Operating Officer). The COO is a legal representative of the company and she is registered as so in the business registry of Spain.
        </p>
        <p>The COO has a certificate for electronic signatures issued by one of the TSPs in Spain enabling the COO to perform electronic qualified signatures as legal representative of GoodAir, instead of doing them manually.
        </p>
        <p>The X.509 certificate of the COO has the following contents in the <code>Subject</code> field (the example below is derived from a real certificate but with the identifiers modified to be an example):
        </p>

<pre class="nohighlight" style="color:#f8f8f2;background-color:#282a36;"><code><span style="display:flex;"><span><span style="color:#50fa7b">cn</span> <span style="color:#ff79c6">=</span> <span style="color:#f1fa8c">56565656V Jesus Ruiz</span>
</span></span><span style="display:flex;"><span><span style="color:#50fa7b">serialNumber</span> <span style="color:#ff79c6">=</span> <span style="color:#f1fa8c">56565656V</span>
</span></span><span style="display:flex;"><span><span style="color:#50fa7b">givenName</span> <span style="color:#ff79c6">=</span> <span style="color:#f1fa8c">Jesus</span>
</span></span><span style="display:flex;"><span><span style="color:#50fa7b">sn</span> <span style="color:#ff79c6">=</span> <span style="color:#f1fa8c">Ruiz</span>
</span></span><span style="display:flex;"><span><span style="color:#50fa7b">2.5.4.97</span> <span style="color:#ff79c6">=</span> <span style="color:#f1fa8c">VATES-12345678</span>
</span></span><span style="display:flex;"><span><span style="color:#50fa7b">o</span> <span style="color:#ff79c6">=</span> <span style="color:#f1fa8c">GoodAir</span>
</span></span><span style="display:flex;"><span><span style="color:#50fa7b">c</span> <span style="color:#ff79c6">=</span> <span style="color:#f1fa8c">ES</span>
</span></span><span style="display:flex;"><span><span style="color:#50fa7b">2.5.4.13</span> <span style="color:#ff79c6">=</span> <span style="color:#f1fa8c">Notary:Juan Lopez/Protocol Num:7172/Date:07-06-2021</span>
</span></span></code></pre>
        <p>The above set of fields bind the legal identity of the COO with the identity of the business:
        </p>
        <ul>
            <li id='list_349.1'><code>serialNumber</code> is the unique number recognized by the Spanish Government for spanish citizens (called NIF).            </li>
            <li id='list_349.2'><code>2.5.4.97</code> is the <a href="https://oidref.com/2.5.4.97">official OID for <code>organizationIdentifier</code></a>. The contents of this field in the example certificate is the unique identifier for the legal person GoodAir.            </li>
        </ul>

        <p>Before issuing a certificate like the above, the TSP has to perform some validations to ensure that in the official source of truth (the business registry of Spain in this case) there is already registered information that states that the COO has indeed powers to act on behalf of GoodAir as a legal representative.
        </p>
    </section>


    <section><h2>RealTruth: a Trust Service Provider</h2>

        <p>RealTruth is an EU TSP, which appears in the TL (Trusted List) maintained by the <a href="https://tl.bundesnetzagentur.de/TL-DE.XML">German Government</a>.
        </p>
        <p>RealTruth is a TSP based in Germany but operates in most of the countries of the EU and so being able to provide Trust Services across many countries, including Spain.
        </p>
        <p>As all TSPs in the TLs of the Member States, its entry in the TL includes one or more "Services" entries which describe the Trust Services provided by the TSP.
        </p>
        <p>A TSP can have one Service issuing certificates for signatures, another service issuing certificates for seals, another service for timestamping, etc.
        </p>
        <p>The regulator approves or suspends each service from a TSP individually, and the services are the root anchor for a given trust environment.
        </p>
        <p>In our case, the entry for RealTruth in the TL includes a `&ltTSPService&gt` entry, and inside it the `&ltServiceDigitalIdentity&gt` entry includes a DER-encoded certificate specifying the digital identity of the root anchor for that trust domain. The certificate for the Service has in the Subject field:
        </p>

<pre class="nohighlight" style="color:#f8f8f2;background-color:#282a36;"><code><span style="display:flex;"><span><span style="color:#50fa7b">2.5.4.97</span> <span style="color:#ff79c6">=</span> <span style="color:#f1fa8c">VATDE-170173453</span>
</span></span><span style="display:flex;"><span><span style="color:#50fa7b">CN</span> <span style="color:#ff79c6">=</span> <span style="color:#f1fa8c">DRV QC 11 MA CA 2017ca</span>
</span></span><span style="display:flex;"><span><span style="color:#50fa7b">OU</span> <span style="color:#ff79c6">=</span> <span style="color:#f1fa8c">QC 11 Mitarbeiter CA</span>
</span></span><span style="display:flex;"><span><span style="color:#50fa7b">O</span> <span style="color:#ff79c6">=</span> <span style="color:#f1fa8c">Deutsche Rentenversicherung Westfalen</span>
</span></span><span style="display:flex;"><span><span style="color:#50fa7b">C</span> <span style="color:#ff79c6">=</span> <span style="color:#f1fa8c">DE</span>
</span></span></code></pre>
        <p>Which in the <code>organizationIdentifier</code> field (OID 2.5.4.97) specifies the unique organisation identifier assigned by the German regulatory authority to the TSP: VATDE-170173453.
        </p>
        <p>RealTruth provides `Legal Person Representative Certificates` which are qualified in accordance with Regulation (EU) No. 910/2014 of the European Parliament and of the Council of 23 July 2014 on electronic identification and trust services for electronic transactions in the internal market.
        </p>
        <p>The certification policies of RealTruth includes the following sentences:
        </p>

        <blockquote>
            <p>The Registration Authority must verify the following information in order to authenticate the identity of the organisation:
            </p>
            <ul>
                <li id='list_385.1'>The data concerning the business name or corporate name of the organisation.                </li>
                <li id='list_385.2'>The data relating to the constitution and legal status of the subscriber.                </li>
                <li id='list_385.3'><b>The data concerning the extent and validity of the powers of representation of the applicant.</b>                </li>
                <li id='list_385.4'>The data concerning the tax identification code of the organisation or equivalent code used in the country to whose legislation the subscriber is subject.                </li>
            </ul>

        </blockquote>

        <p>The TSP (RealTruth in this case) performs the verifications against `Authentic Sources`.
        </p>

        <blockquote>
            <p>Authentic Sources are the public or private repositories or systems recognised or required by law containing attributes about a natural or legal persons.
            </p>
            <p>The Authentic Sources in scope of Annex VI of the [eIDAS2] legislative proposal are sources for attributes on address, age, gender, civil status, family composition, nationality, education and training qualifications titles and licences, professional qualifications titles and licences, public permits and licences, financial and company data.
            </p>
            <p>Authentic Sources in scope of Annex VI are required to provide interfaces to Qualified Electronic Attestation of Attributes  (QEAA) Providers to verify the authenticity of the above attributes, either directly or via designated intermediaries recognised at national level.
            </p>
            <p>Authentic Sources may also issue (Q)EAA-s themselves if they meet the requirements of the eIDAS Regulation. It is up to the Member States to define terms and conditions for the provisioning of these services, but according to the minimum technical specifications, standards, and procedures applicable to the verification procedures for qualified electronic attestations of attributes.
            </p>
        </blockquote>

<!-- Original D2 diagram definition
    shape: sequence_diagram
    # Definition of the participants
    COO: COO of GoodAir {
        icon: https://icons.terrastruct.com/essentials%2F365-user.svg
    }
    TSP: Trust Service Provider {
        icon: https://icons.terrastruct.com/azure%2FWeb%20Service%20Color%2FApp%20Service%20Certificates.svg
    }
    registry: Authentic Sources {
        icon: https://icons.terrastruct.com/azure%2FIntegration%20Service%20Color%2FAzure%20Data%20Catalog.svg
    }
    COO -> TSP: Request a\ncertificate for signatures
    Verification {
        TSP."Data about the legal status of the company and powers of representation of the applicant"
        TSP <-> registry: Verify trusted data
    }
    TSP -> COO: Provide certificate for signature
 -->

<?xml version="1.0" encoding="utf-8"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" d2Version="v0.4.0-HEAD" preserveAspectRatio="xMinYMin meet" viewBox="0 0 1107 774"><svg id="d2-svg" class="d2-3874316800" width="1107" height="774" viewBox="-89 -49 1107 774"><rect x="-89.000000" y="-49.000000" width="1107.000000" height="774.000000" rx="0.000000" class=" fill-N7" stroke-width="0" /><style type="text/css"><![CDATA[
.d2-3874316800 .text {
	font-family: "d2-3874316800-font-regular";
}
@font-face {
	font-family: d2-3874316800-font-regular;
	src: url("data:application/font-woff;base64,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");
}
.d2-3874316800 .text-italic {
	font-family: "d2-3874316800-font-italic";
}
@font-face {
	font-family: d2-3874316800-font-italic;
	src: url("data:application/font-woff;base64,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");
}]]></style><style type="text/css"><![CDATA[.shape {
  shape-rendering: geometricPrecision;
  stroke-linejoin: round;
}
.connection {
  stroke-linecap: round;
  stroke-linejoin: round;
}
.blend {
  mix-blend-mode: multiply;
  opacity: 0.5;
}

		.d2-3874316800 .fill-N1{fill:#0A0F25;}
		.d2-3874316800 .fill-N2{fill:#676C7E;}
		.d2-3874316800 .fill-N3{fill:#9499AB;}
		.d2-3874316800 .fill-N4{fill:#CFD2DD;}
		.d2-3874316800 .fill-N5{fill:#DEE1EB;}
		.d2-3874316800 .fill-N6{fill:#EEF1F8;}
		.d2-3874316800 .fill-N7{fill:#FFFFFF;}
		.d2-3874316800 .fill-B1{fill:#0D32B2;}
		.d2-3874316800 .fill-B2{fill:#0D32B2;}
		.d2-3874316800 .fill-B3{fill:#E3E9FD;}
		.d2-3874316800 .fill-B4{fill:#E3E9FD;}
		.d2-3874316800 .fill-B5{fill:#EDF0FD;}
		.d2-3874316800 .fill-B6{fill:#F7F8FE;}
		.d2-3874316800 .fill-AA2{fill:#4A6FF3;}
		.d2-3874316800 .fill-AA4{fill:#EDF0FD;}
		.d2-3874316800 .fill-AA5{fill:#F7F8FE;}
		.d2-3874316800 .fill-AB4{fill:#EDF0FD;}
		.d2-3874316800 .fill-AB5{fill:#F7F8FE;}
		.d2-3874316800 .stroke-N1{stroke:#0A0F25;}
		.d2-3874316800 .stroke-N2{stroke:#676C7E;}
		.d2-3874316800 .stroke-N3{stroke:#9499AB;}
		.d2-3874316800 .stroke-N4{stroke:#CFD2DD;}
		.d2-3874316800 .stroke-N5{stroke:#DEE1EB;}
		.d2-3874316800 .stroke-N6{stroke:#EEF1F8;}
		.d2-3874316800 .stroke-N7{stroke:#FFFFFF;}
		.d2-3874316800 .stroke-B1{stroke:#0D32B2;}
		.d2-3874316800 .stroke-B2{stroke:#0D32B2;}
		.d2-3874316800 .stroke-B3{stroke:#E3E9FD;}
		.d2-3874316800 .stroke-B4{stroke:#E3E9FD;}
		.d2-3874316800 .stroke-B5{stroke:#EDF0FD;}
		.d2-3874316800 .stroke-B6{stroke:#F7F8FE;}
		.d2-3874316800 .stroke-AA2{stroke:#4A6FF3;}
		.d2-3874316800 .stroke-AA4{stroke:#EDF0FD;}
		.d2-3874316800 .stroke-AA5{stroke:#F7F8FE;}
		.d2-3874316800 .stroke-AB4{stroke:#EDF0FD;}
		.d2-3874316800 .stroke-AB5{stroke:#F7F8FE;}
		.d2-3874316800 .background-color-N1{background-color:#0A0F25;}
		.d2-3874316800 .background-color-N2{background-color:#676C7E;}
		.d2-3874316800 .background-color-N3{background-color:#9499AB;}
		.d2-3874316800 .background-color-N4{background-color:#CFD2DD;}
		.d2-3874316800 .background-color-N5{background-color:#DEE1EB;}
		.d2-3874316800 .background-color-N6{background-color:#EEF1F8;}
		.d2-3874316800 .background-color-N7{background-color:#FFFFFF;}
		.d2-3874316800 .background-color-B1{background-color:#0D32B2;}
		.d2-3874316800 .background-color-B2{background-color:#0D32B2;}
		.d2-3874316800 .background-color-B3{background-color:#E3E9FD;}
		.d2-3874316800 .background-color-B4{background-color:#E3E9FD;}
		.d2-3874316800 .background-color-B5{background-color:#EDF0FD;}
		.d2-3874316800 .background-color-B6{background-color:#F7F8FE;}
		.d2-3874316800 .background-color-AA2{background-color:#4A6FF3;}
		.d2-3874316800 .background-color-AA4{background-color:#EDF0FD;}
		.d2-3874316800 .background-color-AA5{background-color:#F7F8FE;}
		.d2-3874316800 .background-color-AB4{background-color:#EDF0FD;}
		.d2-3874316800 .background-color-AB5{background-color:#F7F8FE;}
		.d2-3874316800 .color-N1{color:#0A0F25;}
		.d2-3874316800 .color-N2{color:#676C7E;}
		.d2-3874316800 .color-N3{color:#9499AB;}
		.d2-3874316800 .color-N4{color:#CFD2DD;}
		.d2-3874316800 .color-N5{color:#DEE1EB;}
		.d2-3874316800 .color-N6{color:#EEF1F8;}
		.d2-3874316800 .color-N7{color:#FFFFFF;}
		.d2-3874316800 .color-B1{color:#0D32B2;}
		.d2-3874316800 .color-B2{color:#0D32B2;}
		.d2-3874316800 .color-B3{color:#E3E9FD;}
		.d2-3874316800 .color-B4{color:#E3E9FD;}
		.d2-3874316800 .color-B5{color:#EDF0FD;}
		.d2-3874316800 .color-B6{color:#F7F8FE;}
		.d2-3874316800 .color-AA2{color:#4A6FF3;}
		.d2-3874316800 .color-AA4{color:#EDF0FD;}
		.d2-3874316800 .color-AA5{color:#F7F8FE;}
		.d2-3874316800 .color-AB4{color:#EDF0FD;}
		.d2-3874316800 .color-AB5{color:#F7F8FE;}.appendix text.text{fill:#0A0F25}.md{--color-fg-default:#0A0F25;--color-fg-muted:#676C7E;--color-fg-subtle:#9499AB;--color-canvas-default:#FFFFFF;--color-canvas-subtle:#EEF1F8;--color-border-default:#0D32B2;--color-border-muted:#0D32B2;--color-neutral-muted:#EEF1F8;--color-accent-fg:#0D32B2;--color-accent-emphasis:#0D32B2;--color-attention-subtle:#676C7E;--color-danger-fg:red;}.sketch-overlay-B1{fill:url(#streaks-darker);mix-blend-mode:lighten}.sketch-overlay-B2{fill:url(#streaks-darker);mix-blend-mode:lighten}.sketch-overlay-B3{fill:url(#streaks-bright);mix-blend-mode:darken}.sketch-overlay-B4{fill:url(#streaks-bright);mix-blend-mode:darken}.sketch-overlay-B5{fill:url(#streaks-bright);mix-blend-mode:darken}.sketch-overlay-B6{fill:url(#streaks-bright);mix-blend-mode:darken}.sketch-overlay-AA2{fill:url(#streaks-dark);mix-blend-mode:overlay}.sketch-overlay-AA4{fill:url(#streaks-bright);mix-blend-mode:darken}.sketch-overlay-AA5{fill:url(#streaks-bright);mix-blend-mode:darken}.sketch-overlay-AB4{fill:url(#streaks-bright);mix-blend-mode:darken}.sketch-overlay-AB5{fill:url(#streaks-bright);mix-blend-mode:darken}.sketch-overlay-N1{fill:url(#streaks-darker);mix-blend-mode:lighten}.sketch-overlay-N2{fill:url(#streaks-dark);mix-blend-mode:overlay}.sketch-overlay-N3{fill:url(#streaks-normal);mix-blend-mode:color-burn}.sketch-overlay-N4{fill:url(#streaks-normal);mix-blend-mode:color-burn}.sketch-overlay-N5{fill:url(#streaks-bright);mix-blend-mode:darken}.sketch-overlay-N6{fill:url(#streaks-bright);mix-blend-mode:darken}.sketch-overlay-N7{fill:url(#streaks-bright);mix-blend-mode:darken}.light-code{display: block}.dark-code{display: none}]]></style><g id="COO"><g class="shape" ><rect x="12.000000" y="52.000000" width="176.000000" height="92.000000" class=" stroke-B1 fill-B5" style="stroke-width:2;" /></g><image href="https://icons.terrastruct.com/essentials%2F365-user.svg" x="12.000000" y="52.000000" width="46" height="46" /><text x="100.000000" y="103.500000" class="text fill-N1" style="text-anchor:middle;font-size:16px">COO of GoodAir</text></g><g id="TSP"><g class="shape" ><rect x="351.000000" y="52.000000" width="219.000000" height="92.000000" class=" stroke-B1 fill-B5" style="stroke-width:2;" /></g><image href="https://icons.terrastruct.com/azure%2FWeb%20Service%20Color%2FApp%20Service%20Certificates.svg" x="351.000000" y="52.000000" width="46" height="46" /><text x="460.500000" y="103.500000" class="text fill-N1" style="text-anchor:middle;font-size:16px">Trust Service Provider</text></g><g id="registry"><g class="shape" ><rect x="724.000000" y="52.000000" width="193.000000" height="92.000000" class=" stroke-B1 fill-B5" style="stroke-width:2;" /></g><image href="https://icons.terrastruct.com/azure%2FIntegration%20Service%20Color%2FAzure%20Data%20Catalog.svg" x="724.000000" y="52.000000" width="46" height="46" /><text x="820.500000" y="103.500000" class="text fill-N1" style="text-anchor:middle;font-size:16px">Authentic Sources</text></g><g id="(COO -- )[0]"><path d="M 100.000000 146.000000 L 100.000000 623.000000" fill="none" class="connection stroke-B2" style="stroke-width:2;stroke-dasharray:12.000000,11.838767;" mask="url(#d2-3874316800)" /></g><g id="(TSP -- )[0]"><path d="M 460.500000 146.000000 L 460.500000 623.000000" fill="none" class="connection stroke-B2" style="stroke-width:2;stroke-dasharray:12.000000,11.838767;" mask="url(#d2-3874316800)" /></g><g id="(registry -- )[0]"><path d="M 820.500000 146.000000 L 820.500000 623.000000" fill="none" class="connection stroke-B2" style="stroke-width:2;stroke-dasharray:12.000000,11.838767;" mask="url(#d2-3874316800)" /></g><g id="Verification"><g class="shape blend" ><rect x="100.000000" y="283.000000" width="760.000000" height="202.000000" class=" stroke-B1 fill-N5" style="stroke-width:0;" /></g><rect x="105.000000" y="288.000000" width="76.000000" height="21.000000" class=" fill-N5" /><text x="143.000000" y="304.000000" class="text fill-N1" style="text-anchor:middle;font-size:16px">Verification</text></g><g id="(COO -&gt; TSP)[0]"><marker id="mk-3488378134" markerWidth="10.000000" markerHeight="12.000000" refX="7.000000" refY="6.000000" viewBox="0.000000 0.000000 10.000000 12.000000" orient="auto" markerUnits="userSpaceOnUse"> <polygon points="0.000000,0.000000 10.000000,6.000000 0.000000,12.000000" class="connection fill-B1" stroke-width="2" /> </marker><path d="M 102.000000 221.000000 L 456.500000 221.000000" fill="none" class="connection stroke-B1" style="stroke-width:2;" marker-end="url(#mk-3488378134)" mask="url(#d2-3874316800)" /><text x="280.500000" y="219.000000" class="text-italic fill-N2" style="text-anchor:middle;font-size:16px"><tspan x="280.500000" dy="0.000000">Request a</tspan><tspan x="280.500000" dy="18.500000">certificate for signatures</tspan></text></g><g id="(TSP &lt;-&gt; registry)[0]"><marker id="mk-2451250203" markerWidth="10.000000" markerHeight="12.000000" refX="3.000000" refY="6.000000" viewBox="0.000000 0.000000 10.000000 12.000000" orient="auto" markerUnits="userSpaceOnUse"> <polygon points="10.000000,0.000000 0.000000,6.000000 10.000000,12.000000" class="connection fill-B1" stroke-width="2" /> </marker><path d="M 464.500000 470.000000 L 816.500000 470.000000" fill="none" class="connection stroke-B1" style="stroke-width:2;" marker-start="url(#mk-2451250203)" marker-end="url(#mk-3488378134)" mask="url(#d2-3874316800)" /><text x="640.500000" y="476.000000" class="text-italic fill-N2" style="text-anchor:middle;font-size:16px">Verify trusted data</text></g><g id="(TSP -&gt; COO)[0]"><path d="M 458.500000 547.000000 L 104.000000 547.000000" fill="none" class="connection stroke-B1" style="stroke-width:2;" marker-end="url(#mk-3488378134)" mask="url(#d2-3874316800)" /><text x="280.500000" y="553.000000" class="text-italic fill-N2" style="text-anchor:middle;font-size:16px">Provide certificate for signature</text></g><g id="TSP.Data about the legal status of the company and powers of representation of the applicant"><g class="shape" ><path d="M 141 327 H 759 C 760 327 761 327 762 328 L 779 344 C 780 345 780 346 780 347 V 393 C 780 393 780 393 780 393 H 141 C 140 393 140 393 140 393 V 328 C 140 327 140 327 141 327 Z" class=" stroke-B1 fill-N7" style="stroke-width:2;" /><path d="M 779 393 H 141 C 140 393 140 393 140 392 V 328 C 140 327 140 327 141 327 H 758 C 759 327 759 327 759 328 V 345 C 759 346 760 347 761 347 H 779 C 780 347 780 347 780 348 V 392 C 779 393 780 393 779 393 Z" class=" stroke-B1 fill-N7" style="stroke-width:2;" /></g><text x="460.000000" y="365.500000" class="text fill-N1" style="text-anchor:middle;font-size:16px">Data about the legal status of the company and powers of representation of the applicant</text></g><mask id="d2-3874316800" maskUnits="userSpaceOnUse" x="-89" y="-49" width="1107" height="774">
<rect x="-89" y="-49" width="1107" height="774" fill="white"></rect>
<rect x="105.000000" y="288.000000" width="76" height="16" fill="black"></rect>
<rect x="200.000000" y="203.000000" width="161" height="37" fill="black"></rect>
<rect x="580.000000" y="460.000000" width="121" height="21" fill="black"></rect>
<rect x="177.000000" y="537.000000" width="207" height="21" fill="black"></rect>
</mask></svg></svg>
        <p>In accordance to the policies, RealTruth made those validations when issuing the certificate to the COO, in such a way that the Relying Parties verifying the certificate can have a high level of trust in the assertion that the natural person identified in the certificate (with Spanish ID of 56565656V) is a legal representative of he GoodAir company (organizationIdentifier VATES-12345678).
        </p>
    </section>


    <section><h2>John Doe: an administrative employee of GoodAir</h2>

        <p>This is an employee of the central administration department of GoodAir, who is going to be formally nominated to manage a specific set of processes on behalf of GoodAir in the Data Space. In particular, this employee is going to be nominated as a LEAR (Legal Entity Appointed Representative).
        </p>
        <p>As its name implies, the LEAR has to be nominated by a <b>legal representative</b> of the GoodAir organisation with the necessary legal authority to commit the organisation for this type of decision. In our case, the COO of GoodAir will nominate John Doe as the LEAR of GoodAir, delegating to him the capabilities to perform some processes in the DOME portal and some other tasks in other organisations. That means that John Doe will not be empowered to perform cation snot explicitly specified in the credential.
        </p>
        <p>To perform the nomination, the COO of GoodAir (a legal representative of GoodAir) will issue a special credential to John Doe and will sign the credential with his certificate for signatures as legal representative of GoodAir. The details are described later in this document.
        </p>
    </section>


    <section><h2>DOME: an instance of a Data Space for Smart Cities</h2>

        <p>DOME is a Data Space where local governments can procure data and services from other entities that act as service providers. At the same time, the local governments can also act as data and service providers for other entities in the Data Space.
        </p>
        <p>The DOME Data Space has an portal service that allows external entities to perform some processes in an automated fashion by using Verifiable Credentials that have been issued by trusted entities. The complete Trust Framework used by DOME is composed from a series of Trust Frameworks, some managed internally using a governance model of DOME and some others managed externally but by trusted entities. At the root of the Trust Framework of DOME is the eIDAS Trust Framework and the pan-european recognized list of Trust Service Providers issuing the eIDAS compliant digital identities, in the form of certificates for signatures/seals.
        </p>
        <p>In order to participate in DOME, every legal person requires a certificate for seals or that one of its legal representatives has a certificate for signatures (or both). The DOME entity is registered in France with VAT number <b>VATFR-99999999</b>.
        </p>
    </section>

</section>


<section><h2>The LEARCredential</h2>

    <p>We use here a LEARCredential, described in detail in [[DID-ONBOARDING]], with different roles and duties embedded into the credential. The credential enables the employee (or subcontractor) to perform a specific sets of processes in the ecosystem, including interacting with other organisations in the ecosystem.
    </p>
    <p>We describe here the differences with respect to the example presented in [[DID-ONBOARDING]], to show how organisations can use LEARCredentials to enable secure, efficient, scalable and decentralised IAM (Identity and Access Management) to enable access to protected resources.
    </p>
    <p>The process of generation of the credential is the same, where the legal representative of the organisation will use his eIDAS certificate to sign the credential.
    </p>
    <p>The credential will be generated with an application that the COO will use as VC Issuer and that allows the employee to receive the credential using his credential wallet, using [[OpenID.VCI]] to achieve compliance with the EUDI Wallet ARF.
    </p>
    <p>The application enables the COO to specify the information required to create the LEARCredential, specifying the employee information and the specific type of LEARCredential. In general, there may be different instances of LEARCredentials for different purposes. One employee can have more than one LEARCredential, each having a different delegation of powers for different environments.
    </p>

    <section><h2>Claims identifying the employee</h2>

        <p>These are claims identifying the subject of the credential, the person who will act as LEAR. Each Data Space can define their own depending on their specific requirements.
        </p>
        <p>In addition, each organisation can specify their own for enabling access to its products/services. However, it is advisable to do this only when it is strictly required, and it is recommended to use a set of claims that are agreed upon by all participants in the ecosystem. This includes not only the amount of claims but also their syntax and semantics.
        </p>
        <p>An example set of claims is the following:
        </p>

<pre class="nohighlight" style="color:#f8f8f2;background-color:#282a36;"><code><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    <span style="color:#ff79c6">&#34;title&#34;</span>: <span style="color:#f1fa8c">&#34;Mr.&#34;</span>,
</span></span><span style="display:flex;"><span>    <span style="color:#ff79c6">&#34;first_name&#34;</span>: <span style="color:#f1fa8c">&#34;John&#34;</span>,
</span></span><span style="display:flex;"><span>    <span style="color:#ff79c6">&#34;last_name&#34;</span>: <span style="color:#f1fa8c">&#34;Doe&#34;</span>,
</span></span><span style="display:flex;"><span>    <span style="color:#ff79c6">&#34;gender&#34;</span>: <span style="color:#f1fa8c">&#34;M&#34;</span>,
</span></span><span style="display:flex;"><span>    <span style="color:#ff79c6">&#34;postal_address&#34;</span>: <span style="color:#f1fa8c">&#34;&#34;</span>,
</span></span><span style="display:flex;"><span>    <span style="color:#ff79c6">&#34;email&#34;</span>: <span style="color:#f1fa8c">&#34;johndoe@goodair.com&#34;</span>,
</span></span><span style="display:flex;"><span>    <span style="color:#ff79c6">&#34;telephone&#34;</span>: <span style="color:#f1fa8c">&#34;&#34;</span>,
</span></span><span style="display:flex;"><span>    <span style="color:#ff79c6">&#34;fax&#34;</span>: <span style="color:#f1fa8c">&#34;&#34;</span>,
</span></span><span style="display:flex;"><span>    <span style="color:#ff79c6">&#34;mobile_phone&#34;</span>: <span style="color:#f1fa8c">&#34;+34787426623&#34;</span>
</span></span><span style="display:flex;"><span>}
</span></span></code></pre>
    </section>


    <section><h2>DID of the employee</h2>

        <p>The identifier of the employee is generated in exactly the same way as described in [[DID-ONBOARDING]], so we will not repeat it here.
        </p>
        <p>An example could be:
        </p>

<pre class="nohighlight" style="color:#f8f8f2;background-color:#282a36;"><code><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    <span style="color:#ff79c6">&#34;id&#34;</span>: <span style="color:#f1fa8c">&#34;did:key:z6MkhaXgBZDvotDkL5257faiztiGiC2QtKLGpbnnEGta2doK&#34;</span>
</span></span><span style="display:flex;"><span>}
</span></span></code></pre>
        <p>With the DID for the employee, the set of claims identifying him would be then:
        </p>

<pre class="nohighlight" style="color:#f8f8f2;background-color:#282a36;"><code><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    <span style="color:#ff79c6">&#34;id&#34;</span>: <span style="color:#f1fa8c">&#34;did:key:z6MkhaXgBZDvotDkL5257faiztiGiC2QtKLGpbnnEGta2doK&#34;</span>,
</span></span><span style="display:flex;"><span>    <span style="color:#ff79c6">&#34;title&#34;</span>: <span style="color:#f1fa8c">&#34;Mr.&#34;</span>,
</span></span><span style="display:flex;"><span>    <span style="color:#ff79c6">&#34;first_name&#34;</span>: <span style="color:#f1fa8c">&#34;John&#34;</span>,
</span></span><span style="display:flex;"><span>    <span style="color:#ff79c6">&#34;last_name&#34;</span>: <span style="color:#f1fa8c">&#34;Doe&#34;</span>,
</span></span><span style="display:flex;"><span>    <span style="color:#ff79c6">&#34;gender&#34;</span>: <span style="color:#f1fa8c">&#34;M&#34;</span>,
</span></span><span style="display:flex;"><span>    <span style="color:#ff79c6">&#34;postal_address&#34;</span>: <span style="color:#f1fa8c">&#34;&#34;</span>,
</span></span><span style="display:flex;"><span>    <span style="color:#ff79c6">&#34;email&#34;</span>: <span style="color:#f1fa8c">&#34;johndoe@goodair.com&#34;</span>,
</span></span><span style="display:flex;"><span>    <span style="color:#ff79c6">&#34;telephone&#34;</span>: <span style="color:#f1fa8c">&#34;&#34;</span>,
</span></span><span style="display:flex;"><span>    <span style="color:#ff79c6">&#34;fax&#34;</span>: <span style="color:#f1fa8c">&#34;&#34;</span>,
</span></span><span style="display:flex;"><span>    <span style="color:#ff79c6">&#34;mobile_phone&#34;</span>: <span style="color:#f1fa8c">&#34;+34787426623&#34;</span>
</span></span><span style="display:flex;"><span>}
</span></span></code></pre>
    </section>


    <section><h2><code>legalRepresentative</code></h2>

        <p>The legal representative is the same natural person as in [[DID-ONBOARDING]], that is the COO of GoodAir, represented in the credential as:
        </p>

<pre class="nohighlight" style="color:#f8f8f2;background-color:#282a36;"><code><span style="display:flex;"><span><span style="color:#f1fa8c">&#34;legalRepresentative&#34;</span>: {
</span></span><span style="display:flex;"><span>    <span style="color:#ff79c6">&#34;cn&#34;</span>: <span style="color:#f1fa8c">&#34;56565656V Jesus Ruiz&#34;</span>,
</span></span><span style="display:flex;"><span>    <span style="color:#ff79c6">&#34;serialNumber&#34;</span>: <span style="color:#f1fa8c">&#34;56565656V&#34;</span>,
</span></span><span style="display:flex;"><span>    <span style="color:#ff79c6">&#34;organizationIdentifier&#34;</span>: <span style="color:#f1fa8c">&#34;VATES-12345678&#34;</span>,
</span></span><span style="display:flex;"><span>    <span style="color:#ff79c6">&#34;o&#34;</span>: <span style="color:#f1fa8c">&#34;GoodAir&#34;</span>,
</span></span><span style="display:flex;"><span>    <span style="color:#ff79c6">&#34;c&#34;</span>: <span style="color:#f1fa8c">&#34;ES&#34;</span>
</span></span><span style="display:flex;"><span>}
</span></span></code></pre>
    </section>


    <section><h2><code>rolesAndDuties</code> of the LEAR</h2>

        <p>The <code>rolesAndDuties</code> are specified in the same way as in [[DID-ONBOARDING]], but the contents are different depending on the specific roles that the employee will have.
        </p>
        <p>A simplistic implementation of the object inside the credential could be:
        </p>

<pre class="nohighlight" style="color:#f8f8f2;background-color:#282a36;"><code><span style="display:flex;"><span><span style="color:#f1fa8c">&#34;rolesAndDuties&#34;</span>: [
</span></span><span style="display:flex;"><span>    {
</span></span><span style="display:flex;"><span>        <span style="color:#ff79c6">&#34;type&#34;</span>: <span style="color:#f1fa8c">&#34;LEARCredential&#34;</span>,
</span></span><span style="display:flex;"><span>        <span style="color:#ff79c6">&#34;id&#34;</span>: <span style="color:#f1fa8c">&#34;https://dome-marketplace.eu//lear/v1/6484994n4r9e990494&#34;</span>
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>]
</span></span></code></pre>
        <p>Where the last part of the url can correspond to the hash of the external linked document to ensure that any modification or tampering can be detected. The contents of that object ata that url could be:
        </p>

<pre class="nohighlight" style="color:#f8f8f2;background-color:#282a36;"><code><span style="display:flex;"><span>[
</span></span><span style="display:flex;"><span>    {
</span></span><span style="display:flex;"><span>        <span style="color:#ff79c6">&#34;id&#34;</span>: <span style="color:#f1fa8c">&#34;https://dome-marketplace.eu//lear/v1/6484994n4r9e990494&#34;</span>,
</span></span><span style="display:flex;"><span>        <span style="color:#ff79c6">&#34;target:&#34;</span>https:<span style="color:#6272a4">//bae.dome-marketplace.eu/&#34;
</span></span></span><span style="display:flex;"><span><span style="color:#6272a4"></span>        <span style="color:#f1fa8c">&#34;roleNames&#34;</span>: [<span style="color:#f1fa8c">&#34;seller&#34;</span>, <span style="color:#f1fa8c">&#34;customer&#34;</span>]
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>]
</span></span></code></pre>
        <p>In the above example, we have specified that the roles object referenced in the credential with `id: https://dome-marketplace.eu//lear/v1/6484994n4r9e990494` is granting the employee of GoodAir (in our example) to access services in the DOME marketplace (specified with the field <code>target</code>) with the roles <code>seller</code> and <code>customer</code> (which are the roles of the <a href="https://business-api-ecosystem.readthedocs.io/en/latest/index.html">FIWARE BAE component</a>).
        </p>
        <p>If <code>target</code> is omitted, the roles would apply to any target organisation. If we need to specify more than one target organisation, the array should include as many objects as required.
        </p>

        <aside class='note'>
            <p>The way we have specified the roles is just an example. There is work ongoing to define the detailed mechanism formally (e.g. with ODRL), and it is expected to change. This example is intended only to describe the concepts in detail.
            </p>
        </aside>

    </section>


    <section><h2>Assembling the pieces together</h2>

        <p>With the above values for the example, the complete LEARCredential would become something like this:
        </p>

<pre class="nohighlight" style="color:#f8f8f2;background-color:#282a36;"><code><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    <span style="color:#ff79c6">&#34;@context&#34;</span>: [
</span></span><span style="display:flex;"><span>        <span style="color:#f1fa8c">&#34;https://www.w3.org/2018/credentials/v1&#34;</span>,
</span></span><span style="display:flex;"><span>        <span style="color:#f1fa8c">&#34;https://dome-marketplace.eu//2022/credentials/learcredential/v1&#34;</span>
</span></span><span style="display:flex;"><span>    ],
</span></span><span style="display:flex;"><span>    <span style="color:#ff79c6">&#34;id&#34;</span>: <span style="color:#f1fa8c">&#34;urn:did:elsi:25159389-8dd17b796ac0&#34;</span>,
</span></span><span style="display:flex;"><span>    <span style="color:#ff79c6">&#34;type&#34;</span>: [<span style="color:#f1fa8c">&#34;VerifiableCredential&#34;</span>, <span style="color:#f1fa8c">&#34;LEARCredential&#34;</span>],
</span></span><span style="display:flex;"><span>    <span style="color:#ff79c6">&#34;issuer&#34;</span>: {
</span></span><span style="display:flex;"><span>        <span style="color:#ff79c6">&#34;id&#34;</span>: <span style="color:#f1fa8c">&#34;did:elsi:VATES-12345678&#34;</span>
</span></span><span style="display:flex;"><span>    },
</span></span><span style="display:flex;"><span>    <span style="color:#ff79c6">&#34;issuanceDate&#34;</span>: <span style="color:#f1fa8c">&#34;2022-03-22T14:00:00Z&#34;</span>,
</span></span><span style="display:flex;"><span>    <span style="color:#ff79c6">&#34;validFrom&#34;</span>: <span style="color:#f1fa8c">&#34;2022-03-22T14:00:00Z&#34;</span>,
</span></span><span style="display:flex;"><span>    <span style="color:#ff79c6">&#34;expirationDate&#34;</span>: <span style="color:#f1fa8c">&#34;2023-03-22T14:00:00Z&#34;</span>,
</span></span><span style="display:flex;"><span>    <span style="color:#ff79c6">&#34;credentialSubject&#34;</span>: {
</span></span><span style="display:flex;"><span>        <span style="color:#ff79c6">&#34;id&#34;</span>: <span style="color:#f1fa8c">&#34;did:key:z6MkhaXgBZDvotDkL5257faiztiGiC2QtKLGpbnnEGta2doK&#34;</span>,
</span></span><span style="display:flex;"><span>        <span style="color:#ff79c6">&#34;title&#34;</span>: <span style="color:#f1fa8c">&#34;Mr.&#34;</span>,
</span></span><span style="display:flex;"><span>        <span style="color:#ff79c6">&#34;first_name&#34;</span>: <span style="color:#f1fa8c">&#34;John&#34;</span>,
</span></span><span style="display:flex;"><span>        <span style="color:#ff79c6">&#34;last_name&#34;</span>: <span style="color:#f1fa8c">&#34;Doe&#34;</span>,
</span></span><span style="display:flex;"><span>        <span style="color:#ff79c6">&#34;gender&#34;</span>: <span style="color:#f1fa8c">&#34;M&#34;</span>,
</span></span><span style="display:flex;"><span>        <span style="color:#ff79c6">&#34;postal_address&#34;</span>: <span style="color:#f1fa8c">&#34;&#34;</span>,
</span></span><span style="display:flex;"><span>        <span style="color:#ff79c6">&#34;email&#34;</span>: <span style="color:#f1fa8c">&#34;johndoe@goodair.com&#34;</span>,
</span></span><span style="display:flex;"><span>        <span style="color:#ff79c6">&#34;telephone&#34;</span>: <span style="color:#f1fa8c">&#34;&#34;</span>,
</span></span><span style="display:flex;"><span>        <span style="color:#ff79c6">&#34;fax&#34;</span>: <span style="color:#f1fa8c">&#34;&#34;</span>,
</span></span><span style="display:flex;"><span>        <span style="color:#ff79c6">&#34;mobile_phone&#34;</span>: <span style="color:#f1fa8c">&#34;+34787426623&#34;</span>,
</span></span><span style="display:flex;"><span>        <span style="color:#ff79c6">&#34;legalRepresentative&#34;</span>: {
</span></span><span style="display:flex;"><span>            <span style="color:#ff79c6">&#34;cn&#34;</span>: <span style="color:#f1fa8c">&#34;56565656V Jesus Ruiz&#34;</span>,
</span></span><span style="display:flex;"><span>            <span style="color:#ff79c6">&#34;serialNumber&#34;</span>: <span style="color:#f1fa8c">&#34;56565656V&#34;</span>,
</span></span><span style="display:flex;"><span>            <span style="color:#ff79c6">&#34;organizationIdentifier&#34;</span>: <span style="color:#f1fa8c">&#34;VATES-12345678&#34;</span>,
</span></span><span style="display:flex;"><span>            <span style="color:#ff79c6">&#34;o&#34;</span>: <span style="color:#f1fa8c">&#34;GoodAir&#34;</span>,
</span></span><span style="display:flex;"><span>            <span style="color:#ff79c6">&#34;c&#34;</span>: <span style="color:#f1fa8c">&#34;ES&#34;</span>
</span></span><span style="display:flex;"><span>        },
</span></span><span style="display:flex;"><span>        <span style="color:#ff79c6">&#34;rolesAndDuties&#34;</span>: [
</span></span><span style="display:flex;"><span>            {
</span></span><span style="display:flex;"><span>                <span style="color:#ff79c6">&#34;type&#34;</span>: <span style="color:#f1fa8c">&#34;LEARCredential&#34;</span>,
</span></span><span style="display:flex;"><span>                <span style="color:#ff79c6">&#34;id&#34;</span>: <span style="color:#f1fa8c">&#34;https://dome-marketplace.eu//lear/v1/6484994n4r9e990494&#34;</span>
</span></span><span style="display:flex;"><span>            }
</span></span><span style="display:flex;"><span>        ]
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>}
</span></span></code></pre>
        <p>Which is virtually identical to the one described in [[DID-ONBOARDING]].
        </p>
    </section>

</section>


<section><h2>Issuing the LEARCredential</h2>


    <section><h2>Overview</h2>

        <p>The issuance process of the LEARCredential used here is exactly the same as the one described in [[DID-ONBOARDING]] so we will focus on the differences.
        </p>
    </section>


    <section><h2>Authentication</h2>

        <p>This is exactly as in [[DID-ONBOARDING]].
        </p>
    </section>


    <section><h2>Credential Offer</h2>

        <p>This is exactly as in [[DID-ONBOARDING]].
        </p>
    </section>


    <section><h2>Credential Issuer Metadata</h2>

        <p>This is exactly as in [[DID-ONBOARDING]].
        </p>
    </section>


    <section><h2>OAuth 2.0 Authorization Server Metadata</h2>

        <p>This is exactly as in [[DID-ONBOARDING]].
        </p>
    </section>


    <section><h2>Access Token</h2>

        <p>This is exactly as in [[DID-ONBOARDING]].
        </p>
    </section>


    <section><h2>Request and receive Credential</h2>

        <p>This is exactly as in [[DID-ONBOARDING]].
        </p>
    </section>

</section>


<section><h2>Authenticating with the LEARCredential</h2>


    <section><h2>Overview</h2>

    </section>

    <p>The following diagram describes the whole process of authenticating with the LEARCredential. Each of the steps of the process indicated by the grey boxes are described in more detail in the sections below.
    </p>
<!-- Original D2 diagram definition
    shape: sequence_diagram
    # Definition of the participants
    user: John Doe {
        icon: https://icons.terrastruct.com/essentials%2F365-user.svg
    }
    mobile: Webapp {
        icon: https://icons.terrastruct.com/tech%2F052-smartphone-3.svg
    }
    browser: Laptop {
        icon: https://icons.terrastruct.com/tech%2Fbrowser-2.svg
    }
    portal: Portal {
        icon: https://icons.terrastruct.com/azure%2FIntegration%20Service%20Color%2FSoftware%20as%20a%20Service%20%28SaaS%29.svg
    }
    verifier: VC Verifier {
        icon: https://icons.terrastruct.com/azure%2FSecurity%20Service%20Color%2FSecurity%20Center.svg
    }
    # ==================================================
    Starting the OpenID for Verifiable Presentations flow {
        # (1) The user (GoodAir employee) uses his Laptop browser to access the DOME portal to perform the onboarding process.
        user -> browser: (1) Access DOM portal {
            style.stroke-dash: 5
        }
        # (2) The browser sends a request to the Packet Delivery portal server.
        browser -> portal.t: (2) Access DOM portal
        # (3) The portal redirects the user to the login page of the Verifier component of DOME Onboarding. The page shows a button labelled “Login with Verifiable Credentials” or something similar.
        portal.t -> browser.t: (3) HTTP 302 (redirect)
        browser.t -> verifier.t: (3) Access Login page
        # (4) The Verifier generates a QR code, containing inside the URL of the `/authentication-requests` endpoint of the Verifier component which will be used to start the [[OpenID.VP]] process.
        verifier.t -> verifier.t: (4) Generate QR code
        verifier.t -> browser: (5) Display QR code
        # (6) The user starts the scan with the wallet
        user -> mobile.t: (6) Start QR scan {
            style.stroke-dash: 5
        }
        browser -> mobile.t: (6) Scan QR code {
            style.stroke-dash: 5
        }
        # (7) After confirmation by the user, the wallet performs a ` GET /authentication-requests` endpoint that was inside the QR code. The reply to the GET request is an Authorization Request
        mobile.t -> verifier.ar: (7) GET /authentication-requests
    }
    Generating the Authorization Request {
        verifier.ar -> verifier.ar: (8) Create Authorization Request
        verifier.ar -> mobile.var: (9) Reply with Authorization Request
    }
    Verification of the Authorization Request {
        mobile.var -> mobile.var: (10) Verification of signature of Authorization Request
        mobile.var -> mobile.var: (11) Verification of the identity of the Relying Party
        mobile.var -> mobile.var: (12) Verification of the trusted nature of the RP
    }
    Creating and sending the Authentication Response {
        mobile.car -> mobile.car: (13) Create Authentication Response
        mobile.car -> verifier.resp: (14) POST /api/siop/authentication_response
    }
    Authenticating the user with the LEARCredential {
        verifier.resp -> verifier.resp: (15 and 16) Verify signature and issuer of LEARCredential
        verifier.resp -> verifier.resp: (17) Verify sender of the Authentication Response
        verifier.resp -> verifier.resp: (18) Generate Access Token
        verifier.resp -> mobile: (19) HTTP 200 with <access token>
        verifier.resp -> portal.refresh: (20) Notify with <access token> and <state>
        portal.refresh -> browser: (21) Refresh screen with services and include <access token>
    }
 -->

<?xml version="1.0" encoding="utf-8"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" d2Version="v0.4.0-HEAD" preserveAspectRatio="xMinYMin meet" viewBox="0 0 1618 2079"><svg id="d2-svg" class="d2-2980585623" width="1618" height="2079" viewBox="-89 -49 1618 2079"><rect x="-89.000000" y="-49.000000" width="1618.000000" height="2079.000000" rx="0.000000" class=" fill-N7" stroke-width="0" /><style type="text/css"><![CDATA[
.d2-2980585623 .text {
	font-family: "d2-2980585623-font-regular";
}
@font-face {
	font-family: d2-2980585623-font-regular;
	src: url("data:application/font-woff;base64,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");
}
.d2-2980585623 .text-italic {
	font-family: "d2-2980585623-font-italic";
}
@font-face {
	font-family: d2-2980585623-font-italic;
	src: url("data:application/font-woff;base64,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");
}]]></style><style type="text/css"><![CDATA[.shape {
  shape-rendering: geometricPrecision;
  stroke-linejoin: round;
}
.connection {
  stroke-linecap: round;
  stroke-linejoin: round;
}
.blend {
  mix-blend-mode: multiply;
  opacity: 0.5;
}

		.d2-2980585623 .fill-N1{fill:#0A0F25;}
		.d2-2980585623 .fill-N2{fill:#676C7E;}
		.d2-2980585623 .fill-N3{fill:#9499AB;}
		.d2-2980585623 .fill-N4{fill:#CFD2DD;}
		.d2-2980585623 .fill-N5{fill:#DEE1EB;}
		.d2-2980585623 .fill-N6{fill:#EEF1F8;}
		.d2-2980585623 .fill-N7{fill:#FFFFFF;}
		.d2-2980585623 .fill-B1{fill:#0D32B2;}
		.d2-2980585623 .fill-B2{fill:#0D32B2;}
		.d2-2980585623 .fill-B3{fill:#E3E9FD;}
		.d2-2980585623 .fill-B4{fill:#E3E9FD;}
		.d2-2980585623 .fill-B5{fill:#EDF0FD;}
		.d2-2980585623 .fill-B6{fill:#F7F8FE;}
		.d2-2980585623 .fill-AA2{fill:#4A6FF3;}
		.d2-2980585623 .fill-AA4{fill:#EDF0FD;}
		.d2-2980585623 .fill-AA5{fill:#F7F8FE;}
		.d2-2980585623 .fill-AB4{fill:#EDF0FD;}
		.d2-2980585623 .fill-AB5{fill:#F7F8FE;}
		.d2-2980585623 .stroke-N1{stroke:#0A0F25;}
		.d2-2980585623 .stroke-N2{stroke:#676C7E;}
		.d2-2980585623 .stroke-N3{stroke:#9499AB;}
		.d2-2980585623 .stroke-N4{stroke:#CFD2DD;}
		.d2-2980585623 .stroke-N5{stroke:#DEE1EB;}
		.d2-2980585623 .stroke-N6{stroke:#EEF1F8;}
		.d2-2980585623 .stroke-N7{stroke:#FFFFFF;}
		.d2-2980585623 .stroke-B1{stroke:#0D32B2;}
		.d2-2980585623 .stroke-B2{stroke:#0D32B2;}
		.d2-2980585623 .stroke-B3{stroke:#E3E9FD;}
		.d2-2980585623 .stroke-B4{stroke:#E3E9FD;}
		.d2-2980585623 .stroke-B5{stroke:#EDF0FD;}
		.d2-2980585623 .stroke-B6{stroke:#F7F8FE;}
		.d2-2980585623 .stroke-AA2{stroke:#4A6FF3;}
		.d2-2980585623 .stroke-AA4{stroke:#EDF0FD;}
		.d2-2980585623 .stroke-AA5{stroke:#F7F8FE;}
		.d2-2980585623 .stroke-AB4{stroke:#EDF0FD;}
		.d2-2980585623 .stroke-AB5{stroke:#F7F8FE;}
		.d2-2980585623 .background-color-N1{background-color:#0A0F25;}
		.d2-2980585623 .background-color-N2{background-color:#676C7E;}
		.d2-2980585623 .background-color-N3{background-color:#9499AB;}
		.d2-2980585623 .background-color-N4{background-color:#CFD2DD;}
		.d2-2980585623 .background-color-N5{background-color:#DEE1EB;}
		.d2-2980585623 .background-color-N6{background-color:#EEF1F8;}
		.d2-2980585623 .background-color-N7{background-color:#FFFFFF;}
		.d2-2980585623 .background-color-B1{background-color:#0D32B2;}
		.d2-2980585623 .background-color-B2{background-color:#0D32B2;}
		.d2-2980585623 .background-color-B3{background-color:#E3E9FD;}
		.d2-2980585623 .background-color-B4{background-color:#E3E9FD;}
		.d2-2980585623 .background-color-B5{background-color:#EDF0FD;}
		.d2-2980585623 .background-color-B6{background-color:#F7F8FE;}
		.d2-2980585623 .background-color-AA2{background-color:#4A6FF3;}
		.d2-2980585623 .background-color-AA4{background-color:#EDF0FD;}
		.d2-2980585623 .background-color-AA5{background-color:#F7F8FE;}
		.d2-2980585623 .background-color-AB4{background-color:#EDF0FD;}
		.d2-2980585623 .background-color-AB5{background-color:#F7F8FE;}
		.d2-2980585623 .color-N1{color:#0A0F25;}
		.d2-2980585623 .color-N2{color:#676C7E;}
		.d2-2980585623 .color-N3{color:#9499AB;}
		.d2-2980585623 .color-N4{color:#CFD2DD;}
		.d2-2980585623 .color-N5{color:#DEE1EB;}
		.d2-2980585623 .color-N6{color:#EEF1F8;}
		.d2-2980585623 .color-N7{color:#FFFFFF;}
		.d2-2980585623 .color-B1{color:#0D32B2;}
		.d2-2980585623 .color-B2{color:#0D32B2;}
		.d2-2980585623 .color-B3{color:#E3E9FD;}
		.d2-2980585623 .color-B4{color:#E3E9FD;}
		.d2-2980585623 .color-B5{color:#EDF0FD;}
		.d2-2980585623 .color-B6{color:#F7F8FE;}
		.d2-2980585623 .color-AA2{color:#4A6FF3;}
		.d2-2980585623 .color-AA4{color:#EDF0FD;}
		.d2-2980585623 .color-AA5{color:#F7F8FE;}
		.d2-2980585623 .color-AB4{color:#EDF0FD;}
		.d2-2980585623 .color-AB5{color:#F7F8FE;}.appendix text.text{fill:#0A0F25}.md{--color-fg-default:#0A0F25;--color-fg-muted:#676C7E;--color-fg-subtle:#9499AB;--color-canvas-default:#FFFFFF;--color-canvas-subtle:#EEF1F8;--color-border-default:#0D32B2;--color-border-muted:#0D32B2;--color-neutral-muted:#EEF1F8;--color-accent-fg:#0D32B2;--color-accent-emphasis:#0D32B2;--color-attention-subtle:#676C7E;--color-danger-fg:red;}.sketch-overlay-B1{fill:url(#streaks-darker);mix-blend-mode:lighten}.sketch-overlay-B2{fill:url(#streaks-darker);mix-blend-mode:lighten}.sketch-overlay-B3{fill:url(#streaks-bright);mix-blend-mode:darken}.sketch-overlay-B4{fill:url(#streaks-bright);mix-blend-mode:darken}.sketch-overlay-B5{fill:url(#streaks-bright);mix-blend-mode:darken}.sketch-overlay-B6{fill:url(#streaks-bright);mix-blend-mode:darken}.sketch-overlay-AA2{fill:url(#streaks-dark);mix-blend-mode:overlay}.sketch-overlay-AA4{fill:url(#streaks-bright);mix-blend-mode:darken}.sketch-overlay-AA5{fill:url(#streaks-bright);mix-blend-mode:darken}.sketch-overlay-AB4{fill:url(#streaks-bright);mix-blend-mode:darken}.sketch-overlay-AB5{fill:url(#streaks-bright);mix-blend-mode:darken}.sketch-overlay-N1{fill:url(#streaks-darker);mix-blend-mode:lighten}.sketch-overlay-N2{fill:url(#streaks-dark);mix-blend-mode:overlay}.sketch-overlay-N3{fill:url(#streaks-normal);mix-blend-mode:color-burn}.sketch-overlay-N4{fill:url(#streaks-normal);mix-blend-mode:color-burn}.sketch-overlay-N5{fill:url(#streaks-bright);mix-blend-mode:darken}.sketch-overlay-N6{fill:url(#streaks-bright);mix-blend-mode:darken}.sketch-overlay-N7{fill:url(#streaks-bright);mix-blend-mode:darken}.light-code{display: block}.dark-code{display: none}]]></style><g id="user"><g class="shape" ><rect x="12.000000" y="52.000000" width="135.000000" height="92.000000" class=" stroke-B1 fill-B5" style="stroke-width:2;" /></g><image href="https://icons.terrastruct.com/essentials%2F365-user.svg" x="12.000000" y="52.000000" width="46" height="46" /><text x="79.500000" y="103.500000" class="text fill-N1" style="text-anchor:middle;font-size:16px">John Doe</text></g><g id="mobile"><g class="shape" ><rect x="187.000000" y="52.000000" width="127.000000" height="92.000000" class=" stroke-B1 fill-B5" style="stroke-width:2;" /></g><image href="https://icons.terrastruct.com/tech%2F052-smartphone-3.svg" x="187.000000" y="52.000000" width="46" height="46" /><text x="250.500000" y="103.500000" class="text fill-N1" style="text-anchor:middle;font-size:16px">Webapp</text></g><g id="browser"><g class="shape" ><rect x="354.000000" y="52.000000" width="118.000000" height="92.000000" class=" stroke-B1 fill-B5" style="stroke-width:2;" /></g><image href="https://icons.terrastruct.com/tech%2Fbrowser-2.svg" x="354.000000" y="52.000000" width="46" height="46" /><text x="413.000000" y="103.500000" class="text fill-N1" style="text-anchor:middle;font-size:16px">Laptop</text></g><g id="portal"><g class="shape" ><rect x="789.000000" y="52.000000" width="111.000000" height="92.000000" class=" stroke-B1 fill-B5" style="stroke-width:2;" /></g><image href="https://icons.terrastruct.com/azure%2FIntegration%20Service%20Color%2FSoftware%20as%20a%20Service%20%28SaaS%29.svg" x="789.000000" y="52.000000" width="46" height="46" /><text x="844.500000" y="103.500000" class="text fill-N1" style="text-anchor:middle;font-size:16px">Portal</text></g><g id="verifier"><g class="shape" ><rect x="1095.000000" y="52.000000" width="140.000000" height="92.000000" class=" stroke-B1 fill-B5" style="stroke-width:2;" /></g><image href="https://icons.terrastruct.com/azure%2FSecurity%20Service%20Color%2FSecurity%20Center.svg" x="1095.000000" y="52.000000" width="46" height="46" /><text x="1165.000000" y="103.500000" class="text fill-N1" style="text-anchor:middle;font-size:16px">VC Verifier</text></g><g id="(user -- )[0]"><path d="M 79.500000 146.000000 L 79.500000 1928.000000" fill="none" class="connection stroke-B2" style="stroke-width:2;stroke-dasharray:12.000000,11.838767;" mask="url(#d2-2980585623)" /></g><g id="(mobile -- )[0]"><path d="M 250.500000 146.000000 L 250.500000 1928.000000" fill="none" class="connection stroke-B2" style="stroke-width:2;stroke-dasharray:12.000000,11.838767;" mask="url(#d2-2980585623)" /></g><g id="(browser -- )[0]"><path d="M 413.000000 146.000000 L 413.000000 1928.000000" fill="none" class="connection stroke-B2" style="stroke-width:2;stroke-dasharray:12.000000,11.838767;" mask="url(#d2-2980585623)" /></g><g id="(portal -- )[0]"><path d="M 844.500000 146.000000 L 844.500000 1928.000000" fill="none" class="connection stroke-B2" style="stroke-width:2;stroke-dasharray:12.000000,11.838767;" mask="url(#d2-2980585623)" /></g><g id="(verifier -- )[0]"><path d="M 1165.000000 146.000000 L 1165.000000 1928.000000" fill="none" class="connection stroke-B2" style="stroke-width:2;stroke-dasharray:12.000000,11.838767;" mask="url(#d2-2980585623)" /></g><g id="portal.t"><g class="shape" ><rect x="838.000000" y="303.000000" width="12.000000" height="90.000000" class=" stroke-B1 fill-B4" style="stroke-width:2;" /></g></g><g id="browser.t"><g class="shape" ><rect x="407.000000" y="373.000000" width="12.000000" height="90.000000" class=" stroke-B1 fill-B4" style="stroke-width:2;" /></g></g><g id="verifier.t"><g class="shape" ><rect x="1159.000000" y="443.000000" width="12.000000" height="160.000000" class=" stroke-B1 fill-B4" style="stroke-width:2;" /></g></g><g id="mobile.t"><g class="shape" ><rect x="244.000000" y="653.000000" width="12.000000" height="160.000000" class=" stroke-B1 fill-B4" style="stroke-width:2;" /></g></g><g id="verifier.ar"><g class="shape" ><rect x="1159.000000" y="793.000000" width="12.000000" height="189.000000" class=" stroke-B1 fill-B4" style="stroke-width:2;" /></g></g><g id="mobile.var"><g class="shape" ><rect x="244.000000" y="962.000000" width="12.000000" height="304.000000" class=" stroke-B1 fill-B4" style="stroke-width:2;" /></g></g><g id="mobile.car"><g class="shape" ><rect x="244.000000" y="1330.000000" width="12.000000" height="90.000000" class=" stroke-B1 fill-B4" style="stroke-width:2;" /></g></g><g id="verifier.resp"><g class="shape" ><rect x="1159.000000" y="1400.000000" width="12.000000" height="399.000000" class=" stroke-B1 fill-B4" style="stroke-width:2;" /></g></g><g id="portal.refresh"><g class="shape" ><rect x="838.000000" y="1779.000000" width="12.000000" height="90.000000" class=" stroke-B1 fill-B4" style="stroke-width:2;" /></g></g><g id="Starting the OpenID for Verifiable Presentations flow"><g class="shape blend" ><rect x="39.000000" y="199.000000" width="1245.000000" height="619.000000" class=" stroke-B1 fill-N5" style="stroke-width:0;" /></g><rect x="44.000000" y="204.000000" width="350.000000" height="21.000000" class=" fill-N5" /><text x="219.000000" y="220.000000" class="text fill-N1" style="text-anchor:middle;font-size:16px">Starting the OpenID for Verifiable Presentations flow</text></g><g id="Generating the Authorization Request"><g class="shape blend" ><rect x="216.000000" y="858.000000" width="1068.000000" height="129.000000" class=" stroke-B1 fill-N5" style="stroke-width:0;" /></g><rect x="221.000000" y="863.000000" width="253.000000" height="21.000000" class=" fill-N5" /><text x="347.500000" y="879.000000" class="text fill-N1" style="text-anchor:middle;font-size:16px">Generating the Authorization Request</text></g><g id="Verification of the Authorization Request"><g class="shape blend" ><rect x="216.000000" y="1027.000000" width="154.000000" height="244.000000" class=" stroke-B1 fill-N5" style="stroke-width:0;" /></g><rect x="221.000000" y="1032.000000" width="272.000000" height="21.000000" class=" fill-N5" /><text x="357.000000" y="1048.000000" class="text fill-N1" style="text-anchor:middle;font-size:16px">Verification of the Authorization Request</text></g><g id="Creating and sending the Authentication Response"><g class="shape blend" ><rect x="216.000000" y="1296.000000" width="982.000000" height="129.000000" class=" stroke-B1 fill-N5" style="stroke-width:0;" /></g><rect x="221.000000" y="1301.000000" width="339.000000" height="21.000000" class=" fill-N5" /><text x="390.500000" y="1317.000000" class="text fill-N1" style="text-anchor:middle;font-size:16px">Creating and sending the Authentication Response</text></g><g id="Authenticating the user with the LEARCredential"><g class="shape blend" ><rect x="210.000000" y="1465.000000" width="1074.000000" height="409.000000" class=" stroke-B1 fill-N5" style="stroke-width:0;" /></g><rect x="215.000000" y="1470.000000" width="322.000000" height="21.000000" class=" fill-N5" /><text x="376.000000" y="1486.000000" class="text fill-N1" style="text-anchor:middle;font-size:16px">Authenticating the user with the LEARCredential</text></g><g id="(user -&gt; browser)[0]"><marker id="mk-2177206569" markerWidth="10.000000" markerHeight="12.000000" refX="7.000000" refY="6.000000" viewBox="0.000000 0.000000 10.000000 12.000000" orient="auto" markerUnits="userSpaceOnUse"> <polygon points="0.000000,0.000000 10.000000,6.000000 0.000000,12.000000" class="connection fill-B2" stroke-width="2" /> </marker><path d="M 81.500000 243.000000 L 409.000000 243.000000" fill="none" class="connection stroke-B2" style="stroke-width:2;stroke-dasharray:10.000000,9.865639;" marker-end="url(#mk-2177206569)" mask="url(#d2-2980585623)" /><text x="246.000000" y="249.000000" class="text-italic fill-N2" style="text-anchor:middle;font-size:16px">(1) Access DOM portal</text></g><g id="(browser -&gt; portal.t)[0]"><marker id="mk-3488378134" markerWidth="10.000000" markerHeight="12.000000" refX="7.000000" refY="6.000000" viewBox="0.000000 0.000000 10.000000 12.000000" orient="auto" markerUnits="userSpaceOnUse"> <polygon points="0.000000,0.000000 10.000000,6.000000 0.000000,12.000000" class="connection fill-B1" stroke-width="2" /> </marker><path d="M 415.000000 313.000000 L 834.500000 313.000000" fill="none" class="connection stroke-B1" style="stroke-width:2;" marker-end="url(#mk-3488378134)" mask="url(#d2-2980585623)" /><text x="626.000000" y="319.000000" class="text-italic fill-N2" style="text-anchor:middle;font-size:16px">(2) Access DOM portal</text></g><g id="(portal.t -&gt; browser.t)[0]"><path d="M 836.500000 383.000000 L 423.000000 383.000000" fill="none" class="connection stroke-B1" style="stroke-width:2;" marker-end="url(#mk-3488378134)" mask="url(#d2-2980585623)" /><text x="629.000000" y="389.000000" class="text-italic fill-N2" style="text-anchor:middle;font-size:16px">(3) HTTP 302 (redirect)</text></g><g id="(browser.t -&gt; verifier.t)[0]"><path d="M 421.000000 453.000000 L 1155.000000 453.000000" fill="none" class="connection stroke-B1" style="stroke-width:2;" marker-end="url(#mk-3488378134)" mask="url(#d2-2980585623)" /><text x="789.500000" y="459.000000" class="text-italic fill-N2" style="text-anchor:middle;font-size:16px">(3) Access Login page</text></g><g id="verifier.(t -&gt; t)[0]"><path d="M 1173.000000 523.000000 L 1235.000000 523.000000 S 1245.000000 523.000000 1245.000000 533.000000 L 1245.000000 558.000000 S 1245.000000 568.000000 1235.000000 568.000000 L 1175.000000 568.000000" fill="none" class="connection stroke-B1" style="stroke-width:2;" marker-end="url(#mk-3488378134)" mask="url(#d2-2980585623)" /><text x="1245.500000" y="551.000000" class="text-italic fill-N2" style="text-anchor:middle;font-size:16px">(4) Generate QR code</text></g><g id="(verifier.t -&gt; browser)[0]"><path d="M 1157.000000 593.000000 L 417.000000 593.000000" fill="none" class="connection stroke-B1" style="stroke-width:2;" marker-end="url(#mk-3488378134)" mask="url(#d2-2980585623)" /><text x="786.500000" y="599.000000" class="text-italic fill-N2" style="text-anchor:middle;font-size:16px">(5) Display QR code</text></g><g id="(user -&gt; mobile.t)[0]"><path d="M 81.500000 663.000000 L 240.500000 663.000000" fill="none" class="connection stroke-B2" style="stroke-width:2;stroke-dasharray:10.000000,9.865639;" marker-end="url(#mk-2177206569)" mask="url(#d2-2980585623)" /><text x="162.000000" y="669.000000" class="text-italic fill-N2" style="text-anchor:middle;font-size:16px">(6) Start QR scan</text></g><g id="(browser -&gt; mobile.t)[0]"><path d="M 411.000000 733.000000 L 260.500000 733.000000" fill="none" class="connection stroke-B2" style="stroke-width:2;stroke-dasharray:10.000000,9.865639;" marker-end="url(#mk-2177206569)" mask="url(#d2-2980585623)" /><text x="334.500000" y="739.000000" class="text-italic fill-N2" style="text-anchor:middle;font-size:16px">(6) Scan QR code</text></g><g id="(mobile.t -&gt; verifier.ar)[0]"><path d="M 258.500000 803.000000 L 1155.000000 803.000000" fill="none" class="connection stroke-B1" style="stroke-width:2;" marker-end="url(#mk-3488378134)" mask="url(#d2-2980585623)" /><text x="708.000000" y="809.000000" class="text-italic fill-N2" style="text-anchor:middle;font-size:16px">(7) GET /authentication-requests</text></g><g id="verifier.(ar -&gt; ar)[0]"><path d="M 1173.000000 902.000000 L 1235.000000 902.000000 S 1245.000000 902.000000 1245.000000 912.000000 L 1245.000000 937.000000 S 1245.000000 947.000000 1235.000000 947.000000 L 1175.000000 947.000000" fill="none" class="connection stroke-B1" style="stroke-width:2;" marker-end="url(#mk-3488378134)" mask="url(#d2-2980585623)" /><text x="1245.000000" y="930.000000" class="text-italic fill-N2" style="text-anchor:middle;font-size:16px">(8) Create Authorization Request</text></g><g id="(verifier.ar -&gt; mobile.var)[0]"><path d="M 1157.000000 972.000000 L 260.500000 972.000000" fill="none" class="connection stroke-B1" style="stroke-width:2;" marker-end="url(#mk-3488378134)" mask="url(#d2-2980585623)" /><text x="707.500000" y="978.000000" class="text-italic fill-N2" style="text-anchor:middle;font-size:16px">(9) Reply with Authorization Request</text></g><g id="mobile.(var -&gt; var)[0]"><path d="M 258.500000 1071.000000 L 320.500000 1071.000000 S 330.500000 1071.000000 330.500000 1081.000000 L 330.500000 1106.000000 S 330.500000 1116.000000 320.500000 1116.000000 L 260.500000 1116.000000" fill="none" class="connection stroke-B1" style="stroke-width:2;" marker-end="url(#mk-3488378134)" mask="url(#d2-2980585623)" /><text x="331.000000" y="1099.000000" class="text-italic fill-N2" style="text-anchor:middle;font-size:16px">(10) Verification of signature of Authorization Request</text></g><g id="mobile.(var -&gt; var)[1]"><path d="M 258.500000 1141.000000 L 320.500000 1141.000000 S 330.500000 1141.000000 330.500000 1151.000000 L 330.500000 1176.000000 S 330.500000 1186.000000 320.500000 1186.000000 L 260.500000 1186.000000" fill="none" class="connection stroke-B1" style="stroke-width:2;" marker-end="url(#mk-3488378134)" mask="url(#d2-2980585623)" /><text x="330.500000" y="1169.000000" class="text-italic fill-N2" style="text-anchor:middle;font-size:16px">(11) Verification of the identity of the Relying Party</text></g><g id="mobile.(var -&gt; var)[2]"><path d="M 258.500000 1211.000000 L 320.500000 1211.000000 S 330.500000 1211.000000 330.500000 1221.000000 L 330.500000 1246.000000 S 330.500000 1256.000000 320.500000 1256.000000 L 260.500000 1256.000000" fill="none" class="connection stroke-B1" style="stroke-width:2;" marker-end="url(#mk-3488378134)" mask="url(#d2-2980585623)" /><text x="330.500000" y="1239.000000" class="text-italic fill-N2" style="text-anchor:middle;font-size:16px">(12) Verification of the trusted nature of the RP</text></g><g id="mobile.(car -&gt; car)[0]"><path d="M 258.500000 1340.000000 L 320.500000 1340.000000 S 330.500000 1340.000000 330.500000 1350.000000 L 330.500000 1375.000000 S 330.500000 1385.000000 320.500000 1385.000000 L 260.500000 1385.000000" fill="none" class="connection stroke-B1" style="stroke-width:2;" marker-end="url(#mk-3488378134)" mask="url(#d2-2980585623)" /><text x="331.000000" y="1368.000000" class="text-italic fill-N2" style="text-anchor:middle;font-size:16px">(13) Create Authentication Response</text></g><g id="(mobile.car -&gt; verifier.resp)[0]"><path d="M 258.500000 1410.000000 L 1155.000000 1410.000000" fill="none" class="connection stroke-B1" style="stroke-width:2;" marker-end="url(#mk-3488378134)" mask="url(#d2-2980585623)" /><text x="708.000000" y="1416.000000" class="text-italic fill-N2" style="text-anchor:middle;font-size:16px">(14) POST /api/siop/authentication_response</text></g><g id="verifier.(resp -&gt; resp)[0]"><path d="M 1173.000000 1509.000000 L 1235.000000 1509.000000 S 1245.000000 1509.000000 1245.000000 1519.000000 L 1245.000000 1544.000000 S 1245.000000 1554.000000 1235.000000 1554.000000 L 1175.000000 1554.000000" fill="none" class="connection stroke-B1" style="stroke-width:2;" marker-end="url(#mk-3488378134)" mask="url(#d2-2980585623)" /><text x="1245.500000" y="1537.000000" class="text-italic fill-N2" style="text-anchor:middle;font-size:16px">(15 and 16) Verify signature and issuer of LEARCredential</text></g><g id="verifier.(resp -&gt; resp)[1]"><path d="M 1173.000000 1579.000000 L 1235.000000 1579.000000 S 1245.000000 1579.000000 1245.000000 1589.000000 L 1245.000000 1614.000000 S 1245.000000 1624.000000 1235.000000 1624.000000 L 1175.000000 1624.000000" fill="none" class="connection stroke-B1" style="stroke-width:2;" marker-end="url(#mk-3488378134)" mask="url(#d2-2980585623)" /><text x="1245.500000" y="1607.000000" class="text-italic fill-N2" style="text-anchor:middle;font-size:16px">(17) Verify sender of the Authentication Response</text></g><g id="verifier.(resp -&gt; resp)[2]"><path d="M 1173.000000 1649.000000 L 1235.000000 1649.000000 S 1245.000000 1649.000000 1245.000000 1659.000000 L 1245.000000 1684.000000 S 1245.000000 1694.000000 1235.000000 1694.000000 L 1175.000000 1694.000000" fill="none" class="connection stroke-B1" style="stroke-width:2;" marker-end="url(#mk-3488378134)" mask="url(#d2-2980585623)" /><text x="1245.000000" y="1677.000000" class="text-italic fill-N2" style="text-anchor:middle;font-size:16px">(18) Generate Access Token</text></g><g id="(verifier.resp -&gt; mobile)[0]"><path d="M 1157.000000 1719.000000 L 254.500000 1719.000000" fill="none" class="connection stroke-B1" style="stroke-width:2;" marker-end="url(#mk-3488378134)" mask="url(#d2-2980585623)" /><text x="704.500000" y="1725.000000" class="text-italic fill-N2" style="text-anchor:middle;font-size:16px">(19) HTTP 200 with &lt;access token&gt;</text></g><g id="(verifier.resp -&gt; portal.refresh)[0]"><path d="M 1157.000000 1789.000000 L 854.500000 1789.000000" fill="none" class="connection stroke-B1" style="stroke-width:2;" marker-end="url(#mk-3488378134)" mask="url(#d2-2980585623)" /><text x="1004.500000" y="1795.000000" class="text-italic fill-N2" style="text-anchor:middle;font-size:16px">(20) Notify with &lt;access token&gt; and &lt;state&gt;</text></g><g id="(portal.refresh -&gt; browser)[0]"><path d="M 836.500000 1859.000000 L 417.000000 1859.000000" fill="none" class="connection stroke-B1" style="stroke-width:2;" marker-end="url(#mk-3488378134)" mask="url(#d2-2980585623)" /><text x="625.500000" y="1865.000000" class="text-italic fill-N2" style="text-anchor:middle;font-size:16px">(21) Refresh screen with services and include &lt;access token&gt;</text></g><mask id="d2-2980585623" maskUnits="userSpaceOnUse" x="-89" y="-49" width="1618" height="2079">
<rect x="-89" y="-49" width="1618" height="2079" fill="white"></rect>
<rect x="44.000000" y="204.000000" width="350" height="16" fill="black"></rect>
<rect x="221.000000" y="863.000000" width="253" height="16" fill="black"></rect>
<rect x="221.000000" y="1032.000000" width="272" height="16" fill="black"></rect>
<rect x="221.000000" y="1301.000000" width="339" height="16" fill="black"></rect>
<rect x="215.000000" y="1470.000000" width="322" height="16" fill="black"></rect>
<rect x="176.000000" y="233.000000" width="140" height="21" fill="black"></rect>
<rect x="556.000000" y="303.000000" width="140" height="21" fill="black"></rect>
<rect x="557.000000" y="373.000000" width="144" height="21" fill="black"></rect>
<rect x="720.000000" y="443.000000" width="139" height="21" fill="black"></rect>
<rect x="1177.000000" y="535.000000" width="137" height="21" fill="black"></rect>
<rect x="724.000000" y="583.000000" width="125" height="21" fill="black"></rect>
<rect x="108.000000" y="653.000000" width="108" height="21" fill="black"></rect>
<rect x="280.000000" y="723.000000" width="109" height="21" fill="black"></rect>
<rect x="602.000000" y="793.000000" width="212" height="21" fill="black"></rect>
<rect x="1139.000000" y="914.000000" width="212" height="21" fill="black"></rect>
<rect x="589.000000" y="962.000000" width="237" height="21" fill="black"></rect>
<rect x="157.000000" y="1083.000000" width="348" height="21" fill="black"></rect>
<rect x="167.000000" y="1153.000000" width="327" height="21" fill="black"></rect>
<rect x="180.000000" y="1223.000000" width="301" height="21" fill="black"></rect>
<rect x="213.000000" y="1352.000000" width="236" height="21" fill="black"></rect>
<rect x="561.000000" y="1400.000000" width="294" height="21" fill="black"></rect>
<rect x="1062.000000" y="1521.000000" width="367" height="21" fill="black"></rect>
<rect x="1087.000000" y="1591.000000" width="317" height="21" fill="black"></rect>
<rect x="1157.000000" y="1661.000000" width="176" height="21" fill="black"></rect>
<rect x="593.000000" y="1709.000000" width="223" height="21" fill="black"></rect>
<rect x="864.000000" y="1779.000000" width="281" height="21" fill="black"></rect>
<rect x="430.000000" y="1849.000000" width="391" height="21" fill="black"></rect>
</mask></svg></svg>

    <section><h2>Starting the OpenID for Verifiable Presentations flow</h2>

        <p>The process starts an OpenID for Verifiable Presentations flow combined with combined with the Self-Issued OP v2 specification [[OpenID.SIOP2]], where the Verifier component of the portal plays the role of a Relying Party (RP in Open ID Connect terminology) and the wallet of the user is a Self-Issued IdP.
        </p>
        <p>In this step, the Verifier has to send an Authorization Request to the wallet. But as a Self-Issued OP may be running locally as a native application or progressive web application (PWA), the RP may not have a network-addressable endpoint to communicate directly with the OP. We have to leverage the implicit flow of OpenID Connect to communicate with such locally-running Ops, as described in [[OpenID.SIOP2]].
        </p>
        <p>We use a QR code to start the process and allow the wallet to receive the Authorization Request from the Verifier, and respond with an Authorization Response, sent to the Verifier in the body of an HTTP <code>POST</code> request.
        </p>
<!-- Original D2 diagram definition
    shape: sequence_diagram
    # Definition of the participants
    user: John Doe {
        icon: https://icons.terrastruct.com/essentials%2F365-user.svg
    }
    mobile: Webapp {
        icon: https://icons.terrastruct.com/tech%2F052-smartphone-3.svg
    }
    browser: Laptop {
        icon: https://icons.terrastruct.com/tech%2Fbrowser-2.svg
    }
    portal: Portal {
        icon: https://icons.terrastruct.com/azure%2FIntegration%20Service%20Color%2FSoftware%20as%20a%20Service%20%28SaaS%29.svg
    }
    verifier: VC Verifier {
        icon: https://icons.terrastruct.com/azure%2FSecurity%20Service%20Color%2FSecurity%20Center.svg
    }
    # ==================================================
    # (1) The user (GoodAir employee) uses his Laptop browser to access the DOME portal to perform the onboarding process.
    user -> browser: (1) Access DOM portal {
        style.stroke-dash: 5
    }
    # (2) The browser sends a request to the Packet Delivery portal server.
    browser -> portal.t: (2) Access DOM portal
    # (3) The portal redirects the user to the login page of the Verifier component of DOME Onboarding. The page shows a button labelled “Login with Verifiable Credentials” or something similar.
    portal.t -> browser.t: (3) HTTP 302 (redirect)
    browser.t -> verifier.t: (3) Access Login page
    # (4) The Verifier generates a QR code, containing inside the URL of the `/authentication-requests` endpoint of the Verifier component which will be used to start the [[OpenID.VP]] process.
    verifier.t -> verifier.t: (4) Generate QR code
    verifier.t -> browser: (5) Display QR code
    # (6) The user starts the scan with the wallet
    user -> mobile.t: (6) Start QR scan {
        style.stroke-dash: 5
    }
    browser -> mobile.t: (6) Scan QR code {
        style.stroke-dash: 5
    }
    # (7) After confirmation by the user, the wallet performs a ` GET /authentication-requests` endpoint that was inside the QR code. The reply to the GET request is an Authorization Request
    mobile.t -> verifier.ar: (7) GET /authentication-requests
    verifier.ar -> verifier.ar: (8) Create Authorization Request
    verifier.ar -> mobile: (9) Reply with Authorization Request
 -->

<?xml version="1.0" encoding="utf-8"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" d2Version="v0.4.0-HEAD" preserveAspectRatio="xMinYMin meet" viewBox="0 0 1138 1134"><svg id="d2-svg" class="d2-2579162095" width="1138" height="1134" viewBox="-89 -49 1138 1134"><rect x="-89.000000" y="-49.000000" width="1138.000000" height="1134.000000" rx="0.000000" class=" fill-N7" stroke-width="0" /><style type="text/css"><![CDATA[
.d2-2579162095 .text {
	font-family: "d2-2579162095-font-regular";
}
@font-face {
	font-family: d2-2579162095-font-regular;
	src: url("data:application/font-woff;base64,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");
}
.d2-2579162095 .text-italic {
	font-family: "d2-2579162095-font-italic";
}
@font-face {
	font-family: d2-2579162095-font-italic;
	src: url("data:application/font-woff;base64,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");
}]]></style><style type="text/css"><![CDATA[.shape {
  shape-rendering: geometricPrecision;
  stroke-linejoin: round;
}
.connection {
  stroke-linecap: round;
  stroke-linejoin: round;
}
.blend {
  mix-blend-mode: multiply;
  opacity: 0.5;
}

		.d2-2579162095 .fill-N1{fill:#0A0F25;}
		.d2-2579162095 .fill-N2{fill:#676C7E;}
		.d2-2579162095 .fill-N3{fill:#9499AB;}
		.d2-2579162095 .fill-N4{fill:#CFD2DD;}
		.d2-2579162095 .fill-N5{fill:#DEE1EB;}
		.d2-2579162095 .fill-N6{fill:#EEF1F8;}
		.d2-2579162095 .fill-N7{fill:#FFFFFF;}
		.d2-2579162095 .fill-B1{fill:#0D32B2;}
		.d2-2579162095 .fill-B2{fill:#0D32B2;}
		.d2-2579162095 .fill-B3{fill:#E3E9FD;}
		.d2-2579162095 .fill-B4{fill:#E3E9FD;}
		.d2-2579162095 .fill-B5{fill:#EDF0FD;}
		.d2-2579162095 .fill-B6{fill:#F7F8FE;}
		.d2-2579162095 .fill-AA2{fill:#4A6FF3;}
		.d2-2579162095 .fill-AA4{fill:#EDF0FD;}
		.d2-2579162095 .fill-AA5{fill:#F7F8FE;}
		.d2-2579162095 .fill-AB4{fill:#EDF0FD;}
		.d2-2579162095 .fill-AB5{fill:#F7F8FE;}
		.d2-2579162095 .stroke-N1{stroke:#0A0F25;}
		.d2-2579162095 .stroke-N2{stroke:#676C7E;}
		.d2-2579162095 .stroke-N3{stroke:#9499AB;}
		.d2-2579162095 .stroke-N4{stroke:#CFD2DD;}
		.d2-2579162095 .stroke-N5{stroke:#DEE1EB;}
		.d2-2579162095 .stroke-N6{stroke:#EEF1F8;}
		.d2-2579162095 .stroke-N7{stroke:#FFFFFF;}
		.d2-2579162095 .stroke-B1{stroke:#0D32B2;}
		.d2-2579162095 .stroke-B2{stroke:#0D32B2;}
		.d2-2579162095 .stroke-B3{stroke:#E3E9FD;}
		.d2-2579162095 .stroke-B4{stroke:#E3E9FD;}
		.d2-2579162095 .stroke-B5{stroke:#EDF0FD;}
		.d2-2579162095 .stroke-B6{stroke:#F7F8FE;}
		.d2-2579162095 .stroke-AA2{stroke:#4A6FF3;}
		.d2-2579162095 .stroke-AA4{stroke:#EDF0FD;}
		.d2-2579162095 .stroke-AA5{stroke:#F7F8FE;}
		.d2-2579162095 .stroke-AB4{stroke:#EDF0FD;}
		.d2-2579162095 .stroke-AB5{stroke:#F7F8FE;}
		.d2-2579162095 .background-color-N1{background-color:#0A0F25;}
		.d2-2579162095 .background-color-N2{background-color:#676C7E;}
		.d2-2579162095 .background-color-N3{background-color:#9499AB;}
		.d2-2579162095 .background-color-N4{background-color:#CFD2DD;}
		.d2-2579162095 .background-color-N5{background-color:#DEE1EB;}
		.d2-2579162095 .background-color-N6{background-color:#EEF1F8;}
		.d2-2579162095 .background-color-N7{background-color:#FFFFFF;}
		.d2-2579162095 .background-color-B1{background-color:#0D32B2;}
		.d2-2579162095 .background-color-B2{background-color:#0D32B2;}
		.d2-2579162095 .background-color-B3{background-color:#E3E9FD;}
		.d2-2579162095 .background-color-B4{background-color:#E3E9FD;}
		.d2-2579162095 .background-color-B5{background-color:#EDF0FD;}
		.d2-2579162095 .background-color-B6{background-color:#F7F8FE;}
		.d2-2579162095 .background-color-AA2{background-color:#4A6FF3;}
		.d2-2579162095 .background-color-AA4{background-color:#EDF0FD;}
		.d2-2579162095 .background-color-AA5{background-color:#F7F8FE;}
		.d2-2579162095 .background-color-AB4{background-color:#EDF0FD;}
		.d2-2579162095 .background-color-AB5{background-color:#F7F8FE;}
		.d2-2579162095 .color-N1{color:#0A0F25;}
		.d2-2579162095 .color-N2{color:#676C7E;}
		.d2-2579162095 .color-N3{color:#9499AB;}
		.d2-2579162095 .color-N4{color:#CFD2DD;}
		.d2-2579162095 .color-N5{color:#DEE1EB;}
		.d2-2579162095 .color-N6{color:#EEF1F8;}
		.d2-2579162095 .color-N7{color:#FFFFFF;}
		.d2-2579162095 .color-B1{color:#0D32B2;}
		.d2-2579162095 .color-B2{color:#0D32B2;}
		.d2-2579162095 .color-B3{color:#E3E9FD;}
		.d2-2579162095 .color-B4{color:#E3E9FD;}
		.d2-2579162095 .color-B5{color:#EDF0FD;}
		.d2-2579162095 .color-B6{color:#F7F8FE;}
		.d2-2579162095 .color-AA2{color:#4A6FF3;}
		.d2-2579162095 .color-AA4{color:#EDF0FD;}
		.d2-2579162095 .color-AA5{color:#F7F8FE;}
		.d2-2579162095 .color-AB4{color:#EDF0FD;}
		.d2-2579162095 .color-AB5{color:#F7F8FE;}.appendix text.text{fill:#0A0F25}.md{--color-fg-default:#0A0F25;--color-fg-muted:#676C7E;--color-fg-subtle:#9499AB;--color-canvas-default:#FFFFFF;--color-canvas-subtle:#EEF1F8;--color-border-default:#0D32B2;--color-border-muted:#0D32B2;--color-neutral-muted:#EEF1F8;--color-accent-fg:#0D32B2;--color-accent-emphasis:#0D32B2;--color-attention-subtle:#676C7E;--color-danger-fg:red;}.sketch-overlay-B1{fill:url(#streaks-darker);mix-blend-mode:lighten}.sketch-overlay-B2{fill:url(#streaks-darker);mix-blend-mode:lighten}.sketch-overlay-B3{fill:url(#streaks-bright);mix-blend-mode:darken}.sketch-overlay-B4{fill:url(#streaks-bright);mix-blend-mode:darken}.sketch-overlay-B5{fill:url(#streaks-bright);mix-blend-mode:darken}.sketch-overlay-B6{fill:url(#streaks-bright);mix-blend-mode:darken}.sketch-overlay-AA2{fill:url(#streaks-dark);mix-blend-mode:overlay}.sketch-overlay-AA4{fill:url(#streaks-bright);mix-blend-mode:darken}.sketch-overlay-AA5{fill:url(#streaks-bright);mix-blend-mode:darken}.sketch-overlay-AB4{fill:url(#streaks-bright);mix-blend-mode:darken}.sketch-overlay-AB5{fill:url(#streaks-bright);mix-blend-mode:darken}.sketch-overlay-N1{fill:url(#streaks-darker);mix-blend-mode:lighten}.sketch-overlay-N2{fill:url(#streaks-dark);mix-blend-mode:overlay}.sketch-overlay-N3{fill:url(#streaks-normal);mix-blend-mode:color-burn}.sketch-overlay-N4{fill:url(#streaks-normal);mix-blend-mode:color-burn}.sketch-overlay-N5{fill:url(#streaks-bright);mix-blend-mode:darken}.sketch-overlay-N6{fill:url(#streaks-bright);mix-blend-mode:darken}.sketch-overlay-N7{fill:url(#streaks-bright);mix-blend-mode:darken}.light-code{display: block}.dark-code{display: none}]]></style><g id="user"><g class="shape" ><rect x="12.000000" y="52.000000" width="135.000000" height="92.000000" class=" stroke-B1 fill-B5" style="stroke-width:2;" /></g><image href="https://icons.terrastruct.com/essentials%2F365-user.svg" x="12.000000" y="52.000000" width="46" height="46" /><text x="79.500000" y="103.500000" class="text fill-N1" style="text-anchor:middle;font-size:16px">John Doe</text></g><g id="mobile"><g class="shape" ><rect x="187.000000" y="52.000000" width="127.000000" height="92.000000" class=" stroke-B1 fill-B5" style="stroke-width:2;" /></g><image href="https://icons.terrastruct.com/tech%2F052-smartphone-3.svg" x="187.000000" y="52.000000" width="46" height="46" /><text x="250.500000" y="103.500000" class="text fill-N1" style="text-anchor:middle;font-size:16px">Webapp</text></g><g id="browser"><g class="shape" ><rect x="354.000000" y="52.000000" width="118.000000" height="92.000000" class=" stroke-B1 fill-B5" style="stroke-width:2;" /></g><image href="https://icons.terrastruct.com/tech%2Fbrowser-2.svg" x="354.000000" y="52.000000" width="46" height="46" /><text x="413.000000" y="103.500000" class="text fill-N1" style="text-anchor:middle;font-size:16px">Laptop</text></g><g id="portal"><g class="shape" ><rect x="542.000000" y="52.000000" width="111.000000" height="92.000000" class=" stroke-B1 fill-B5" style="stroke-width:2;" /></g><image href="https://icons.terrastruct.com/azure%2FIntegration%20Service%20Color%2FSoftware%20as%20a%20Service%20%28SaaS%29.svg" x="542.000000" y="52.000000" width="46" height="46" /><text x="597.500000" y="103.500000" class="text fill-N1" style="text-anchor:middle;font-size:16px">Portal</text></g><g id="verifier"><g class="shape" ><rect x="693.000000" y="52.000000" width="140.000000" height="92.000000" class=" stroke-B1 fill-B5" style="stroke-width:2;" /></g><image href="https://icons.terrastruct.com/azure%2FSecurity%20Service%20Color%2FSecurity%20Center.svg" x="693.000000" y="52.000000" width="46" height="46" /><text x="763.000000" y="103.500000" class="text fill-N1" style="text-anchor:middle;font-size:16px">VC Verifier</text></g><g id="(user -- )[0]"><path d="M 79.500000 146.000000 L 79.500000 983.000000" fill="none" class="connection stroke-B2" style="stroke-width:2;stroke-dasharray:12.000000,11.838767;" mask="url(#d2-2579162095)" /></g><g id="(mobile -- )[0]"><path d="M 250.500000 146.000000 L 250.500000 983.000000" fill="none" class="connection stroke-B2" style="stroke-width:2;stroke-dasharray:12.000000,11.838767;" mask="url(#d2-2579162095)" /></g><g id="(browser -- )[0]"><path d="M 413.000000 146.000000 L 413.000000 983.000000" fill="none" class="connection stroke-B2" style="stroke-width:2;stroke-dasharray:12.000000,11.838767;" mask="url(#d2-2579162095)" /></g><g id="(portal -- )[0]"><path d="M 597.500000 146.000000 L 597.500000 983.000000" fill="none" class="connection stroke-B2" style="stroke-width:2;stroke-dasharray:12.000000,11.838767;" mask="url(#d2-2579162095)" /></g><g id="(verifier -- )[0]"><path d="M 763.000000 146.000000 L 763.000000 983.000000" fill="none" class="connection stroke-B2" style="stroke-width:2;stroke-dasharray:12.000000,11.838767;" mask="url(#d2-2579162095)" /></g><g id="portal.t"><g class="shape" ><rect x="591.000000" y="274.000000" width="12.000000" height="90.000000" class=" stroke-B1 fill-B4" style="stroke-width:2;" /></g></g><g id="browser.t"><g class="shape" ><rect x="407.000000" y="344.000000" width="12.000000" height="90.000000" class=" stroke-B1 fill-B4" style="stroke-width:2;" /></g></g><g id="verifier.t"><g class="shape" ><rect x="757.000000" y="414.000000" width="12.000000" height="160.000000" class=" stroke-B1 fill-B4" style="stroke-width:2;" /></g></g><g id="mobile.t"><g class="shape" ><rect x="244.000000" y="624.000000" width="12.000000" height="160.000000" class=" stroke-B1 fill-B4" style="stroke-width:2;" /></g></g><g id="verifier.ar"><g class="shape" ><rect x="757.000000" y="764.000000" width="12.000000" height="160.000000" class=" stroke-B1 fill-B4" style="stroke-width:2;" /></g></g><g id="(user -&gt; browser)[0]"><marker id="mk-2177206569" markerWidth="10.000000" markerHeight="12.000000" refX="7.000000" refY="6.000000" viewBox="0.000000 0.000000 10.000000 12.000000" orient="auto" markerUnits="userSpaceOnUse"> <polygon points="0.000000,0.000000 10.000000,6.000000 0.000000,12.000000" class="connection fill-B2" stroke-width="2" /> </marker><path d="M 81.500000 214.000000 L 409.000000 214.000000" fill="none" class="connection stroke-B2" style="stroke-width:2;stroke-dasharray:10.000000,9.865639;" marker-end="url(#mk-2177206569)" mask="url(#d2-2579162095)" /><text x="246.000000" y="220.000000" class="text-italic fill-N2" style="text-anchor:middle;font-size:16px">(1) Access DOM portal</text></g><g id="(browser -&gt; portal.t)[0]"><marker id="mk-3488378134" markerWidth="10.000000" markerHeight="12.000000" refX="7.000000" refY="6.000000" viewBox="0.000000 0.000000 10.000000 12.000000" orient="auto" markerUnits="userSpaceOnUse"> <polygon points="0.000000,0.000000 10.000000,6.000000 0.000000,12.000000" class="connection fill-B1" stroke-width="2" /> </marker><path d="M 415.000000 284.000000 L 587.500000 284.000000" fill="none" class="connection stroke-B1" style="stroke-width:2;" marker-end="url(#mk-3488378134)" mask="url(#d2-2579162095)" /><text x="502.000000" y="290.000000" class="text-italic fill-N2" style="text-anchor:middle;font-size:16px">(2) Access DOM portal</text></g><g id="(portal.t -&gt; browser.t)[0]"><path d="M 589.500000 354.000000 L 423.000000 354.000000" fill="none" class="connection stroke-B1" style="stroke-width:2;" marker-end="url(#mk-3488378134)" mask="url(#d2-2579162095)" /><text x="505.000000" y="360.000000" class="text-italic fill-N2" style="text-anchor:middle;font-size:16px">(3) HTTP 302 (redirect)</text></g><g id="(browser.t -&gt; verifier.t)[0]"><path d="M 421.000000 424.000000 L 753.000000 424.000000" fill="none" class="connection stroke-B1" style="stroke-width:2;" marker-end="url(#mk-3488378134)" mask="url(#d2-2579162095)" /><text x="588.500000" y="430.000000" class="text-italic fill-N2" style="text-anchor:middle;font-size:16px">(3) Access Login page</text></g><g id="verifier.(t -&gt; t)[0]"><path d="M 771.000000 494.000000 L 833.000000 494.000000 S 843.000000 494.000000 843.000000 504.000000 L 843.000000 529.000000 S 843.000000 539.000000 833.000000 539.000000 L 773.000000 539.000000" fill="none" class="connection stroke-B1" style="stroke-width:2;" marker-end="url(#mk-3488378134)" mask="url(#d2-2579162095)" /><text x="843.500000" y="522.000000" class="text-italic fill-N2" style="text-anchor:middle;font-size:16px">(4) Generate QR code</text></g><g id="(verifier.t -&gt; browser)[0]"><path d="M 755.000000 564.000000 L 417.000000 564.000000" fill="none" class="connection stroke-B1" style="stroke-width:2;" marker-end="url(#mk-3488378134)" mask="url(#d2-2579162095)" /><text x="585.500000" y="570.000000" class="text-italic fill-N2" style="text-anchor:middle;font-size:16px">(5) Display QR code</text></g><g id="(user -&gt; mobile.t)[0]"><path d="M 81.500000 634.000000 L 240.500000 634.000000" fill="none" class="connection stroke-B2" style="stroke-width:2;stroke-dasharray:10.000000,9.865639;" marker-end="url(#mk-2177206569)" mask="url(#d2-2579162095)" /><text x="162.000000" y="640.000000" class="text-italic fill-N2" style="text-anchor:middle;font-size:16px">(6) Start QR scan</text></g><g id="(browser -&gt; mobile.t)[0]"><path d="M 411.000000 704.000000 L 260.500000 704.000000" fill="none" class="connection stroke-B2" style="stroke-width:2;stroke-dasharray:10.000000,9.865639;" marker-end="url(#mk-2177206569)" mask="url(#d2-2579162095)" /><text x="334.500000" y="710.000000" class="text-italic fill-N2" style="text-anchor:middle;font-size:16px">(6) Scan QR code</text></g><g id="(mobile.t -&gt; verifier.ar)[0]"><path d="M 258.500000 774.000000 L 753.000000 774.000000" fill="none" class="connection stroke-B1" style="stroke-width:2;" marker-end="url(#mk-3488378134)" mask="url(#d2-2579162095)" /><text x="507.000000" y="780.000000" class="text-italic fill-N2" style="text-anchor:middle;font-size:16px">(7) GET /authentication-requests</text></g><g id="verifier.(ar -&gt; ar)[0]"><path d="M 771.000000 844.000000 L 833.000000 844.000000 S 843.000000 844.000000 843.000000 854.000000 L 843.000000 879.000000 S 843.000000 889.000000 833.000000 889.000000 L 773.000000 889.000000" fill="none" class="connection stroke-B1" style="stroke-width:2;" marker-end="url(#mk-3488378134)" mask="url(#d2-2579162095)" /><text x="843.000000" y="872.000000" class="text-italic fill-N2" style="text-anchor:middle;font-size:16px">(8) Create Authorization Request</text></g><g id="(verifier.ar -&gt; mobile)[0]"><path d="M 755.000000 914.000000 L 254.500000 914.000000" fill="none" class="connection stroke-B1" style="stroke-width:2;" marker-end="url(#mk-3488378134)" mask="url(#d2-2579162095)" /><text x="503.500000" y="920.000000" class="text-italic fill-N2" style="text-anchor:middle;font-size:16px">(9) Reply with Authorization Request</text></g><mask id="d2-2579162095" maskUnits="userSpaceOnUse" x="-89" y="-49" width="1138" height="1134">
<rect x="-89" y="-49" width="1138" height="1134" fill="white"></rect>
<rect x="176.000000" y="204.000000" width="140" height="21" fill="black"></rect>
<rect x="432.000000" y="274.000000" width="140" height="21" fill="black"></rect>
<rect x="433.000000" y="344.000000" width="144" height="21" fill="black"></rect>
<rect x="519.000000" y="414.000000" width="139" height="21" fill="black"></rect>
<rect x="775.000000" y="506.000000" width="137" height="21" fill="black"></rect>
<rect x="523.000000" y="554.000000" width="125" height="21" fill="black"></rect>
<rect x="108.000000" y="624.000000" width="108" height="21" fill="black"></rect>
<rect x="280.000000" y="694.000000" width="109" height="21" fill="black"></rect>
<rect x="401.000000" y="764.000000" width="212" height="21" fill="black"></rect>
<rect x="737.000000" y="856.000000" width="212" height="21" fill="black"></rect>
<rect x="385.000000" y="904.000000" width="237" height="21" fill="black"></rect>
</mask></svg></svg>
        <ul class='plain'>
            <li id='list_792.1'><a href='#list_792.1' class='selfref'><b>1</b></a> The user (GoodAir employee) uses his Laptop browser to access the DOME portal to perform the onboarding process.            <div>
                <p>We assume in this scenario a cross-device interaction, that is, the user accesses the portal services with a PC browser, but authentication is performed with a mobile using Verifiable Credentials, as in typical 2-factor authentication.
                </p>
            </div>
            </li>
            <li id='list_792.2'><a href='#list_792.2' class='selfref'><b>2</b></a> The browser sends a request to the Packet Delivery portal server.            </li>
            <li id='list_792.3'><a href='#list_792.3' class='selfref'><b>3</b></a> The portal redirects the user to the login page of the Verifier component of DOME Onboarding. The page shows a button labelled “Login with Verifiable Credentials” or something similar.            </li>
            <li id='list_792.4'><a href='#list_792.4' class='selfref'><b>4</b></a> The Verifier generates and displays a QR code, containing inside the URL of the `/authentication-requests` endpoint of the Verifier component which will be used to start the [[OpenID.VP]] process.            <div>
                <p>A QR code is used because a Self-Issued OP may be running locally as a native application or progressive web application (PWA), the RP may not have a network-addressable endpoint to communicate directly with the OP. We have to leverage the implicit flow of OpenID Connect to communicate with such locally-running Ops, as described in [[OpenID.SIOP2]].
                </p>

<pre class="nohighlight" style="color:#f8f8f2;background-color:#282a36;"><code><span style="display:flex;"><span><span style="color:#50fa7b">https://verifier.dome-marketplace.eu/authentication-requests?state</span><span style="color:#ff79c6">=</span><span style="color:#f1fa8c">af0ifjsldkj</span>
</span></span></code></pre>
            </div>
            </li>
            <li id='list_792.5'><a href='#list_792.5' class='selfref'><b>5</b></a> The QR code is displayed in the user browser with instructions to scan it and go to the URL inside it.            </li>
            <li id='list_792.6'><a href='#list_792.6' class='selfref'><b>6</b></a> The user scans the QR with his wallet and tells the wallet to go to the URL in the QR.            </li>
            <li id='list_792.7'><a href='#list_792.7' class='selfref'><b>7</b></a> The mobile performs a GET request to the url inside the QR. The reply to the GET request is an Authorization Request            </li>
            <li id='list_792.8'><a href='#list_792.8' class='selfref'><b>8</b></a> The Verifier creates an Authorization Request. The process is described in detail in the next section            </li>
            <li id='list_792.9'><a href='#list_792.9' class='selfref'><b>9</b></a> The Verifier replies to the wallet with the Authorization Request            </li>
        </ul>

    </section>


    <section><h2>Generating the Authorization Request</h2>

        <p>The Authorization Request travels in the response to the HTTP GET request performed in the previous point, as a JWT signed by the DOME onboarding service, using the eIDAS certificate for seals that corresponds to the legal person operating the service.
        </p>
        <p>The parameters comprising a request for verifiable presentations are given in section 5 of [[OpenID.VP]] and in section 10.1 of [[OpenID.SIOP2]] and are reproduced here with the particularities of this use case, in particular that this is a cross-device interaction:
        </p>
            <ul>
                <li id='list_827.response_type'><a href='#list_827.response_type' class='selfref'><b>response_type</b></a> REQUIRED. Must be <code>vp_token</code>. This parameter is defined in [[RFC6749]]> The possible values are determined by the response type registry established by [[RFC6749]]. The [[OpenID.VP]] specification introduces the response type <code>vp_token</code>. This response type asks the SIOP to return only a VP Token in the Authorization Response, which is what we want in our case.                </li>
                <li id='list_827.scope'><a href='#list_827.scope' class='selfref'><b>scope</b></a> REQUIRED. This parameter is defined in [[RFC6749]] which allows it to be used by verifiers to request presentation of credentials by utilizing a pre-defined scope value designating the type of credential. See section <a href="#request_scope" class="xref">Request Scope</a> for more details. We use in this instance the value <code>dome.credentials.presentation.LEARCredential</code> which means that the RP (DOME onboarding service) is asking the SIOP (user wallet) to send a credential of type <code>LEARCredential</code>.                </li>
                <li id='list_827.response_mode'><a href='#list_827.response_mode' class='selfref'><b>response_mode</b></a> REQUIRED. MUST be <code>direct_post</code>. As this is a cross-device scenario, this response mode is used to instruct the Self-Issued OP to deliver the result of the authentication process to a certain endpoint using the HTTP POST method. This endpoint to which the SIOP shall deliver the authentication result is conveyed in the parameter <code>redirect_uri</code> described below.                </li>
                <li id='list_827.redirect_uri'><a href='#list_827.redirect_uri' class='selfref'><b>redirect_uri</b></a> (REQUIRED). MUST be a valid RP endpoint. The Authentication Response is sent to this endpoint using <code>POST</code> and encoding `application/json`).                </li>
                <li id='list_827.client_id'><a href='#list_827.client_id' class='selfref'><b>client_id</b></a> REQUIRED. MUST be the DID of the RP (DOM onboarding entity) so it can be resolved by the SIOP and checked against a Trusted List, or rejected if it does not pass validation. This provides a high level of assurance to the SIOP that the RP is really who it claims.                </li>
                <li id='list_827.client_id_scheme'><a href='#list_827.client_id_scheme' class='selfref'><b>client_id_scheme</b></a> REQUIRED. MUST have the value <code>did</code>. This value indicates that the Client Identifier is a DID defined in [[DID-Core]]. The request MUST be signed with a private key associated with the DID. To obtain the corresponding private key, the Wallet MUST use DID Resolution defined by the DID method used by the Verifier. For most DID methods and since the associated DID Document may include multiple public keys, a particular public key used to sign the request in question MUST be identified by the kid in the JOSE Header. However, in our case the Verifier uses `did:elsi` and so the request MUST be signed with the eIDAS certificate according to the [[ETSI-JADES]] format, which defines the mechanism to identify the public key.                <div>
                    <p>All Verifier metadata other than the public key MUST be obtained from the client_metadata or the `client_metadata_uri parameter` as defined in Section 5 of [[OpenID.VP]].
                    </p>
                </div>
                </li>
                <li id='list_827.nonce'><a href='#list_827.nonce' class='selfref'><b>nonce</b></a> REQUIRED. This parameter follows the definition given in [[OpenID.Core]]. It is used to securely bind the verifiable presentation(s) provided by the wallet (SIOP) to the particular transaction managed by the RP.                </li>
                <li id='list_827.state'><a href='#list_827.state' class='selfref'><b>state</b></a> REQUIRED. Used by the portal component of DOM onboarding to associate the start of an authentication session with the end of that session when the RP Verifier component notifies to the portal.                </li>
                <li id='list_827.presentation_definition'><a href='#list_827.presentation_definition' class='selfref'><b>presentation_definition</b></a> CONDITIONAL. A string containing a <code>presentation_definition</code> JSON object as defined in Section 4 of [[DIF.PresentationExchange]]. We do not use this parameter because <code>scope</code> already specifies the credential type.                </li>
                <li id='list_827.presentation_definition_uri'><a href='#list_827.presentation_definition_uri' class='selfref'><b>presentation_definition_uri</b></a> CONDITIONAL. A string containing a URL pointing to a resource where a <code>presentation_definition</code> JSON object as defined in Section 4 of [[DIF.PresentationExchange]] can be retrieved. We do not use this parameter because <code>scope</code> already specifies the credential type.                </li>
            </ul>

            <p>Note: A request MUST contain either a <code>presentation_definition</code> or a <code>presentation_definition_uri</code> or a single <code>scope</code> value representing a presentation definition, those three ways to request credential presentation are mutually exclusive. We use here the <code>scope</code> mechanism, which is simpler and fits our use case.
            </p>
            <p>This is an example request:
            </p>

<pre class="nohighlight" style="color:#f8f8f2;background-color:#282a36;"><code><span style="display:flex;"><span><span style="color:#50fa7b">openid://?</span>
</span></span><span style="display:flex;"><span><span style="color:#50fa7b">scope</span><span style="color:#ff79c6">=</span><span style="color:#f1fa8c">dome.credentials.presentation.LEARCredential&amp;</span>
</span></span><span style="display:flex;"><span><span style="color:#50fa7b">response_type</span><span style="color:#ff79c6">=</span><span style="color:#f1fa8c">vp_token&amp;</span>
</span></span><span style="display:flex;"><span><span style="color:#50fa7b">response_mode</span><span style="color:#ff79c6">=</span><span style="color:#f1fa8c">direct_post&amp;</span>
</span></span><span style="display:flex;"><span><span style="color:#50fa7b">client_id</span><span style="color:#ff79c6">=</span><span style="color:#f1fa8c">did:elsi:VATFR-99999999&amp;</span>
</span></span><span style="display:flex;"><span><span style="color:#50fa7b">redirect_uri</span><span style="color:#ff79c6">=</span><span style="color:#f1fa8c">https://verifier.dome-marketplace.eu/api/authentication_response&amp;</span>
</span></span><span style="display:flex;"><span><span style="color:#50fa7b">state</span><span style="color:#ff79c6">=</span><span style="color:#f1fa8c">af0ifjsldkj&amp;</span>
</span></span><span style="display:flex;"><span><span style="color:#50fa7b">nonce</span><span style="color:#ff79c6">=</span><span style="color:#f1fa8c">n-0S6_WzA2Mj</span>
</span></span></code></pre>
            <p>(URL encoding removed, line breaks and leading spaces added for readability).
            </p>
        <p>As mentioned above, the Authentication Request is returned to the wallet in the reply body of the GET request, as a JWT in JWS form [[RFC7515]]), signed with eIDAS certificate of the DOM onboarding legal person.
        </p>
        <p>This is an example of the unencoded contents of the payload of the JWT:
        </p>

<pre class="nohighlight" style="color:#f8f8f2;background-color:#282a36;"><code><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    <span style="color:#ff79c6">&#34;iss&#34;</span>: <span style="color:#f1fa8c">&#34;did:elsi:VATFR-99999999&#34;</span>,   <span style="color:#6272a4">// Should correspond with the client_id in the AR
</span></span></span><span style="display:flex;"><span><span style="color:#6272a4"></span>    <span style="color:#ff79c6">&#34;sub&#34;</span>: <span style="color:#f1fa8c">&#34;did:elsi:VATFR-99999999&#34;</span>,   <span style="color:#6272a4">// Should correspond with the client_id in the AR
</span></span></span><span style="display:flex;"><span><span style="color:#6272a4"></span>    <span style="color:#ff79c6">&#34;aud&#34;</span>: <span style="color:#f1fa8c">&#34;https://self-issued.me/v2&#34;</span>, <span style="color:#6272a4">// As specified in section 5.5 of OIDC4VP
</span></span></span><span style="display:flex;"><span><span style="color:#6272a4"></span>    <span style="color:#ff79c6">&#34;iat&#34;</span>: <span style="color:#bd93f9">1667194901</span>,
</span></span><span style="display:flex;"><span>    <span style="color:#ff79c6">&#34;exp&#34;</span>: <span style="color:#bd93f9">1667194961</span>,                  <span style="color:#6272a4">// To avoid replays, here it expires in 60 secs
</span></span></span><span style="display:flex;"><span><span style="color:#6272a4"></span>    <span style="color:#ff79c6">&#34;auth_request&#34;</span>: <span style="color:#f1fa8c">&#34;openid://?scope=...&amp;amp;response_type=vp_token&amp;amp;...&#34;</span>,
</span></span><span style="display:flex;"><span>}
</span></span></code></pre>
        <p>Where the claims <code>iss</code> and <code>sub</code> MUST be the DID of the RP (in this case DOME onboarding) and MUST correspond exactly with the <code>client_id</code> parameter in the Authentication Request. The claim <code>auth_request</code> contains the Authentication Request as a string. The expiration time in claim <code>exp</code> avoids replays and can be very short because it is used by the SIOP just on reception of the Authentication Request.
        </p>
        <p>The following diagram describes the process of generating the Authorization Request.
        </p>
<!-- Original D2 diagram definition
    shape: sequence_diagram
    # Definition of the participants
    user: John Doe {
        icon: https://icons.terrastruct.com/essentials%2F365-user.svg
    }
    mobile: Webapp {
        icon: https://icons.terrastruct.com/tech%2F052-smartphone-3.svg
    }
    browser: Laptop {
        icon: https://icons.terrastruct.com/tech%2Fbrowser-2.svg
    }
    portal: Portal {
        icon: https://icons.terrastruct.com/azure%2FIntegration%20Service%20Color%2FSoftware%20as%20a%20Service%20%28SaaS%29.svg
    }
    verifier: VC Verifier {
        icon: https://icons.terrastruct.com/azure%2FSecurity%20Service%20Color%2FSecurity%20Center.svg
    }
    # ==================================================
    # (7) After confirmation by the user, the wallet performs a ` GET /authentication-requests` endpoint that was inside the QR code. The reply to the GET request is an Authorization Request
    mobile.t -> verifier.ar: (7) GET /authentication-requests
    verifier.ar -> verifier.ar: (8) Create Authorization Request
    verifier.ar -> mobile: (9) Reply with Authorization Request
 -->

<?xml version="1.0" encoding="utf-8"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" d2Version="v0.4.0-HEAD" preserveAspectRatio="xMinYMin meet" viewBox="0 0 1108 574"><svg id="d2-svg" class="d2-1456211923" width="1108" height="574" viewBox="-89 -49 1108 574"><rect x="-89.000000" y="-49.000000" width="1108.000000" height="574.000000" rx="0.000000" class=" fill-N7" stroke-width="0" /><style type="text/css"><![CDATA[
.d2-1456211923 .text {
	font-family: "d2-1456211923-font-regular";
}
@font-face {
	font-family: d2-1456211923-font-regular;
	src: url("data:application/font-woff;base64,d09GRgABAAAAAA+4AAoAAAAAF9QAAguFAAAAAAAAAAAAAAAAAAAAAAAAAABPUy8yAAAA9AAAAGAAAABgXd/Vo2NtYXAAAAFUAAAAxwAAARwFlQbfZ2x5ZgAAAhwAAAjiAAAL/Elx5p1oZWFkAAALAAAAADYAAAA2G4Ue32hoZWEAAAs4AAAAJAAAACQKhAXsaG10eAAAC1wAAACfAAAAqEwRCBlsb2NhAAAL/AAAAFYAAABWQaI+oG1heHAAAAxUAAAAIAAAACAAQgD2bmFtZQAADHQAAAMjAAAIFAbDVU1wb3N0AAAPmAAAAB0AAAAg/9EAMgADAgkBkAAFAAACigJYAAAASwKKAlgAAAFeADIBIwAAAgsFAwMEAwICBGAAAvcAAAADAAAAAAAAAABBREJPAEAAIP//Au7/BgAAA9gBESAAAZ8AAAAAAeYClAAAACAAA3icjM7JKkUBHIDx33GP+Zjn+ZgpspTlTVKykMRaIupmpxsPZAhbQxEexZYHYKO/ujs73/q3+JAoSJBJfWJOLpXJzZq3YEnRilVr1m3YtGXHngNHSk6UnUUgN1PRi4qW/+htu/YdKjlWdhoR7/ETX/EdH/EWr/ESz/EUj/EQ93EXt3ET13EVl3ER55Wv/5eYNGXCtFFjxlUpSFWrUatOvQaNMk2atWjVpl2HTl269ejVp9+AQUOGjcj5BQAA//8BAAD///jvOlMAeJyMln9sG/X5x5/Px45/xE6di33+kfjX3TV3tvPDic/nS2L3nDi24/xw4jpN06RNSn60aSn0C6lo6XcVbCO0hWrCk5iEaGFoQ5rQtA2EVCZN06ZOlGz82EAIxqAVQlNAYtqmLJMGNOfpzk7aICHtP0u+e57n/X5ez/Mc1MAUABbwk6ABI1igAUgAnqCIZorjGL3IiyLj0IgcIvRT6CO5hNBgVBuLaTtTn6fOPvwwOvAQfnLznp6VpaVXZ8+ckb+39pkcQW99Bhg0ANiDS2AEAsCq5zmW5RidTmPlrQzH6F/3vepr8NdrLf6/3Jy9OSX9I4n+b3FRvLe7+155Gpc271tdBQBAEC1v4CZ8BTwANTTLCtFYjI/YHXqWZWidjrTZ7XwkJjp0OlQsfmd4ZGU8ccjd1pgKSTN85KAUHvK1c/PmvU+duPupYqc/5qb7TheLZ1MBOtoWAQAM0wA4iktgUOrkCT5iJ206huMjMSHKMsz08089+8wPJoZPnTp1ahiXXrjyzM/Tl86de1StbRoA3cQlMKmekRTJkwxJkdPo/+UPvvgCdeJS9q2Bvw9s62DxFfB/kw5FhsAIPKHToUP7z4+MXpxMz7jbXalIal64/zjTa730vu94VQrvjTXu7jtdPPd9suGnGflvVIuSw1feQI/hElgAHDQnqtYIBE/YdLp3v9WTsHcxQnRfc8F8PMQxfcPoNbmza1as6ngDl6BGdYCgyOlx5MOlzVeU0qsemVSdtqpHqkkMQWzb9Kuhk9L5e+6Z3z8+uX8Wl3ZP5JYW5Vso15cdELdj+HEJdoHjjhh6K6O5M8yb/cfihfRPZp89czJfLOZP4hKzNz0yQ8ifIFL+HE0le/uiFS7cAOgWLoFeicYIFMkQn1xHH1/HQ9ns5tXKM0piDS5BHQCv4a12u4OPxUQrr3nnnanjDU1WbYObOD7xJ1ySn+050tNzpAfNb94HSKkQf4lLQH3tvTsiMJoKz3rNjy7tzxhtRq3JaTo4ctDsNGuNDbWZwsXFBaPFoNU3GOZwSb4s3C0IJ6LoiHw5eqLya/M+dIkdZNlBVn4AsMIHegmtQyPsVrqnACJGVTj0nIoKSTBKQk7BRAXm2p69T1wmWgKhIY+fXuiZKqT1GnqvnZGYs3MR82BfYYLwdTF+W7c9eO9B+b0edyhF+y5YEuFgM2AoljfQV3gVrFUiOUbPEDypr+SyqYmUntA6PWm3oyA96NfoU0VMjQUOz8cPZxNj8Yyvl/EnzZQnglevHfBw5+8fPy1llqYLC7S/7HZUetBe3kC/QOtKv76Ze2V8G3qPJfpOSB0ZV4gMe1oz3Hg/3WPfTRXMieVCcTlBO2JWZ3iia3zJYxM9lMKUEvsPaB2c4NsRXQGL2l4MGkqVgRx9d0vJRXHmCMLyL2sms0y8yeMbex1pk938XvOe5bHCsnTuWJ3LmD9EEjGbF7FD+TFVgxcAJfG7ld3ICKIQrWpgaFKZeeKuVCoz6AjVNzS500tL6MdSTX5o0qhPmmfz/fKMGqMIgN7Hq9UJ2vKZYIiKx0SxqGHykfxAsbWjOd6MV68tUuG5GfkNFExLbLP8HJTLkAGAl/FVzEIAAHQQPFfxuFjegD/j1crcs+rEb4l/oT1Y3GXU6vUmg93cLeCjm09aCYQkrXarJrRerUlB+2s1pfUaZnS7KLSWZXbWVO3BP9E6WKBpRw92MkTa7MgSX0oml+KJo8nk0UQyn09Ko6PV3iaWi4XlRHppfN+xY/vGl0Dlk0dfofUKn47b1dl0OoZmOQdpvZNPpVJqrGV2Pn64i+6n8RkVz+RuSnoTv9zlDly4v3ha8jZOPI90O/jEEC7z6IOtPDWCqIbfopQXeUITEYVtWNF5rWc4dPBkfE4M9VLYkPpjb8LX7eWSbPbNnx1wBx49O3ZK8njaN/NI1y+7HeHxrsmF7f7PovXqlamoqU5BxWhXLuhx1JttFl+/C60daI/V5rTaiCRX76C7vIEeQesQUnu8tdyjLMu1420eq1bbHV6sGPV2dJYJ+tMtHR0U30SnQlNjbaPugCvmb2/xdjQx6bbgmJlziy6qzeeiHbV1lBCMj/kdUasz5HZ4SFMdJbZzqYCa31neQBl8UtmNKmOMIIq8Cv82a5+P7smN1GYeeYQK1XnN9baweTqH6qSaixf75fW2TqNW0pvUWMPlDfQWWlO428ErwVd23Mf53HhLBxunFV/oEfPcDIrK76clrgVNyY0jgQ6lHgB8Fa39bzv6hxf25Qy79FpDvXG4MGIkDFqDRT8w+t3FrNFi1Brqa9NoTf6U7qfpfhq57vjViGqYdHNzhpFvAQJzOYxeQ2sK6bd7IIo7TssuPF3vMdcbbMZgzGL63cSCyWXSmmy1k4VXiHDmbZ22D9fE23ajT+V/+XI0lfOjus31jpE29X4DoCfQGhgBeAEpRw1RpA/BX9FIGZChFZ3pb5Uf61c9bAVAr+GH1NsmYZESKHKXRv+Sjssn5WvocncuYNM++JsXJgf43KMXnlZ2kAaC5Q20ih8HH7RCt6pBJV3h+/bm1OnJCj2a2O3htWuqsKlT8GViVmRELxPrKPLjc+6AzRPx8zOEn+kRWuPBdE1XpmOsneXHzG2FSKivs17rykU6h4J3DVHxsEVb37qnJTzaho55eplwqivMRhj5erIzGGUbXNlWIVOZy0B5A/0WPw4mZddZK3yofFu3nY/tGFa19gficf+Az5Db0953gM83tttEb9tIGHkLgeJCdIJPLnZnTqJfS4OBtpm5/OZ/OHfU4Y4+eJRtXZjfcyiavrj07SsDlXkLwofIghqV71hR4Mng2ofJZGXXFpARf6T47lBtU8gnbXbHe1I2K/E93d09Lx65sbJyc9F5+Mby8o3DgIAtF+BG9R1OdVVRQNp0U+rzvJTNvlh92rl4c2XlBiCoLd+F9uLrSn4H4lEtMiXkfz+nOXrradjaJ/A8WlP+V77ZikW0JjcCKv8eD4GIryrfpITqTaWrTp/P6fT58JDH5fR6nS4P/BcAAP//AQAA//8sLo5nAAAAAQAAAAILhdalFvtfDzz1AAMD6AAAAADYXaChAAAAAN1mLzb+Ov7bCG8DyAAAAAMAAgAAAAAAAAABAAAD2P7vAAAImP46/joIbwABAAAAAAAAAAAAAAAAAAAAKnicBMAxSsNwHMXx73vZRBBczBCSgCKGSLIERZyd3H6bf8FVepieolNvki5deoFOnZsldEs/XvPDCK7J/Mngf5LvSF4x6EilE8lvJH+QnFM4g+yeB10Y3BAa6XSm0xOla4KZLxbCj4RLOreEW3r9EtpQKMhd8+09uQ7cakuliVdNNJp40TuNekI9z/rjhpmAZXcFAAD//wEAAP//AOIdYgAAAAAsACwAUACAAJ4AtADmAQIBEgE0AVwBbgGKAcQB/AIwAl4CkgK0AtYC4gL+AyADTAOAA7QD1AQUBDoEXASWBMYE3AT2BUwFjAWYBbIFzAXcBegF/gAAAAEAAAAqAIwADABmAAcAAQAAAAAAAAAAAAAAAAAEAAN4nJyU3U4bVxSFPwfbbVQ1FxWKyA06l22VjN0IogSuTAmKVYRTj9Mfqao0eMY/Yjwz8gxQqj5Ar/sWfYtc9Tn6EFWvq7O8DTaqFIEQsM6cvfdZZ6+1D7DJv2xQqz8E/mr+YLjGdnPP8AMeNZ8a3uC48bfh+kpMg7jxm+EmXzb6hj/iff0Pwx+zU//Z8EO26keGP+F5fdPwpxuOfww/Yof3C1yDl/xuuMYWheEHbPKT4Q0eYzVrdR7TNtzgM7YNN9kGBkypSJmSMcYxYsqYc+YklIQkzJkyIiHG0aVDSqWvGZGQY/y/XyNCKuZEqjihwpESkhJRMrGKvyor561OHGk1t70OFRMiTpVxRkSGI2dMTkbCmepUVBTs0aJFyVB8CypKAkqmpATkzBnToscRxwyYMKXEcaRKnllIzoiKSyKd7yzCd2ZIQkZprM7JiMXTiV+i7C7HOHoUil2tfLxW4SmO75TtueWK/YpAv26F2fq5SzYRF+pnqq6k2rmUghPt+nM7fCtcsYe7V3/WmXy4R7H+V6p8yrn0j6VUJiYZzm3RIZSDQvcEx4HWXUJ15Hu6DHhDj3cMtO7Qp0+HEwZ0ea3cHn0cX9PjhENldIUXe0dyzAk/4viGrmJ87cT6s1As4RcKc3cpjnPdY0ahnnvmge6a6IZ3V9jPUL7mjlI5Q82Rj3TSL9OcRYzNFYUYztTLpTdK619sjpjpLl7bm30/DRc2e8spviLXDHu3Ljh55RaMPqRqcMszl/oJiIjJOVXEkJwZLSquxPstEeekOA7VvTeakorOdY4/50ouSZiJQZdMdeYU+huZb0LjPlzzvbO3JFa+Z3p2fav7nOLUqxuN3ql7y73QupysKNAyVfMVNw3FNTPvJ5qpVf6hcku9bjnP6JNI9VQ3uP0OPCegzQ677DPROUPtXNgb0dY70eYV++rBGYmiRnJ1YhV2CXjBLru84sVazQ6HHNBj/w4cF1k9Dnh9a2ddp2UVZ3X+FJu2+DqeXa9e3luvz+/gyy80UTcvY1/a+G5fWLUb/58QMfNc3NbqndwTgv8AAAD//wEAAP//B1tMMAB4nGJgZgCD/+cYjBiwAAAAAAD//wEAAP//LwECAwAAAA==");
}
.d2-1456211923 .text-italic {
	font-family: "d2-1456211923-font-italic";
}
@font-face {
	font-family: d2-1456211923-font-italic;
	src: url("data:application/font-woff;base64,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");
}]]></style><style type="text/css"><![CDATA[.shape {
  shape-rendering: geometricPrecision;
  stroke-linejoin: round;
}
.connection {
  stroke-linecap: round;
  stroke-linejoin: round;
}
.blend {
  mix-blend-mode: multiply;
  opacity: 0.5;
}

		.d2-1456211923 .fill-N1{fill:#0A0F25;}
		.d2-1456211923 .fill-N2{fill:#676C7E;}
		.d2-1456211923 .fill-N3{fill:#9499AB;}
		.d2-1456211923 .fill-N4{fill:#CFD2DD;}
		.d2-1456211923 .fill-N5{fill:#DEE1EB;}
		.d2-1456211923 .fill-N6{fill:#EEF1F8;}
		.d2-1456211923 .fill-N7{fill:#FFFFFF;}
		.d2-1456211923 .fill-B1{fill:#0D32B2;}
		.d2-1456211923 .fill-B2{fill:#0D32B2;}
		.d2-1456211923 .fill-B3{fill:#E3E9FD;}
		.d2-1456211923 .fill-B4{fill:#E3E9FD;}
		.d2-1456211923 .fill-B5{fill:#EDF0FD;}
		.d2-1456211923 .fill-B6{fill:#F7F8FE;}
		.d2-1456211923 .fill-AA2{fill:#4A6FF3;}
		.d2-1456211923 .fill-AA4{fill:#EDF0FD;}
		.d2-1456211923 .fill-AA5{fill:#F7F8FE;}
		.d2-1456211923 .fill-AB4{fill:#EDF0FD;}
		.d2-1456211923 .fill-AB5{fill:#F7F8FE;}
		.d2-1456211923 .stroke-N1{stroke:#0A0F25;}
		.d2-1456211923 .stroke-N2{stroke:#676C7E;}
		.d2-1456211923 .stroke-N3{stroke:#9499AB;}
		.d2-1456211923 .stroke-N4{stroke:#CFD2DD;}
		.d2-1456211923 .stroke-N5{stroke:#DEE1EB;}
		.d2-1456211923 .stroke-N6{stroke:#EEF1F8;}
		.d2-1456211923 .stroke-N7{stroke:#FFFFFF;}
		.d2-1456211923 .stroke-B1{stroke:#0D32B2;}
		.d2-1456211923 .stroke-B2{stroke:#0D32B2;}
		.d2-1456211923 .stroke-B3{stroke:#E3E9FD;}
		.d2-1456211923 .stroke-B4{stroke:#E3E9FD;}
		.d2-1456211923 .stroke-B5{stroke:#EDF0FD;}
		.d2-1456211923 .stroke-B6{stroke:#F7F8FE;}
		.d2-1456211923 .stroke-AA2{stroke:#4A6FF3;}
		.d2-1456211923 .stroke-AA4{stroke:#EDF0FD;}
		.d2-1456211923 .stroke-AA5{stroke:#F7F8FE;}
		.d2-1456211923 .stroke-AB4{stroke:#EDF0FD;}
		.d2-1456211923 .stroke-AB5{stroke:#F7F8FE;}
		.d2-1456211923 .background-color-N1{background-color:#0A0F25;}
		.d2-1456211923 .background-color-N2{background-color:#676C7E;}
		.d2-1456211923 .background-color-N3{background-color:#9499AB;}
		.d2-1456211923 .background-color-N4{background-color:#CFD2DD;}
		.d2-1456211923 .background-color-N5{background-color:#DEE1EB;}
		.d2-1456211923 .background-color-N6{background-color:#EEF1F8;}
		.d2-1456211923 .background-color-N7{background-color:#FFFFFF;}
		.d2-1456211923 .background-color-B1{background-color:#0D32B2;}
		.d2-1456211923 .background-color-B2{background-color:#0D32B2;}
		.d2-1456211923 .background-color-B3{background-color:#E3E9FD;}
		.d2-1456211923 .background-color-B4{background-color:#E3E9FD;}
		.d2-1456211923 .background-color-B5{background-color:#EDF0FD;}
		.d2-1456211923 .background-color-B6{background-color:#F7F8FE;}
		.d2-1456211923 .background-color-AA2{background-color:#4A6FF3;}
		.d2-1456211923 .background-color-AA4{background-color:#EDF0FD;}
		.d2-1456211923 .background-color-AA5{background-color:#F7F8FE;}
		.d2-1456211923 .background-color-AB4{background-color:#EDF0FD;}
		.d2-1456211923 .background-color-AB5{background-color:#F7F8FE;}
		.d2-1456211923 .color-N1{color:#0A0F25;}
		.d2-1456211923 .color-N2{color:#676C7E;}
		.d2-1456211923 .color-N3{color:#9499AB;}
		.d2-1456211923 .color-N4{color:#CFD2DD;}
		.d2-1456211923 .color-N5{color:#DEE1EB;}
		.d2-1456211923 .color-N6{color:#EEF1F8;}
		.d2-1456211923 .color-N7{color:#FFFFFF;}
		.d2-1456211923 .color-B1{color:#0D32B2;}
		.d2-1456211923 .color-B2{color:#0D32B2;}
		.d2-1456211923 .color-B3{color:#E3E9FD;}
		.d2-1456211923 .color-B4{color:#E3E9FD;}
		.d2-1456211923 .color-B5{color:#EDF0FD;}
		.d2-1456211923 .color-B6{color:#F7F8FE;}
		.d2-1456211923 .color-AA2{color:#4A6FF3;}
		.d2-1456211923 .color-AA4{color:#EDF0FD;}
		.d2-1456211923 .color-AA5{color:#F7F8FE;}
		.d2-1456211923 .color-AB4{color:#EDF0FD;}
		.d2-1456211923 .color-AB5{color:#F7F8FE;}.appendix text.text{fill:#0A0F25}.md{--color-fg-default:#0A0F25;--color-fg-muted:#676C7E;--color-fg-subtle:#9499AB;--color-canvas-default:#FFFFFF;--color-canvas-subtle:#EEF1F8;--color-border-default:#0D32B2;--color-border-muted:#0D32B2;--color-neutral-muted:#EEF1F8;--color-accent-fg:#0D32B2;--color-accent-emphasis:#0D32B2;--color-attention-subtle:#676C7E;--color-danger-fg:red;}.sketch-overlay-B1{fill:url(#streaks-darker);mix-blend-mode:lighten}.sketch-overlay-B2{fill:url(#streaks-darker);mix-blend-mode:lighten}.sketch-overlay-B3{fill:url(#streaks-bright);mix-blend-mode:darken}.sketch-overlay-B4{fill:url(#streaks-bright);mix-blend-mode:darken}.sketch-overlay-B5{fill:url(#streaks-bright);mix-blend-mode:darken}.sketch-overlay-B6{fill:url(#streaks-bright);mix-blend-mode:darken}.sketch-overlay-AA2{fill:url(#streaks-dark);mix-blend-mode:overlay}.sketch-overlay-AA4{fill:url(#streaks-bright);mix-blend-mode:darken}.sketch-overlay-AA5{fill:url(#streaks-bright);mix-blend-mode:darken}.sketch-overlay-AB4{fill:url(#streaks-bright);mix-blend-mode:darken}.sketch-overlay-AB5{fill:url(#streaks-bright);mix-blend-mode:darken}.sketch-overlay-N1{fill:url(#streaks-darker);mix-blend-mode:lighten}.sketch-overlay-N2{fill:url(#streaks-dark);mix-blend-mode:overlay}.sketch-overlay-N3{fill:url(#streaks-normal);mix-blend-mode:color-burn}.sketch-overlay-N4{fill:url(#streaks-normal);mix-blend-mode:color-burn}.sketch-overlay-N5{fill:url(#streaks-bright);mix-blend-mode:darken}.sketch-overlay-N6{fill:url(#streaks-bright);mix-blend-mode:darken}.sketch-overlay-N7{fill:url(#streaks-bright);mix-blend-mode:darken}.light-code{display: block}.dark-code{display: none}]]></style><g id="user"><g class="shape" ><rect x="12.000000" y="52.000000" width="135.000000" height="92.000000" class=" stroke-B1 fill-N7" style="stroke-width:2;" /></g><image href="https://icons.terrastruct.com/essentials%2F365-user.svg" x="12.000000" y="52.000000" width="46" height="46" /><text x="79.500000" y="103.500000" class="text fill-N1" style="text-anchor:middle;font-size:16px">John Doe</text></g><g id="mobile"><g class="shape" ><rect x="187.000000" y="52.000000" width="127.000000" height="92.000000" class=" stroke-B1 fill-B5" style="stroke-width:2;" /></g><image href="https://icons.terrastruct.com/tech%2F052-smartphone-3.svg" x="187.000000" y="52.000000" width="46" height="46" /><text x="250.500000" y="103.500000" class="text fill-N1" style="text-anchor:middle;font-size:16px">Webapp</text></g><g id="browser"><g class="shape" ><rect x="354.000000" y="52.000000" width="118.000000" height="92.000000" class=" stroke-B1 fill-N7" style="stroke-width:2;" /></g><image href="https://icons.terrastruct.com/tech%2Fbrowser-2.svg" x="354.000000" y="52.000000" width="46" height="46" /><text x="413.000000" y="103.500000" class="text fill-N1" style="text-anchor:middle;font-size:16px">Laptop</text></g><g id="portal"><g class="shape" ><rect x="512.000000" y="52.000000" width="111.000000" height="92.000000" class=" stroke-B1 fill-N7" style="stroke-width:2;" /></g><image href="https://icons.terrastruct.com/azure%2FIntegration%20Service%20Color%2FSoftware%20as%20a%20Service%20%28SaaS%29.svg" x="512.000000" y="52.000000" width="46" height="46" /><text x="567.500000" y="103.500000" class="text fill-N1" style="text-anchor:middle;font-size:16px">Portal</text></g><g id="verifier"><g class="shape" ><rect x="663.000000" y="52.000000" width="140.000000" height="92.000000" class=" stroke-B1 fill-B5" style="stroke-width:2;" /></g><image href="https://icons.terrastruct.com/azure%2FSecurity%20Service%20Color%2FSecurity%20Center.svg" x="663.000000" y="52.000000" width="46" height="46" /><text x="733.000000" y="103.500000" class="text fill-N1" style="text-anchor:middle;font-size:16px">VC Verifier</text></g><g id="(user -- )[0]"><path d="M 79.500000 146.000000 L 79.500000 423.000000" fill="none" class="connection stroke-B2" style="stroke-width:2;stroke-dasharray:12.000000,11.838767;" mask="url(#d2-1456211923)" /></g><g id="(mobile -- )[0]"><path d="M 250.500000 146.000000 L 250.500000 423.000000" fill="none" class="connection stroke-B2" style="stroke-width:2;stroke-dasharray:12.000000,11.838767;" mask="url(#d2-1456211923)" /></g><g id="(browser -- )[0]"><path d="M 413.000000 146.000000 L 413.000000 423.000000" fill="none" class="connection stroke-B2" style="stroke-width:2;stroke-dasharray:12.000000,11.838767;" mask="url(#d2-1456211923)" /></g><g id="(portal -- )[0]"><path d="M 567.500000 146.000000 L 567.500000 423.000000" fill="none" class="connection stroke-B2" style="stroke-width:2;stroke-dasharray:12.000000,11.838767;" mask="url(#d2-1456211923)" /></g><g id="(verifier -- )[0]"><path d="M 733.000000 146.000000 L 733.000000 423.000000" fill="none" class="connection stroke-B2" style="stroke-width:2;stroke-dasharray:12.000000,11.838767;" mask="url(#d2-1456211923)" /></g><g id="mobile.t"><g class="shape" ><rect x="244.000000" y="204.000000" width="12.000000" height="30.000000" class=" stroke-B1 fill-B4" style="stroke-width:2;" /></g></g><g id="verifier.ar"><g class="shape" ><rect x="727.000000" y="204.000000" width="12.000000" height="160.000000" class=" stroke-B1 fill-B4" style="stroke-width:2;" /></g></g><g id="(mobile.t -&gt; verifier.ar)[0]"><marker id="mk-3488378134" markerWidth="10.000000" markerHeight="12.000000" refX="7.000000" refY="6.000000" viewBox="0.000000 0.000000 10.000000 12.000000" orient="auto" markerUnits="userSpaceOnUse"> <polygon points="0.000000,0.000000 10.000000,6.000000 0.000000,12.000000" class="connection fill-B1" stroke-width="2" /> </marker><path d="M 258.500000 214.000000 L 723.000000 214.000000" fill="none" class="connection stroke-B1" style="stroke-width:2;" marker-end="url(#mk-3488378134)" mask="url(#d2-1456211923)" /><text x="492.000000" y="220.000000" class="text-italic fill-N2" style="text-anchor:middle;font-size:16px">(7) GET /authentication-requests</text></g><g id="verifier.(ar -&gt; ar)[0]"><path d="M 741.000000 284.000000 L 803.000000 284.000000 S 813.000000 284.000000 813.000000 294.000000 L 813.000000 319.000000 S 813.000000 329.000000 803.000000 329.000000 L 743.000000 329.000000" fill="none" class="connection stroke-B1" style="stroke-width:2;" marker-end="url(#mk-3488378134)" mask="url(#d2-1456211923)" /><text x="813.000000" y="312.000000" class="text-italic fill-N2" style="text-anchor:middle;font-size:16px">(8) Create Authorization Request</text></g><g id="(verifier.ar -&gt; mobile)[0]"><path d="M 725.000000 354.000000 L 254.500000 354.000000" fill="none" class="connection stroke-B1" style="stroke-width:2;" marker-end="url(#mk-3488378134)" mask="url(#d2-1456211923)" /><text x="488.500000" y="360.000000" class="text-italic fill-N2" style="text-anchor:middle;font-size:16px">(9) Reply with Authorization Request</text></g><mask id="d2-1456211923" maskUnits="userSpaceOnUse" x="-89" y="-49" width="1108" height="574">
<rect x="-89" y="-49" width="1108" height="574" fill="white"></rect>
<rect x="386.000000" y="204.000000" width="212" height="21" fill="black"></rect>
<rect x="707.000000" y="296.000000" width="212" height="21" fill="black"></rect>
<rect x="370.000000" y="344.000000" width="237" height="21" fill="black"></rect>
</mask></svg></svg>
        <ul>
            <li id='list_912.8'><a href='#list_912.8' class='selfref'><b>8</b></a> Packet Delivery company RP creates a SIOP Authentication Request. The parameters comprising a request for verifiable presentations are given in section 5 of [[OpenID.VP]] and in section 10.1 of [[OpenID.SIOP2]] and are reproduced here with the particularities of this use case, in particular that this is a cross-device interaction:            </li>
            <li id='list_912.9'><a href='#list_912.9' class='selfref'><b>9</b></a> The SIOP Authentication Request is returned to the mobile in the reply body of the GET request, as a JWT in JWS form ([[RFC7515]]), signed with the public key associated with the DID in the client_id field of the Authorization Request. The JWT MUST be generated according to the best practices described in [[RFC8725]].             </li>
        </ul>

    </section>


    <section><h2>Verification of the Authorization Request</h2>

        <p>Before sending the Authentication Response, the wallet should verify that the Authorization Request is correct. The most important verifications are described here:
        </p>
<!-- Original D2 diagram definition
    shape: sequence_diagram
    # Definition of the participants
    user: John Doe {
        icon: https://icons.terrastruct.com/essentials%2F365-user.svg
    }
    mobile: Webapp {
        icon: https://icons.terrastruct.com/tech%2F052-smartphone-3.svg
    }
    browser: Laptop {
        icon: https://icons.terrastruct.com/tech%2Fbrowser-2.svg
    }
    portal: Portal {
        icon: https://icons.terrastruct.com/azure%2FIntegration%20Service%20Color%2FSoftware%20as%20a%20Service%20%28SaaS%29.svg
    }
    verifier: VC Verifier {
        icon: https://icons.terrastruct.com/azure%2FSecurity%20Service%20Color%2FSecurity%20Center.svg
    }
    # ==================================================
    verifier.ar -> mobile.var: (9) Reply with Authorization Request
    mobile.var -> mobile.var: (10) Verification of signature of Authorization Request
    mobile.var -> mobile.var: (11) Verification of the identity of the Relying Party
    mobile.var -> mobile.var: (12) Verification of the trusted nature of the RP
 -->

<?xml version="1.0" encoding="utf-8"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" d2Version="v0.4.0-HEAD" preserveAspectRatio="xMinYMin meet" viewBox="0 0 993 689"><svg id="d2-svg" class="d2-3771811764" width="993" height="689" viewBox="-89 -49 993 689"><rect x="-89.000000" y="-49.000000" width="993.000000" height="689.000000" rx="0.000000" class=" fill-N7" stroke-width="0" /><style type="text/css"><![CDATA[
.d2-3771811764 .text {
	font-family: "d2-3771811764-font-regular";
}
@font-face {
	font-family: d2-3771811764-font-regular;
	src: url("data:application/font-woff;base64,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");
}
.d2-3771811764 .text-italic {
	font-family: "d2-3771811764-font-italic";
}
@font-face {
	font-family: d2-3771811764-font-italic;
	src: url("data:application/font-woff;base64,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");
}]]></style><style type="text/css"><![CDATA[.shape {
  shape-rendering: geometricPrecision;
  stroke-linejoin: round;
}
.connection {
  stroke-linecap: round;
  stroke-linejoin: round;
}
.blend {
  mix-blend-mode: multiply;
  opacity: 0.5;
}

		.d2-3771811764 .fill-N1{fill:#0A0F25;}
		.d2-3771811764 .fill-N2{fill:#676C7E;}
		.d2-3771811764 .fill-N3{fill:#9499AB;}
		.d2-3771811764 .fill-N4{fill:#CFD2DD;}
		.d2-3771811764 .fill-N5{fill:#DEE1EB;}
		.d2-3771811764 .fill-N6{fill:#EEF1F8;}
		.d2-3771811764 .fill-N7{fill:#FFFFFF;}
		.d2-3771811764 .fill-B1{fill:#0D32B2;}
		.d2-3771811764 .fill-B2{fill:#0D32B2;}
		.d2-3771811764 .fill-B3{fill:#E3E9FD;}
		.d2-3771811764 .fill-B4{fill:#E3E9FD;}
		.d2-3771811764 .fill-B5{fill:#EDF0FD;}
		.d2-3771811764 .fill-B6{fill:#F7F8FE;}
		.d2-3771811764 .fill-AA2{fill:#4A6FF3;}
		.d2-3771811764 .fill-AA4{fill:#EDF0FD;}
		.d2-3771811764 .fill-AA5{fill:#F7F8FE;}
		.d2-3771811764 .fill-AB4{fill:#EDF0FD;}
		.d2-3771811764 .fill-AB5{fill:#F7F8FE;}
		.d2-3771811764 .stroke-N1{stroke:#0A0F25;}
		.d2-3771811764 .stroke-N2{stroke:#676C7E;}
		.d2-3771811764 .stroke-N3{stroke:#9499AB;}
		.d2-3771811764 .stroke-N4{stroke:#CFD2DD;}
		.d2-3771811764 .stroke-N5{stroke:#DEE1EB;}
		.d2-3771811764 .stroke-N6{stroke:#EEF1F8;}
		.d2-3771811764 .stroke-N7{stroke:#FFFFFF;}
		.d2-3771811764 .stroke-B1{stroke:#0D32B2;}
		.d2-3771811764 .stroke-B2{stroke:#0D32B2;}
		.d2-3771811764 .stroke-B3{stroke:#E3E9FD;}
		.d2-3771811764 .stroke-B4{stroke:#E3E9FD;}
		.d2-3771811764 .stroke-B5{stroke:#EDF0FD;}
		.d2-3771811764 .stroke-B6{stroke:#F7F8FE;}
		.d2-3771811764 .stroke-AA2{stroke:#4A6FF3;}
		.d2-3771811764 .stroke-AA4{stroke:#EDF0FD;}
		.d2-3771811764 .stroke-AA5{stroke:#F7F8FE;}
		.d2-3771811764 .stroke-AB4{stroke:#EDF0FD;}
		.d2-3771811764 .stroke-AB5{stroke:#F7F8FE;}
		.d2-3771811764 .background-color-N1{background-color:#0A0F25;}
		.d2-3771811764 .background-color-N2{background-color:#676C7E;}
		.d2-3771811764 .background-color-N3{background-color:#9499AB;}
		.d2-3771811764 .background-color-N4{background-color:#CFD2DD;}
		.d2-3771811764 .background-color-N5{background-color:#DEE1EB;}
		.d2-3771811764 .background-color-N6{background-color:#EEF1F8;}
		.d2-3771811764 .background-color-N7{background-color:#FFFFFF;}
		.d2-3771811764 .background-color-B1{background-color:#0D32B2;}
		.d2-3771811764 .background-color-B2{background-color:#0D32B2;}
		.d2-3771811764 .background-color-B3{background-color:#E3E9FD;}
		.d2-3771811764 .background-color-B4{background-color:#E3E9FD;}
		.d2-3771811764 .background-color-B5{background-color:#EDF0FD;}
		.d2-3771811764 .background-color-B6{background-color:#F7F8FE;}
		.d2-3771811764 .background-color-AA2{background-color:#4A6FF3;}
		.d2-3771811764 .background-color-AA4{background-color:#EDF0FD;}
		.d2-3771811764 .background-color-AA5{background-color:#F7F8FE;}
		.d2-3771811764 .background-color-AB4{background-color:#EDF0FD;}
		.d2-3771811764 .background-color-AB5{background-color:#F7F8FE;}
		.d2-3771811764 .color-N1{color:#0A0F25;}
		.d2-3771811764 .color-N2{color:#676C7E;}
		.d2-3771811764 .color-N3{color:#9499AB;}
		.d2-3771811764 .color-N4{color:#CFD2DD;}
		.d2-3771811764 .color-N5{color:#DEE1EB;}
		.d2-3771811764 .color-N6{color:#EEF1F8;}
		.d2-3771811764 .color-N7{color:#FFFFFF;}
		.d2-3771811764 .color-B1{color:#0D32B2;}
		.d2-3771811764 .color-B2{color:#0D32B2;}
		.d2-3771811764 .color-B3{color:#E3E9FD;}
		.d2-3771811764 .color-B4{color:#E3E9FD;}
		.d2-3771811764 .color-B5{color:#EDF0FD;}
		.d2-3771811764 .color-B6{color:#F7F8FE;}
		.d2-3771811764 .color-AA2{color:#4A6FF3;}
		.d2-3771811764 .color-AA4{color:#EDF0FD;}
		.d2-3771811764 .color-AA5{color:#F7F8FE;}
		.d2-3771811764 .color-AB4{color:#EDF0FD;}
		.d2-3771811764 .color-AB5{color:#F7F8FE;}.appendix text.text{fill:#0A0F25}.md{--color-fg-default:#0A0F25;--color-fg-muted:#676C7E;--color-fg-subtle:#9499AB;--color-canvas-default:#FFFFFF;--color-canvas-subtle:#EEF1F8;--color-border-default:#0D32B2;--color-border-muted:#0D32B2;--color-neutral-muted:#EEF1F8;--color-accent-fg:#0D32B2;--color-accent-emphasis:#0D32B2;--color-attention-subtle:#676C7E;--color-danger-fg:red;}.sketch-overlay-B1{fill:url(#streaks-darker);mix-blend-mode:lighten}.sketch-overlay-B2{fill:url(#streaks-darker);mix-blend-mode:lighten}.sketch-overlay-B3{fill:url(#streaks-bright);mix-blend-mode:darken}.sketch-overlay-B4{fill:url(#streaks-bright);mix-blend-mode:darken}.sketch-overlay-B5{fill:url(#streaks-bright);mix-blend-mode:darken}.sketch-overlay-B6{fill:url(#streaks-bright);mix-blend-mode:darken}.sketch-overlay-AA2{fill:url(#streaks-dark);mix-blend-mode:overlay}.sketch-overlay-AA4{fill:url(#streaks-bright);mix-blend-mode:darken}.sketch-overlay-AA5{fill:url(#streaks-bright);mix-blend-mode:darken}.sketch-overlay-AB4{fill:url(#streaks-bright);mix-blend-mode:darken}.sketch-overlay-AB5{fill:url(#streaks-bright);mix-blend-mode:darken}.sketch-overlay-N1{fill:url(#streaks-darker);mix-blend-mode:lighten}.sketch-overlay-N2{fill:url(#streaks-dark);mix-blend-mode:overlay}.sketch-overlay-N3{fill:url(#streaks-normal);mix-blend-mode:color-burn}.sketch-overlay-N4{fill:url(#streaks-normal);mix-blend-mode:color-burn}.sketch-overlay-N5{fill:url(#streaks-bright);mix-blend-mode:darken}.sketch-overlay-N6{fill:url(#streaks-bright);mix-blend-mode:darken}.sketch-overlay-N7{fill:url(#streaks-bright);mix-blend-mode:darken}.light-code{display: block}.dark-code{display: none}]]></style><g id="user"><g class="shape" ><rect x="12.000000" y="52.000000" width="135.000000" height="92.000000" class=" stroke-B1 fill-N7" style="stroke-width:2;" /></g><image href="https://icons.terrastruct.com/essentials%2F365-user.svg" x="12.000000" y="52.000000" width="46" height="46" /><text x="79.500000" y="103.500000" class="text fill-N1" style="text-anchor:middle;font-size:16px">John Doe</text></g><g id="mobile"><g class="shape" ><rect x="187.000000" y="52.000000" width="127.000000" height="92.000000" class=" stroke-B1 fill-B5" style="stroke-width:2;" /></g><image href="https://icons.terrastruct.com/tech%2F052-smartphone-3.svg" x="187.000000" y="52.000000" width="46" height="46" /><text x="250.500000" y="103.500000" class="text fill-N1" style="text-anchor:middle;font-size:16px">Webapp</text></g><g id="browser"><g class="shape" ><rect x="354.000000" y="52.000000" width="118.000000" height="92.000000" class=" stroke-B1 fill-N7" style="stroke-width:2;" /></g><image href="https://icons.terrastruct.com/tech%2Fbrowser-2.svg" x="354.000000" y="52.000000" width="46" height="46" /><text x="413.000000" y="103.500000" class="text fill-N1" style="text-anchor:middle;font-size:16px">Laptop</text></g><g id="portal"><g class="shape" ><rect x="512.000000" y="52.000000" width="111.000000" height="92.000000" class=" stroke-B1 fill-N7" style="stroke-width:2;" /></g><image href="https://icons.terrastruct.com/azure%2FIntegration%20Service%20Color%2FSoftware%20as%20a%20Service%20%28SaaS%29.svg" x="512.000000" y="52.000000" width="46" height="46" /><text x="567.500000" y="103.500000" class="text fill-N1" style="text-anchor:middle;font-size:16px">Portal</text></g><g id="verifier"><g class="shape" ><rect x="663.000000" y="52.000000" width="140.000000" height="92.000000" class=" stroke-B1 fill-B5" style="stroke-width:2;" /></g><image href="https://icons.terrastruct.com/azure%2FSecurity%20Service%20Color%2FSecurity%20Center.svg" x="663.000000" y="52.000000" width="46" height="46" /><text x="733.000000" y="103.500000" class="text fill-N1" style="text-anchor:middle;font-size:16px">VC Verifier</text></g><g id="(user -- )[0]"><path d="M 79.500000 146.000000 L 79.500000 538.000000" fill="none" class="connection stroke-B2" style="stroke-width:2;stroke-dasharray:12.000000,11.838767;" mask="url(#d2-3771811764)" /></g><g id="(mobile -- )[0]"><path d="M 250.500000 146.000000 L 250.500000 538.000000" fill="none" class="connection stroke-B2" style="stroke-width:2;stroke-dasharray:12.000000,11.838767;" mask="url(#d2-3771811764)" /></g><g id="(browser -- )[0]"><path d="M 413.000000 146.000000 L 413.000000 538.000000" fill="none" class="connection stroke-B2" style="stroke-width:2;stroke-dasharray:12.000000,11.838767;" mask="url(#d2-3771811764)" /></g><g id="(portal -- )[0]"><path d="M 567.500000 146.000000 L 567.500000 538.000000" fill="none" class="connection stroke-B2" style="stroke-width:2;stroke-dasharray:12.000000,11.838767;" mask="url(#d2-3771811764)" /></g><g id="(verifier -- )[0]"><path d="M 733.000000 146.000000 L 733.000000 538.000000" fill="none" class="connection stroke-B2" style="stroke-width:2;stroke-dasharray:12.000000,11.838767;" mask="url(#d2-3771811764)" /></g><g id="verifier.ar"><g class="shape" ><rect x="727.000000" y="204.000000" width="12.000000" height="30.000000" class=" stroke-B1 fill-B4" style="stroke-width:2;" /></g></g><g id="mobile.var"><g class="shape" ><rect x="244.000000" y="204.000000" width="12.000000" height="275.000000" class=" stroke-B1 fill-B4" style="stroke-width:2;" /></g></g><g id="(verifier.ar -&gt; mobile.var)[0]"><marker id="mk-3488378134" markerWidth="10.000000" markerHeight="12.000000" refX="7.000000" refY="6.000000" viewBox="0.000000 0.000000 10.000000 12.000000" orient="auto" markerUnits="userSpaceOnUse"> <polygon points="0.000000,0.000000 10.000000,6.000000 0.000000,12.000000" class="connection fill-B1" stroke-width="2" /> </marker><path d="M 725.000000 214.000000 L 260.500000 214.000000" fill="none" class="connection stroke-B1" style="stroke-width:2;" marker-end="url(#mk-3488378134)" mask="url(#d2-3771811764)" /><text x="491.500000" y="220.000000" class="text-italic fill-N2" style="text-anchor:middle;font-size:16px">(9) Reply with Authorization Request</text></g><g id="mobile.(var -&gt; var)[0]"><path d="M 258.500000 284.000000 L 320.500000 284.000000 S 330.500000 284.000000 330.500000 294.000000 L 330.500000 319.000000 S 330.500000 329.000000 320.500000 329.000000 L 260.500000 329.000000" fill="none" class="connection stroke-B1" style="stroke-width:2;" marker-end="url(#mk-3488378134)" mask="url(#d2-3771811764)" /><text x="331.000000" y="312.000000" class="text-italic fill-N2" style="text-anchor:middle;font-size:16px">(10) Verification of signature of Authorization Request</text></g><g id="mobile.(var -&gt; var)[1]"><path d="M 258.500000 354.000000 L 320.500000 354.000000 S 330.500000 354.000000 330.500000 364.000000 L 330.500000 389.000000 S 330.500000 399.000000 320.500000 399.000000 L 260.500000 399.000000" fill="none" class="connection stroke-B1" style="stroke-width:2;" marker-end="url(#mk-3488378134)" mask="url(#d2-3771811764)" /><text x="330.500000" y="382.000000" class="text-italic fill-N2" style="text-anchor:middle;font-size:16px">(11) Verification of the identity of the Relying Party</text></g><g id="mobile.(var -&gt; var)[2]"><path d="M 258.500000 424.000000 L 320.500000 424.000000 S 330.500000 424.000000 330.500000 434.000000 L 330.500000 459.000000 S 330.500000 469.000000 320.500000 469.000000 L 260.500000 469.000000" fill="none" class="connection stroke-B1" style="stroke-width:2;" marker-end="url(#mk-3488378134)" mask="url(#d2-3771811764)" /><text x="330.500000" y="452.000000" class="text-italic fill-N2" style="text-anchor:middle;font-size:16px">(12) Verification of the trusted nature of the RP</text></g><mask id="d2-3771811764" maskUnits="userSpaceOnUse" x="-89" y="-49" width="993" height="689">
<rect x="-89" y="-49" width="993" height="689" fill="white"></rect>
<rect x="373.000000" y="204.000000" width="237" height="21" fill="black"></rect>
<rect x="157.000000" y="296.000000" width="348" height="21" fill="black"></rect>
<rect x="167.000000" y="366.000000" width="327" height="21" fill="black"></rect>
<rect x="180.000000" y="436.000000" width="301" height="21" fill="black"></rect>
</mask></svg></svg>
        <ul>
            <li id='list_952.10'><a href='#list_952.10' class='selfref'><b>10</b></a> Verification of the signature. As mentioned in the previous section, the Authorization Request is received as a JWT signed by the DOME onboarding service, using the eIDAS certificate for seals that corresponds to the legal person operating the service. This allows the wallet to verify that the signature corresponds to a real-world entity.            </li>
            <li id='list_952.11'><a href='#list_952.11' class='selfref'><b>11</b></a> Verification that the DID in the <code>client_id</code> field of the Authorization Request corresponds to the entity that signed the Authorization Request. This is easy in our case because we use the `did:elsi` method.            </li>
            <li id='list_952.12'><a href='#list_952.12' class='selfref'><b>12</b></a> Verification that the entity identified in the <code>client_id</code> field of the Authorization Request is a trusted entity belonging to the ecosystem, by resolving the DID of in the <code>client_id</code> field.            <div>
                <p>The actual mechanism may vary depending on the DID method used and the ecosystem where the client wants to onboard. In the case of DOME, the DOME onboarding service is a well-known entity and it is easy to verify that the DID corresponds to the DOME onboarding service.
                </p>
                <p>In the case that the Relying Party is a participant in the ecosystem, we assume that the ecosystem provides a Trusted Participants Registry with an API compatible with the EBSI Trusted Issuers Registry, and that the participants registry is managed in a trusted way by the DOME onboarding service.
                </p>
                <p>In this case, to check if the DID is a participant on the DOME ecosystem, the wallet sends a `GET /api/did/v1/identifiers/did:elsi:VATFR-9999999` request to the endpoint of one of several trusted servers implementing the query Trusted Participant Registry functionality. The API returns a JSON document as a DID Document DID Document. The DID Document (as per W3C) contains relevant information about the entity owner of the DID. It contains its Public Key, used to verify the digital signature of the entity. It also contains the status of the entity in the DOME ecosystem. It is extensible and can contain any public information which may be relevant for the use case. The API must be operated by a trusted entity for the user. There may be as many servers implementing the API as needed and operated by different entities. At least one of those trusted entities has to be configured in the wallet of the user.
                </p>
            </div>
            </li>
        </ul>

    </section>


    <section><h2>Creating and sending the Authentication Response </h2>

        <p>Once the Authorization Request has been validated, the wallet creates an Authentication Response to be posted in the <code>redirect_uri</code> specified by GoodAir in the Authorization Request. The complete process from reception of Authorization Request until sending the Authorization Response is described in the diagram below.
        </p>
<!-- Original D2 diagram definition
    shape: sequence_diagram
    # Definition of the participants
    user: John Doe {
        icon: https://icons.terrastruct.com/essentials%2F365-user.svg
    }
    mobile: Webapp {
        icon: https://icons.terrastruct.com/tech%2F052-smartphone-3.svg
    }
    browser: Laptop {
        icon: https://icons.terrastruct.com/tech%2Fbrowser-2.svg
    }
    portal: Portal {
        icon: https://icons.terrastruct.com/azure%2FIntegration%20Service%20Color%2FSoftware%20as%20a%20Service%20%28SaaS%29.svg
    }
    verifier: VC Verifier {
        icon: https://icons.terrastruct.com/azure%2FSecurity%20Service%20Color%2FSecurity%20Center.svg
    }
    # ==================================================
    verifier.ar -> mobile.var: (9) Reply with Authorization Request
    mobile.var -> mobile.var: (10) Verification of signature of Authorization Request
    mobile.var -> mobile.var: (11) Verification of the identity of the Relying Party
    mobile.var -> mobile.var: (12) Verification of the trusted nature of the RP
    mobile.car -> mobile.car: (13) Create Authentication Response
    mobile.car -> verifier.resp: (14) POST /api/siop/authentication_response
 -->

<?xml version="1.0" encoding="utf-8"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" d2Version="v0.4.0-HEAD" preserveAspectRatio="xMinYMin meet" viewBox="0 0 993 784"><svg id="d2-svg" class="d2-3592887595" width="993" height="784" viewBox="-89 -49 993 784"><rect x="-89.000000" y="-49.000000" width="993.000000" height="784.000000" rx="0.000000" class=" fill-N7" stroke-width="0" /><style type="text/css"><![CDATA[
.d2-3592887595 .text {
	font-family: "d2-3592887595-font-regular";
}
@font-face {
	font-family: d2-3592887595-font-regular;
	src: url("data:application/font-woff;base64,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");
}
.d2-3592887595 .text-italic {
	font-family: "d2-3592887595-font-italic";
}
@font-face {
	font-family: d2-3592887595-font-italic;
	src: url("data:application/font-woff;base64,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");
}]]></style><style type="text/css"><![CDATA[.shape {
  shape-rendering: geometricPrecision;
  stroke-linejoin: round;
}
.connection {
  stroke-linecap: round;
  stroke-linejoin: round;
}
.blend {
  mix-blend-mode: multiply;
  opacity: 0.5;
}

		.d2-3592887595 .fill-N1{fill:#0A0F25;}
		.d2-3592887595 .fill-N2{fill:#676C7E;}
		.d2-3592887595 .fill-N3{fill:#9499AB;}
		.d2-3592887595 .fill-N4{fill:#CFD2DD;}
		.d2-3592887595 .fill-N5{fill:#DEE1EB;}
		.d2-3592887595 .fill-N6{fill:#EEF1F8;}
		.d2-3592887595 .fill-N7{fill:#FFFFFF;}
		.d2-3592887595 .fill-B1{fill:#0D32B2;}
		.d2-3592887595 .fill-B2{fill:#0D32B2;}
		.d2-3592887595 .fill-B3{fill:#E3E9FD;}
		.d2-3592887595 .fill-B4{fill:#E3E9FD;}
		.d2-3592887595 .fill-B5{fill:#EDF0FD;}
		.d2-3592887595 .fill-B6{fill:#F7F8FE;}
		.d2-3592887595 .fill-AA2{fill:#4A6FF3;}
		.d2-3592887595 .fill-AA4{fill:#EDF0FD;}
		.d2-3592887595 .fill-AA5{fill:#F7F8FE;}
		.d2-3592887595 .fill-AB4{fill:#EDF0FD;}
		.d2-3592887595 .fill-AB5{fill:#F7F8FE;}
		.d2-3592887595 .stroke-N1{stroke:#0A0F25;}
		.d2-3592887595 .stroke-N2{stroke:#676C7E;}
		.d2-3592887595 .stroke-N3{stroke:#9499AB;}
		.d2-3592887595 .stroke-N4{stroke:#CFD2DD;}
		.d2-3592887595 .stroke-N5{stroke:#DEE1EB;}
		.d2-3592887595 .stroke-N6{stroke:#EEF1F8;}
		.d2-3592887595 .stroke-N7{stroke:#FFFFFF;}
		.d2-3592887595 .stroke-B1{stroke:#0D32B2;}
		.d2-3592887595 .stroke-B2{stroke:#0D32B2;}
		.d2-3592887595 .stroke-B3{stroke:#E3E9FD;}
		.d2-3592887595 .stroke-B4{stroke:#E3E9FD;}
		.d2-3592887595 .stroke-B5{stroke:#EDF0FD;}
		.d2-3592887595 .stroke-B6{stroke:#F7F8FE;}
		.d2-3592887595 .stroke-AA2{stroke:#4A6FF3;}
		.d2-3592887595 .stroke-AA4{stroke:#EDF0FD;}
		.d2-3592887595 .stroke-AA5{stroke:#F7F8FE;}
		.d2-3592887595 .stroke-AB4{stroke:#EDF0FD;}
		.d2-3592887595 .stroke-AB5{stroke:#F7F8FE;}
		.d2-3592887595 .background-color-N1{background-color:#0A0F25;}
		.d2-3592887595 .background-color-N2{background-color:#676C7E;}
		.d2-3592887595 .background-color-N3{background-color:#9499AB;}
		.d2-3592887595 .background-color-N4{background-color:#CFD2DD;}
		.d2-3592887595 .background-color-N5{background-color:#DEE1EB;}
		.d2-3592887595 .background-color-N6{background-color:#EEF1F8;}
		.d2-3592887595 .background-color-N7{background-color:#FFFFFF;}
		.d2-3592887595 .background-color-B1{background-color:#0D32B2;}
		.d2-3592887595 .background-color-B2{background-color:#0D32B2;}
		.d2-3592887595 .background-color-B3{background-color:#E3E9FD;}
		.d2-3592887595 .background-color-B4{background-color:#E3E9FD;}
		.d2-3592887595 .background-color-B5{background-color:#EDF0FD;}
		.d2-3592887595 .background-color-B6{background-color:#F7F8FE;}
		.d2-3592887595 .background-color-AA2{background-color:#4A6FF3;}
		.d2-3592887595 .background-color-AA4{background-color:#EDF0FD;}
		.d2-3592887595 .background-color-AA5{background-color:#F7F8FE;}
		.d2-3592887595 .background-color-AB4{background-color:#EDF0FD;}
		.d2-3592887595 .background-color-AB5{background-color:#F7F8FE;}
		.d2-3592887595 .color-N1{color:#0A0F25;}
		.d2-3592887595 .color-N2{color:#676C7E;}
		.d2-3592887595 .color-N3{color:#9499AB;}
		.d2-3592887595 .color-N4{color:#CFD2DD;}
		.d2-3592887595 .color-N5{color:#DEE1EB;}
		.d2-3592887595 .color-N6{color:#EEF1F8;}
		.d2-3592887595 .color-N7{color:#FFFFFF;}
		.d2-3592887595 .color-B1{color:#0D32B2;}
		.d2-3592887595 .color-B2{color:#0D32B2;}
		.d2-3592887595 .color-B3{color:#E3E9FD;}
		.d2-3592887595 .color-B4{color:#E3E9FD;}
		.d2-3592887595 .color-B5{color:#EDF0FD;}
		.d2-3592887595 .color-B6{color:#F7F8FE;}
		.d2-3592887595 .color-AA2{color:#4A6FF3;}
		.d2-3592887595 .color-AA4{color:#EDF0FD;}
		.d2-3592887595 .color-AA5{color:#F7F8FE;}
		.d2-3592887595 .color-AB4{color:#EDF0FD;}
		.d2-3592887595 .color-AB5{color:#F7F8FE;}.appendix text.text{fill:#0A0F25}.md{--color-fg-default:#0A0F25;--color-fg-muted:#676C7E;--color-fg-subtle:#9499AB;--color-canvas-default:#FFFFFF;--color-canvas-subtle:#EEF1F8;--color-border-default:#0D32B2;--color-border-muted:#0D32B2;--color-neutral-muted:#EEF1F8;--color-accent-fg:#0D32B2;--color-accent-emphasis:#0D32B2;--color-attention-subtle:#676C7E;--color-danger-fg:red;}.sketch-overlay-B1{fill:url(#streaks-darker);mix-blend-mode:lighten}.sketch-overlay-B2{fill:url(#streaks-darker);mix-blend-mode:lighten}.sketch-overlay-B3{fill:url(#streaks-bright);mix-blend-mode:darken}.sketch-overlay-B4{fill:url(#streaks-bright);mix-blend-mode:darken}.sketch-overlay-B5{fill:url(#streaks-bright);mix-blend-mode:darken}.sketch-overlay-B6{fill:url(#streaks-bright);mix-blend-mode:darken}.sketch-overlay-AA2{fill:url(#streaks-dark);mix-blend-mode:overlay}.sketch-overlay-AA4{fill:url(#streaks-bright);mix-blend-mode:darken}.sketch-overlay-AA5{fill:url(#streaks-bright);mix-blend-mode:darken}.sketch-overlay-AB4{fill:url(#streaks-bright);mix-blend-mode:darken}.sketch-overlay-AB5{fill:url(#streaks-bright);mix-blend-mode:darken}.sketch-overlay-N1{fill:url(#streaks-darker);mix-blend-mode:lighten}.sketch-overlay-N2{fill:url(#streaks-dark);mix-blend-mode:overlay}.sketch-overlay-N3{fill:url(#streaks-normal);mix-blend-mode:color-burn}.sketch-overlay-N4{fill:url(#streaks-normal);mix-blend-mode:color-burn}.sketch-overlay-N5{fill:url(#streaks-bright);mix-blend-mode:darken}.sketch-overlay-N6{fill:url(#streaks-bright);mix-blend-mode:darken}.sketch-overlay-N7{fill:url(#streaks-bright);mix-blend-mode:darken}.light-code{display: block}.dark-code{display: none}]]></style><g id="user"><g class="shape" ><rect x="12.000000" y="52.000000" width="135.000000" height="92.000000" class=" stroke-B1 fill-N7" style="stroke-width:2;" /></g><image href="https://icons.terrastruct.com/essentials%2F365-user.svg" x="12.000000" y="52.000000" width="46" height="46" /><text x="79.500000" y="103.500000" class="text fill-N1" style="text-anchor:middle;font-size:16px">John Doe</text></g><g id="mobile"><g class="shape" ><rect x="187.000000" y="52.000000" width="127.000000" height="92.000000" class=" stroke-B1 fill-B5" style="stroke-width:2;" /></g><image href="https://icons.terrastruct.com/tech%2F052-smartphone-3.svg" x="187.000000" y="52.000000" width="46" height="46" /><text x="250.500000" y="103.500000" class="text fill-N1" style="text-anchor:middle;font-size:16px">Webapp</text></g><g id="browser"><g class="shape" ><rect x="354.000000" y="52.000000" width="118.000000" height="92.000000" class=" stroke-B1 fill-N7" style="stroke-width:2;" /></g><image href="https://icons.terrastruct.com/tech%2Fbrowser-2.svg" x="354.000000" y="52.000000" width="46" height="46" /><text x="413.000000" y="103.500000" class="text fill-N1" style="text-anchor:middle;font-size:16px">Laptop</text></g><g id="portal"><g class="shape" ><rect x="512.000000" y="52.000000" width="111.000000" height="92.000000" class=" stroke-B1 fill-N7" style="stroke-width:2;" /></g><image href="https://icons.terrastruct.com/azure%2FIntegration%20Service%20Color%2FSoftware%20as%20a%20Service%20%28SaaS%29.svg" x="512.000000" y="52.000000" width="46" height="46" /><text x="567.500000" y="103.500000" class="text fill-N1" style="text-anchor:middle;font-size:16px">Portal</text></g><g id="verifier"><g class="shape" ><rect x="663.000000" y="52.000000" width="140.000000" height="92.000000" class=" stroke-B1 fill-B5" style="stroke-width:2;" /></g><image href="https://icons.terrastruct.com/azure%2FSecurity%20Service%20Color%2FSecurity%20Center.svg" x="663.000000" y="52.000000" width="46" height="46" /><text x="733.000000" y="103.500000" class="text fill-N1" style="text-anchor:middle;font-size:16px">VC Verifier</text></g><g id="(user -- )[0]"><path d="M 79.500000 146.000000 L 79.500000 633.000000" fill="none" class="connection stroke-B2" style="stroke-width:2;stroke-dasharray:12.000000,11.838767;" mask="url(#d2-3592887595)" /></g><g id="(mobile -- )[0]"><path d="M 250.500000 146.000000 L 250.500000 633.000000" fill="none" class="connection stroke-B2" style="stroke-width:2;stroke-dasharray:12.000000,11.838767;" mask="url(#d2-3592887595)" /></g><g id="(browser -- )[0]"><path d="M 413.000000 146.000000 L 413.000000 633.000000" fill="none" class="connection stroke-B2" style="stroke-width:2;stroke-dasharray:12.000000,11.838767;" mask="url(#d2-3592887595)" /></g><g id="(portal -- )[0]"><path d="M 567.500000 146.000000 L 567.500000 633.000000" fill="none" class="connection stroke-B2" style="stroke-width:2;stroke-dasharray:12.000000,11.838767;" mask="url(#d2-3592887595)" /></g><g id="(verifier -- )[0]"><path d="M 733.000000 146.000000 L 733.000000 633.000000" fill="none" class="connection stroke-B2" style="stroke-width:2;stroke-dasharray:12.000000,11.838767;" mask="url(#d2-3592887595)" /></g><g id="verifier.ar"><g class="shape" ><rect x="727.000000" y="204.000000" width="12.000000" height="30.000000" class=" stroke-B1 fill-B4" style="stroke-width:2;" /></g></g><g id="mobile.var"><g class="shape" ><rect x="244.000000" y="204.000000" width="12.000000" height="275.000000" class=" stroke-B1 fill-B4" style="stroke-width:2;" /></g></g><g id="mobile.car"><g class="shape" ><rect x="244.000000" y="484.000000" width="12.000000" height="90.000000" class=" stroke-B1 fill-B4" style="stroke-width:2;" /></g></g><g id="verifier.resp"><g class="shape" ><rect x="727.000000" y="554.000000" width="12.000000" height="30.000000" class=" stroke-B1 fill-B4" style="stroke-width:2;" /></g></g><g id="(verifier.ar -&gt; mobile.var)[0]"><marker id="mk-3488378134" markerWidth="10.000000" markerHeight="12.000000" refX="7.000000" refY="6.000000" viewBox="0.000000 0.000000 10.000000 12.000000" orient="auto" markerUnits="userSpaceOnUse"> <polygon points="0.000000,0.000000 10.000000,6.000000 0.000000,12.000000" class="connection fill-B1" stroke-width="2" /> </marker><path d="M 725.000000 214.000000 L 260.500000 214.000000" fill="none" class="connection stroke-B1" style="stroke-width:2;" marker-end="url(#mk-3488378134)" mask="url(#d2-3592887595)" /><text x="491.500000" y="220.000000" class="text-italic fill-N2" style="text-anchor:middle;font-size:16px">(9) Reply with Authorization Request</text></g><g id="mobile.(var -&gt; var)[0]"><path d="M 258.500000 284.000000 L 320.500000 284.000000 S 330.500000 284.000000 330.500000 294.000000 L 330.500000 319.000000 S 330.500000 329.000000 320.500000 329.000000 L 260.500000 329.000000" fill="none" class="connection stroke-B1" style="stroke-width:2;" marker-end="url(#mk-3488378134)" mask="url(#d2-3592887595)" /><text x="331.000000" y="312.000000" class="text-italic fill-N2" style="text-anchor:middle;font-size:16px">(10) Verification of signature of Authorization Request</text></g><g id="mobile.(var -&gt; var)[1]"><path d="M 258.500000 354.000000 L 320.500000 354.000000 S 330.500000 354.000000 330.500000 364.000000 L 330.500000 389.000000 S 330.500000 399.000000 320.500000 399.000000 L 260.500000 399.000000" fill="none" class="connection stroke-B1" style="stroke-width:2;" marker-end="url(#mk-3488378134)" mask="url(#d2-3592887595)" /><text x="330.500000" y="382.000000" class="text-italic fill-N2" style="text-anchor:middle;font-size:16px">(11) Verification of the identity of the Relying Party</text></g><g id="mobile.(var -&gt; var)[2]"><path d="M 258.500000 424.000000 L 320.500000 424.000000 S 330.500000 424.000000 330.500000 434.000000 L 330.500000 459.000000 S 330.500000 469.000000 320.500000 469.000000 L 260.500000 469.000000" fill="none" class="connection stroke-B1" style="stroke-width:2;" marker-end="url(#mk-3488378134)" mask="url(#d2-3592887595)" /><text x="330.500000" y="452.000000" class="text-italic fill-N2" style="text-anchor:middle;font-size:16px">(12) Verification of the trusted nature of the RP</text></g><g id="mobile.(car -&gt; car)[0]"><path d="M 258.500000 494.000000 L 320.500000 494.000000 S 330.500000 494.000000 330.500000 504.000000 L 330.500000 529.000000 S 330.500000 539.000000 320.500000 539.000000 L 260.500000 539.000000" fill="none" class="connection stroke-B1" style="stroke-width:2;" marker-end="url(#mk-3488378134)" mask="url(#d2-3592887595)" /><text x="331.000000" y="522.000000" class="text-italic fill-N2" style="text-anchor:middle;font-size:16px">(13) Create Authentication Response</text></g><g id="(mobile.car -&gt; verifier.resp)[0]"><path d="M 258.500000 564.000000 L 723.000000 564.000000" fill="none" class="connection stroke-B1" style="stroke-width:2;" marker-end="url(#mk-3488378134)" mask="url(#d2-3592887595)" /><text x="492.000000" y="570.000000" class="text-italic fill-N2" style="text-anchor:middle;font-size:16px">(14) POST /api/siop/authentication_response</text></g><mask id="d2-3592887595" maskUnits="userSpaceOnUse" x="-89" y="-49" width="993" height="784">
<rect x="-89" y="-49" width="993" height="784" fill="white"></rect>
<rect x="373.000000" y="204.000000" width="237" height="21" fill="black"></rect>
<rect x="157.000000" y="296.000000" width="348" height="21" fill="black"></rect>
<rect x="167.000000" y="366.000000" width="327" height="21" fill="black"></rect>
<rect x="180.000000" y="436.000000" width="301" height="21" fill="black"></rect>
<rect x="213.000000" y="506.000000" width="236" height="21" fill="black"></rect>
<rect x="345.000000" y="554.000000" width="294" height="21" fill="black"></rect>
</mask></svg></svg>
        <ul>
            <li id='list_1005.13'><a href='#list_1005.13' class='selfref'><b>13</b></a> The wallet creates an Authentication Response to be posted in the <code>redirect_uri</code> specified by GoodAir in the Authorization Request that was sent to the wallet. The contents of the Authentication Response are described below.            <div>
                <p>The response is constructed as defined in section 6.1 of [[OpenID.VP]]. In particular, because the Authorization Request included only <code>vp_token</code> as the <code>response_type</code>, the VP Token is provided directly in the Authorization Response and a separate <code>id_token</code> is not needed.
                </p>
                <p>The contents of the Authentication Response in our specific use case are (shown here with the POST parameters needed to send it):
                </p>

<pre class="nohighlight" style="color:#f8f8f2;background-color:#282a36;"><code><span style="display:flex;"><span><span style="color:#50fa7b">POST</span> /api/siop/authentication_response <span style="color:#ff79c6">HTTP</span><span style="color:#ff79c6">/</span><span style="color:#bd93f9">1.1</span>
</span></span><span style="display:flex;"><span>Host<span style="color:#ff79c6">:</span> verifier.dome-onboarding.org
</span></span><span style="display:flex;"><span>Content-Type<span style="color:#ff79c6">:</span> application/x-www-form-urlencoded
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>presentation_submission=[see definition below]
</span></span><span style="display:flex;"><span>&amp;vp_token=[see definition below]
</span></span></code></pre>
                <p>The content of the <code>presentation_submission</code> parameter in the above Authentication Request is:
                </p>

<pre class="nohighlight" style="color:#f8f8f2;background-color:#282a36;"><code><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    <span style="color:#ff79c6">&#34;definition_id&#34;</span>: <span style="color:#f1fa8c">&#34;OnboardingPresentationDefinition&#34;</span>,
</span></span><span style="display:flex;"><span>    <span style="color:#ff79c6">&#34;id&#34;</span>: <span style="color:#f1fa8c">&#34;OnboardingPresentationSubmission&#34;</span>,
</span></span><span style="display:flex;"><span>    <span style="color:#ff79c6">&#34;descriptor_map&#34;</span>: [
</span></span><span style="display:flex;"><span>    {
</span></span><span style="display:flex;"><span>        <span style="color:#ff79c6">&#34;id&#34;</span>: <span style="color:#f1fa8c">&#34;id_credential&#34;</span>,
</span></span><span style="display:flex;"><span>        <span style="color:#ff79c6">&#34;path&#34;</span>: <span style="color:#f1fa8c">&#34;$&#34;</span>,
</span></span><span style="display:flex;"><span>        <span style="color:#ff79c6">&#34;format&#34;</span>: <span style="color:#f1fa8c">&#34;ldp_vp&#34;</span>,
</span></span><span style="display:flex;"><span>        <span style="color:#ff79c6">&#34;path_nested&#34;</span>: {
</span></span><span style="display:flex;"><span>            <span style="color:#ff79c6">&#34;format&#34;</span>: <span style="color:#f1fa8c">&#34;ldp_vc&#34;</span>,
</span></span><span style="display:flex;"><span>            <span style="color:#ff79c6">&#34;path&#34;</span>: <span style="color:#f1fa8c">&#34;$.verifiableCredential[0]&#34;</span>
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    ]
</span></span><span style="display:flex;"><span>}
</span></span></code></pre>
                <p>Which complies with [[DIF.PresentationExchange]] and refers to the Verifiable Presentation in the <code>vp_token</code> parameter provided in the same response. In our example, the Verifiable Presentation includes the LEARCredential that was described in the previous sections.
                </p>
            </div>
            </li>
            <li id='list_1005.14'><a href='#list_1005.14' class='selfref'><b>14</b></a> The wallet sends the Authentication Response to the endpoint received in the <code>redirect_uri</code> parameter of the Authentication Request, sending an HTTP <code>POST</code> request using the encoding `application/x-www-form-urlencoded`.            </li>
        </ul>

    </section>


    <section><h2>Authenticating the user with the LEARCredential</h2>

        <p>We should remember that inside the LEARCredential the <code>credentialSubject</code> object has an <code>id</code> field with value `did:key:z6MkhaXgBZDvotDkL5257faiztiGiC2QtKLGpbnnEGta2doK` which is the DID of the user. It was generated during the creation of the LEARCredential, and the Relying Party should trust that the credential was generated in the proper way binding cryptographically the DID with the LEARCredential, as described in a previous section. It is the same trust that should be put in the generation of any other signed document, like a contract or invoice.
        </p>
        <p>The process of verifying the Authorization Response and authenticating the user with the LEARCredential is the following:
        </p>
<!-- Original D2 diagram definition
    shape: sequence_diagram
    # Definition of the participants
    user: John Doe {
        icon: https://icons.terrastruct.com/essentials%2F365-user.svg
    }
    mobile: Webapp {
        icon: https://icons.terrastruct.com/tech%2F052-smartphone-3.svg
    }
    browser: Laptop {
        icon: https://icons.terrastruct.com/tech%2Fbrowser-2.svg
    }
    portal: Portal {
        icon: https://icons.terrastruct.com/azure%2FIntegration%20Service%20Color%2FSoftware%20as%20a%20Service%20%28SaaS%29.svg
    }
    verifier: VC Verifier {
        icon: https://icons.terrastruct.com/azure%2FSecurity%20Service%20Color%2FSecurity%20Center.svg
    }
    # ==================================================
    mobile.car -> verifier.resp: (14) POST /api/siop/authentication_response
    verifier.resp -> verifier.resp: (15 and 16) Verify signature and issuer of LEARCredential
    verifier.resp -> verifier.resp: (17) Verify sender of the Authentication Response
    verifier.resp -> verifier.resp: (18) Generate Access Token
    verifier.resp -> mobile: (19) HTTP 200 with <access token>
    verifier.resp -> portal.refresh: (20) Notify with <access token> and <state>
    portal.refresh -> browser: (21) Refresh screen with services and include <access token>
 -->

<?xml version="1.0" encoding="utf-8"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" d2Version="v0.4.0-HEAD" preserveAspectRatio="xMinYMin meet" viewBox="0 0 1618 854"><svg id="d2-svg" class="d2-2409915968" width="1618" height="854" viewBox="-89 -49 1618 854"><rect x="-89.000000" y="-49.000000" width="1618.000000" height="854.000000" rx="0.000000" class=" fill-N7" stroke-width="0" /><style type="text/css"><![CDATA[
.d2-2409915968 .text {
	font-family: "d2-2409915968-font-regular";
}
@font-face {
	font-family: d2-2409915968-font-regular;
	src: url("data:application/font-woff;base64,d09GRgABAAAAABNsAAoAAAAAHQwAAguFAAAAAAAAAAAAAAAAAAAAAAAAAABPUy8yAAAA9AAAAGAAAABgXd/Vo2NtYXAAAAFUAAAA4AAAATgHDghuZ2x5ZgAAAjQAAAw+AAAQxPDTZVhoZWFkAAAOdAAAADYAAAA2G4Ue32hoZWEAAA6sAAAAJAAAACQKhAX6aG10eAAADtAAAADCAAAA4GooCrdsb2NhAAAPlAAAAHIAAAByerJ2tm1heHAAABAIAAAAIAAAACAAUAD2bmFtZQAAECgAAAMjAAAIFAbDVU1wb3N0AAATTAAAAB0AAAAg/9EAMgADAgkBkAAFAAACigJYAAAASwKKAlgAAAFeADIBIwAAAgsFAwMEAwICBGAAAvcAAAADAAAAAAAAAABBREJPAEAAIP//Au7/BgAAA9gBESAAAZ8AAAAAAeYClAAAACAAA3icjM7JLuMBHMDxT6f/WTrT2fcZy9/eUlpVB4lIRISIiIhwbByFiLiIh7Jd7R7BI3gJ5fQTjQfwPX8OX2RkZZCXeEBJKpGXKiqrGjNuwqRps+bMW7RsVd26Tdt27UUgVVBWUXvWU2aaesGSFXVrNmzZedJxKyeJRtzFfTTiOq7iMi7iPM7iNE7iJo7jKA7jIPabXy8vY1jViD4FRf0GlAwaUlYz6pWsxGtvvPVOznsf5H30yWdffFXxzXc//PTLb3/89c9/LVq1aZfq0KlLtx69PAIAAP//AQAA//8JPTleeJyMV31sG+d9ft+XJ54oUh8n8nQixa+7k+5IShQlHo8niRRpUfySTIkUKVmWbMm2TFuWHbuO3dh1YshZ7dhukmXskKFB4mTpGmA21qwJCiQLgmJburjq0ibrx5J1iI2sf6hBk7aDpm1Nax2HO1Ky7C5A/+IBfO99f7/neX7P8x6oATMAIBE9DTRABxpBMyABEAia6KB5nsUlQZJYSiPxkMBn4IdyCcKRABYMYr2xT2LnLlyAu5fR0xsPDFxaXHx7/uxZ+U9XP5b98N2PAQIaAJANlYAOEAAYcYHnOJ7VajVGwcjyLP6O421Hs7MJa3T+++352zOR30ThF4pF6Xh//3F5FpU2Tq6sAAAABIHyOmpD14ANgBqG48RAMCj4Wyic41hGqyVNLS2CPyhRWi3M5/9kZ+ZSIbzX6rXEPJE5wb8n4ht1dPMLholnjh19Jt/rDFqZoTP5/LmYiwl4/QAABGYBQAFUArVKnQIh+FtIk5blBX9QDHAsO/vSMy88/xdTO0+fPn16JyrduPb838afOH/+MbW2WQDgbVQCehUzkiYFkiVpchY+LP/ss89gLyol3039OrXVB4euAefn9aG0IbKiQGi1cO+uy5nxq9PxOWu3OeaPLYgPLrE7jE984FiqtiLYg5b2oTP5818lm/8mIX9Kd1brQf7NehQWBYIlaGK2AHsnJ+X3UEn+FTRunISi/I5ak6O8Dr+CSqARAIrhJRVKkRAIk1b700cGwi19rBiY7MgZljw8O7QTfk/u7ZuXqn3/AJVATfUccrYAHai08XoKbOKCvKgEjOr/RkrgOGVbVsOzLS0kMbvrVylMg2d3/TqFYTgqycWr/mMBWNg4CZ+/0nskIN8ASMXrELoGGu9jXqFHy/uDKj2MKgCYyV9IpS7kC8vp9HIhNN1zdPfuoz27DZPPLi19bWLia0tLz06ODJ/LP/zUUw/nzw2DLd71KlamKu8q8SxBbFH/5uiJyOUHHljYVZjeNY9K7VPpxaJ8B6aHkilpaw8nKoEGQG3bAzeymu3b/HD4SCgX/+v5F86eGMvnx06gEjsRz8wR8s8hKX8CZ6I7hgIV3DzldfgbdA141Y43CQlwHM93o3sVo/RNUXakoAGbEmc6/ew+YSht63XMOwbd4nwoVGS99pFuaZj2W+a4wfZg0SB2DXR4Qz2My9rgrvfEevxZr7c9aKMDXQ63Re9q8g71Bqb8AAIrAPAOKgFc6YoVaZIlfn4TfnQTjSaTG69ValUA0KASqAdA0AjGlhZKCAYlo6D58Y9nlprbjFizlVia+hdUkl8YODQwcGgALmycBFBBCv0OlQB933vbdmA1Fa/ANX/1xK6EzqTD9K36PZk9hlYDpmuuS+SuFg/qGmsxvLn2ACrJz4lHRfFYAB6SnwscqzxtnIRPcCMcN8LJD1W0BF+Fa8AC2hWlK1KSAiqMOK+CShKsciCvjKA6jG8NTvzZc0SnyzNqczIHB2ZycVzDTLSwEfbcAb9hZCg3RTj6WKepv8V9fI/8/oDVE2McVxrDPncHQCBfXoe/RyvAWJ12nsVZQiDxylkV/Vbki5MtLdDNjDg1eCyP6Kxr30JoXzKcDSUcO1hn1EDb/Gjlrd02/vKDhTORxOJs7iDjLFupCgfd5XX4Lbim8PX5nqJYY/OOI+GhY5GehNlD+mxdCb4wzAy0tNM5Q/hULn8qzFBBY6tvqq+waDNJNlrRtq+8Dn+22UMFM3VzXhQ2wZLErYN+u+dE6IDkiTixQhzXWDPmHWFHv52PcknDY+eypyN2S+HNjb5+qzsxLFspX6Fv+iBAav3/DNdAK3Dc04EyRPSWsWtoFSpIDR2NRIvS3CGI5L+rmU6yoTabI/sOxKL9woRh8FQ2dypy/ki9WTe2lySCJjvkRseyKk52AGAU/bSSbawoiYEqTixDKp5N7I/FEiOUp6m5zRpfXITfiNSMjU7r8KhhfmxYngMAaIC37ISfwjXQCwbB2JaKRG7bj7qpQLIVj2IZvsJBlXON/65lGavewHCVNf8zc5Kjm82MsZX3T/aa2utvFAmqJ+fnmfrmjt75qanwiYxnMNzZGR4MJicF32QD3WRp3flRPOrob8H0Lqujux4zxTvFcQ9eE20SHYGMm9C3mSi7NOjN+OCrUVEMh0UxKl8d5BgLhhk9JN+tYpMHAH6AVqouuKlRgiUq+iTyeQ075h9L5bt6OkIdaOWtIu07MCf/ALrjEa5DfhGUyyABAPg2eg1xIAgA0ALpPNjaexWtAEMlJwSjgBtZHifzE5r39nzjjdmn9qAV2Q7Bd+Vbvzz6aPWd8jr4N7RSySQ1NrZkfKPbnW/QYTiur20x9Ivo8MbTRgLCCIZt9gHXqn0oVnJfH3Fcw45vNQJXk+y9fVT1+J9wDTSCtv83c7b4g42hxWh0MRQ+HI0eDkfHxqKR8fHqLIVP5XOnwvHFwuSRI5OFRaD6gQB/D9eqs3S3OlUlHE+Rxu1+oFRKZzvnF0L7+phhBp1V7SDaTkd+iL7dZ3VdeTB/JmK3TL0Etff5gYLBPFyr3mQqp1TdoAKAOe22UU0GU6Nj2AxXd3cH69IY5o/I1buWtbwOL8I14FGx354/avzclz6V8PlRYJ51O+OdPT200MbEPDNZ77jVZQ46uzvtPW1s3OvOGnirZKa9DjND1dXTojuUdVIBY6vHStlIfT0tdfMxl3p+a3kdJtAJJSNU7llRkgR1QLc08Mn4YDpTl7h4kfbU2w1NJp9hNg3rIzVXrw7La95eHRbB9epeO8vr8F24qujhHh0RVfv6aCxd6OzhQoyCC5MxHJiDAfmDeITvhDOyJePqAVDRLfweXP3DjHvzW1N79ZQe01N1eye+CVflT9vTLJtuhybZovQBAHoNrv5xGfeXVybTtQ04Vtuk25nL6IharLYRT41/uZjUNeqw2qa6OFyVf8EMM8wwA83bniywho13dCRY+Y5Sa9mn1tq2nTtJuqfsBjTbZDM01Zp07mCj/rtTB/VmPaY31U3nXid8iR9psSFUE/K2w1/I/+VIM3TaCes31noyXkXDXeV1+DZ6HOg32QlUJbx9Lj7bf/z4/n3Hj+/ri8f7+hIJw8svfv369a+/+HLswpNPPvLIk09eULnJAgBfR8uqLyhxIgaDkmI+2T//YteQJXopDt8Xa6mmjZvxii7bAYD/hB5XehPECKqOCr81RIppCaRr/+VkeNAVt/pceyIzh4cfylj6zG/07v/qQ4KU9Dp9XeLiVPiRK1mEpQBSZgT+K1oGOkUhkqC4uEKHUaRFqNTCkkdWMIgZLA2C/B+Q2Ds9vfaGJW2muig58EoQPiN/MfaKUpu5vA7/ES1XU/LuzKgVGmmSxe9ayC8zRdply/SFJkYjtM/WRcLo/xJUt02aCQ4uGIJ00OrNDsdGTUYrFFLfMTR07k4kDvgr99We8jr8voq/CwDIaPHNgzR/mPx3LxqwxpG216YGfTtCgUhxIPGFaGBnW7exz+4d9SF7ji8cDEzBtKtrbmEsGhmRvxn/yuFHr6V4m0C1CWcPdXQeXBjcG1A56FJmAS2rsxBBEi3SZIMGf1XLj0Xlt+Bz/WmXCfvS39+YTgnpx648W8lMd3kdrqDHgQN0gX4VH7XSbXGpskdWnESz/U6vqRqPGo+/C89LrGRngz15oXDA6jLZ/E5hjnCyA2JXyB2v6Uv0ZLs5IWvw5vyeod4mzJz2946694/SIV8j1tQ12Okb98Ijth2sL9bn4/ysfDPa6w5wzeZkl5io4Osqr8N/2MTXWPEKFU3jFqtBSfXr7aHwUCjkTDlq04PdQ7uFMUu3SbIreWvPufIHA1NCtNifOAG/ExlxeecOjG38lrcGKGvgS4e5LhXY+NXFR69Vv5kM5S/Dj8tvKN/NlEiTBvjhsiSpeZiDOvShgjtVuWxQKibU+5FkMiIM9PcPvHLo1qVLt4ut+26dOnVrH4CAK+fAreo7vIqq0gFp0s6o64VIMvlKdXVr8falS7cABHXl/XAC3VTPhwKsg/qw/N8vag7febZSHwMuwvcQCXQAdHSIHSSOkxQF35ML8OWfXL78k4vXY9dT437MP37vWkmUJJHnxRqSUZbBly9WVqWux7YyC7wEV5VzlTtCPg9XFQ8tfx+NAgm9pnzLEtvcptXhaG11ONCozdxqt7eabeD/AAAA//8BAAD///1QnO0AAAABAAAAAguF1oV4H18PPPUAAwPoAAAAANhdoKEAAAAA3WYvNv46/tsIbwPIAAAAAwACAAAAAAAAAAEAAAPY/u8AAAiY/jr+OghvAAEAAAAAAAAAAAAAAAAAAAA4eJwsir1KA2EUBeec7SQgWugKIS4axPiTtVgEsbayEG7nJ9iKT2Kjvb0vExsbX8DKVi9ISBdZsRgGhvET18zADZXP6XxH8SrF93R+pOiDbX1S/EDxM51PKT6jeIMD1wxdQbXOphZ0nhCaMfUhrb6ZasxIC47dEMy50BfBkvAu4dHfF7oh9MJQQe2GS70z8Bt1byVHSq6UjJWsKdlScvLfJ0r29cNALaGWPd2yomSnhzkBy9dfAAAA//8BAAD//3BRLCkAAAAAACwALABQAIAAngC0AOYA/gEaASoBTAF8AZ4BxgIKAhwCOAJyAqoC3gMMAz4DcgOUBAAEIgQuBEgEZASGBLIE5gUGBUYFbAWOBaoF5AYUBjoGUgZ8BqAG1AcUBy4HhAfEB9AH6ggECBQIKghACEwIYgAAAAEAAAA4AIwADABmAAcAAQAAAAAAAAAAAAAAAAAEAAN4nJyU3U4bVxSFPwfbbVQ1FxWKyA06l22VjN0IogSuTAmKVYRTj9Mfqao0eMY/Yjwz8gxQqj5Ar/sWfYtc9Tn6EFWvq7O8DTaqFIEQsM6cvfdZZ6+1D7DJv2xQqz8E/mr+YLjGdnPP8AMeNZ8a3uC48bfh+kpMg7jxm+EmXzb6hj/iff0Pwx+zU//Z8EO26keGP+F5fdPwpxuOfww/Yof3C1yDl/xuuMYWheEHbPKT4Q0eYzVrdR7TNtzgM7YNN9kGBkypSJmSMcYxYsqYc+YklIQkzJkyIiHG0aVDSqWvGZGQY/y/XyNCKuZEqjihwpESkhJRMrGKvyor561OHGk1t70OFRMiTpVxRkSGI2dMTkbCmepUVBTs0aJFyVB8CypKAkqmpATkzBnToscRxwyYMKXEcaRKnllIzoiKSyKd7yzCd2ZIQkZprM7JiMXTiV+i7C7HOHoUil2tfLxW4SmO75TtueWK/YpAv26F2fq5SzYRF+pnqq6k2rmUghPt+nM7fCtcsYe7V3/WmXy4R7H+V6p8yrn0j6VUJiYZzm3RIZSDQvcEx4HWXUJ15Hu6DHhDj3cMtO7Qp0+HEwZ0ea3cHn0cX9PjhENldIUXe0dyzAk/4viGrmJ87cT6s1As4RcKc3cpjnPdY0ahnnvmge6a6IZ3V9jPUL7mjlI5Q82Rj3TSL9OcRYzNFYUYztTLpTdK619sjpjpLl7bm30/DRc2e8spviLXDHu3Ljh55RaMPqRqcMszl/oJiIjJOVXEkJwZLSquxPstEeekOA7VvTeakorOdY4/50ouSZiJQZdMdeYU+huZb0LjPlzzvbO3JFa+Z3p2fav7nOLUqxuN3ql7y73QupysKNAyVfMVNw3FNTPvJ5qpVf6hcku9bjnP6JNI9VQ3uP0OPCegzQ677DPROUPtXNgb0dY70eYV++rBGYmiRnJ1YhV2CXjBLru84sVazQ6HHNBj/w4cF1k9Dnh9a2ddp2UVZ3X+FJu2+DqeXa9e3luvz+/gyy80UTcvY1/a+G5fWLUb/58QMfNc3NbqndwTgv8AAAD//wEAAP//B1tMMAB4nGJgZgCD/+cYjBiwAAAAAAD//wEAAP//LwECAwAAAA==");
}
.d2-2409915968 .text-italic {
	font-family: "d2-2409915968-font-italic";
}
@font-face {
	font-family: d2-2409915968-font-italic;
	src: url("data:application/font-woff;base64,d09GRgABAAAAABPgAAoAAAAAHeAAARhRAAAAAAAAAAAAAAAAAAAAAAAAAABPUy8yAAAA9AAAAGAAAABgW1SVeGNtYXAAAAFUAAAA4AAAATgHDghuZ2x5ZgAAAjQAAAyjAAAReCF2/pZoZWFkAAAO2AAAADYAAAA2G7Ur2mhoZWEAAA8QAAAAJAAAACQLeAjcaG10eAAADzQAAADOAAAA4GaZBqdsb2NhAAAQBAAAAHIAAAByf4Z7QG1heHAAABB4AAAAIAAAACAAUAD2bmFtZQAAEJgAAAMmAAAIMgntVzNwb3N0AAATwAAAACAAAAAg/8YAMgADAeEBkAAFAAACigJY//EASwKKAlgARAFeADIBIwAAAgsFAwMEAwkCBCAAAHcAAAADAAAAAAAAAABBREJPAAEAIP//Au7/BgAAA9gBESAAAZMAAAAAAeYClAAAACAAA3icjM7JLuMBHMDxT6f/WTrT2fcZy9/eUlpVB4lIRISIiIhwbByFiLiIh7Jd7R7BI3gJ5fQTjQfwPX8OX2RkZZCXeEBJKpGXKiqrGjNuwqRps+bMW7RsVd26Tdt27UUgVVBWUXvWU2aaesGSFXVrNmzZedJxKyeJRtzFfTTiOq7iMi7iPM7iNE7iJo7jKA7jIPabXy8vY1jViD4FRf0GlAwaUlYz6pWsxGtvvPVOznsf5H30yWdffFXxzXc//PTLb3/89c9/LVq1aZfq0KlLtx69PAIAAP//AQAA//8JPTleeJx8V3lwG+d1/75vl1iRAkECi4OACIKLXewCIC7uArsAQdy8CfAGSUs8dVmUddAHJTmSfKljOWqlwh1NPPWotRunOcaTGY+cdJrUdWbcNGYkK9POOB23SdOpndCJ1YwTDseTZMJFZxfgpab5Z4ej0ffe+/3e7/feA6gBDADoDLoJMFALGoABmAAQSArDBEmiLZjAcTRBSBxJEsxzcPW5l/HcwZ+5X/2tz4H3Pvu1wf9ZeB3d3DwFn5l9+mn50AvHjk3dvy974b/dBwAAVL4LAPwhKoFaoAeAJASOZTlao4FQIGmOJj7q+Kc6vA7HbYL8Hjx6MD9q+PkSfHJ5OXwyGntYHkWlzeV79wCAIFbeQH50CzgAqHGybCScRAJvthAsSzt1yGQ0mwVelCwaDXQOnhBDBy/no6NNIimyHfNZxjkQd+daaWZWm7swVLh5vlfyelq5xNELnfHZSOsB3uFXagU0AEhUayUVBgTebDJqNDQn8KIYCbM0TV/53OevF185OzlZvJR7+IiISlefPP+NY+mJLyzOLil4oRqjEZXAfpVDgiIEgiYogr4CT9bLH3l/rftUgKwOlTI/zH6WreKKo1vAqeL6f2BJtCRgGg30nbscOvTsaHzUKpGSO3m4m6HzKSZGul6o/0GMmdO+eGHo5vmebXAdc2JT4zfT8k9bXNu1LW3VJmAUKWA0SWH0laEodEcLV4ZS8gdJVJLvQ9PmMozKqwCW5fIGXEUl0ACAxclyUqUgUinnlY4xk6CLefhk/czQXOMxrRRoYzyDGXhPdhfPVvLBv0AlUFPNR9BXhs5BYz0qbd7OVus5jkpVtkmLIKqRaUxRCKHU9QUvrtHVdQ9eKdxswzUNdT2oJM98vv20AGc2l+Fr14WTvPyK2rvO8gaaQ7dAI2jdzaTZZNQhjk8ipX8VRqHjzEpgcqVn4Fg4MPlELjKVdA4MKd9+7UuXBksr3V0XxwdfXOnOdR5eiS2uxA+vdCyc29aHX+XPuFsfNEYK/JZAvjXz2MCzE0vhzPyxk/m+Y6g0MDnycLv8G9g7MhwTwHYcDpVAPTDvxCFIGtsT6Rszj54Zf3z81GNS15G5o4N9C6jUM37ojF7+CJrlT2BxrEcMVjSnLW9AGd0C3t09ioRZjlOMIorbitJoTEazxWJW6/44t+yO2YtS56jflffGIzPx+IJDsPYEXBF7O5MPhuPHtR0dbW18V5ThzQFbv8SP8WF3oMXjCB1gg2Z/c6/UcSgMIJgFAEVQCRAKGlqiCBr78srb9fBu/XdWUCGX23yzUucYACij4gYCJpBmc7Xj8Hp8+EDNPgy3RmzfnJC/hkryzchpMXI2DE9tLlfezgOA+VAJUBUtaTRE5S1pNpqqUWgsLEqqcuZrR+owDMctIfOXemshbmwz3ijI60cIBHEdpX8TleSXwqcikVNhuCS/FH5EFB8Jw6XNZfgiM8xxeU4+q/aJK2/A38B1YFQ6ZtlxpyAJGK1k4hRvblv1zXTeNzAncAk9TiYXU/twetrADjM+E9/M5CKOdu2hYs+TM4KbSsi2PlcwHQj+O+v09s/yqURFF47yBvwVWgUmZSIrnaQJmhQIBamqkV1K1hCE2fwJl9BjxtSNAmdGzIRfTR9hcpGWkMc5SgeMgtZNJdDq2wv2toOTSuq0t39WSCa8ro9ZJ4DAVd6At+E6aN6Dbkcp1Yn6wfBRX2Ex4us0+0nWHpoUYx2totlpK2iPz3Y9Xgw6rSGLqWs5l+2x6XmjC2xxh7hdWHa4++PkdRiwRrZQqrI35HqQPa51/u3N6IP0IRXLd+A6sAHX7nyqsyjN9nbABHWUKwh/OrnkH5wJSZkWbY383drWnNces7TYR/+yjDCDh47MaU8udi+P+QIjfLOgS424rHrB5ICu/U31ze2OIoCgDQB4Hb0PLKruU2i30whl8GNtxdT+TGPDUMLmNRyoO6CnPPv0h7VHivCrsZrRgfH6/RJRx7eNJ+VphTNYZuA6XAcOENgzbSWNht6rPo0G28Pe6+2TNNPc7U4O6KzsRDAx0tY/084m9RiZOk4+HqNHnW3m9mY6I7QEf8zaIxZnPn2C9U0Wc088xCt6xOaPQ6rN+y+s09MzHYrHK55zAAA/QKvAqnpuR4cERpMKjQpMzHGjEGrEPWO+ZGRfMt+J433NfYFutHo/QQczUQcj34E+Y1P9oDcgf7VcVmKC36HbiAUiAEADpL6dXL9Eq0Bb8beSj6Q5gnDcKCyg306/szI0u2xDq7Idwrvyz3752EUAga+8AX6HVoFBYSsSrmwlk7Ha6tMZzcXCZQj1mIaAdWZtSm9Fj2y+SNRiBojiOL4LI1wHTRWMfxjiYorAPWOBPQjhWj/T/iDAbe3DH8F10ADsu7VYMXDllKgY7P3hOd/AHD887xuc8/pHBZFXPtoTh7ofLwYq33R2uSvbm1vuyvao99RnZQH+Cq5XfEXsqliHaHViEOSeGVF3LaXBXMWAai+e7SSRwfG3u2fEPfRm2uGvmstx4hUIq0OC/bmL2uHoElwHjbs4shDsFjf7cXvebzUdaLQxeUcCrs36ErVd+1Jx+R6A5d+XN+BluA64B3fTg6tJ2UyVxfRa+6w1ZEmz3oQnGoj5+n2BgeYAKVBsu9iaDIfGtGE363AHaBvnsCU9bRkX0+I22vyOFtbg7PT5u1xKzZ3lDTiNTm3PNlFSHCqortw1276VDuMw1rs/z2QOXNRejmHNTp1tv74xqE35G2z10BCref75pPyJwdDSUlcjEQ1K7Gh5A34K1xRfbMXeUR5ZHW+vJ0QcTxYSON5n7/V155WF4J7QZiW9g4Si/D5pVSQDp2XbAC1UeI4DAP8brv3f/fhcb57BNTiuZ8g/L8ibcE3+mB6kmX4GWmVb5W0PAOhduKbux91vd/7CaKxyexPYEp1vhBDiDQcanxnUI2Ur2hqf7vvPeZ36r/aGc3BN/tDZ5XR2OWHLrr9ssI7uY5g+Wv4MwPI75SD8CK4BGwCE2lt1WO2pXIc0da06q8HgylgN43lW2fJ6l+HP8vKH1njfvxJErDbB0/Bj+VOqQNN5J9Rv/jpY8FV85C1vwB+ga0CvoLLsXP1/4Khb5Xtd3v6FCN/DePrn27lc2O4LqF9t9Ejyob+51NtxJHnw1Ys9ia5HX+jKTXU/+kJXdgpApXb4DHpKvYkl5XoRJQETCFv9ny48WleU4k88p03Dn/Ba5+Y7aQBg+TMA4HfRNeUdLSWxqtG4bRMSFFG3b+HGXFCItGacnG8qNDbtHbs0Do3awOjFww8FfJ2UI8R6HuqKzC0s92UVnIqo7qGnQJ1yV1K0RElQqYF2CZJYuWjgYB8t/6IWzk2MjGvH5fI/sxoDgRvdxjfC8GV5OZn8R3uGag43VbQAlPmDnlIu4R3PiVulkhRBE9V6NZq3MnN23pyJevt8qbDD10qNwLb6X4T1XmvffO6MNuX3UGFvQUh2Nupt0J99a5+2OJ4/m1D7I5Q34H10DTQAHwCScXcWjdGy51eaMvB2kl6M82wnLfDWYQYuiSNt/pHT6Ui3Mezs5KdSOmqC6i1K83e6i8EBt5RxBvdbPowupg6/dj7b3urpyF2cYJnpoeRJpR9gCQBUg55S90YSSZREETpEXLAPnB2V7+jgjboj53KWC+9+fSTLz771vdMAAAxQ5Q34H+gacIA2ENtSlihKke2ZpJ4NphakFEtugTIZzVgFIcup4/sngaloWxfX3BKe4j39gR7J6G7uXLS7OqNeX0+yhUm7PTmOz/Zrmf5o+0BEjzfHOangbc3w6UkHXu+JOjvG/fBY0wAfDMcjfFz+tj3qdgkeU/NgVKrehI3lDfjuFsdkZW6J4eoKIbdcJ26dCFvV69D1MN80QsM47+pkGsPdxnBrkp9M1VPjVE9RmotLwwrr8OsVfrUK17IjRCn0jrno6aHUUlo6nFr80vmsqqnyj8t/At8o/x3AACAkimD2w+/XXeJ5VW+Z8gicQj9SfyNWqbRo1B+vls81UdKJAf/JU7VG3Rvp18ZWvv8Ps9bn5f/668DxBVaJ+355BHxSfcuJBpVcqbIHoP/kI7WGBl4J8YbteUj9VfD4PEumvzi2cufbytu/Ly/AL6LvqTVBAfbB21G58Cp2/PcvV3wQAFfhHaQDtQC4XBGXiSBMFgu8Ix+Ft+5evnz36pc7vpIZCeHtwwCCELgK36v8XykiSRGOi9SYQu9duvQevHU1O9yOh0YyX+nY3ofgHlxT8iq3imOxcBiuqYMYgl40CG6j28o8IdWGVCR/gWyhLUY7jQYtZivVZLa2/i8AAAD//wEAAP//fKa1iwAAAQAAAAEYUW9Em6FfDzz1AAED6AAAAADYXaDMAAAAAN1mLzf+vf7dCB0DyQACAAMAAgAAAAAAAAABAAAD2P7vAAAIQP69/bwIHQPoAML/0QAAAAAAAAAAAAAAOHicFM2xK4RxHMfx9+djRK4Mxy2/9PPcU05SFpdbDFgMkmwyS5ks/g3/isV4sVwpk/GGr8zKoIek5yd/wcvXrDIBteXJfYY+IuuL7EOGviJrUlo9k31J9g0j98kekPXDnFrO9MGxPzn3MrWXSLqjcpdar1TqMfAi8iyJd5KmJL5Z9zzJM9TulkanJN2WX+0xcodtjdnxI/salwcFawp6itIoWFCAgi0FFwpWFHT0VqbK7KoqLzop9wo2FGz+e8DBHwAAAP//AQAA///HWzh2AAAAAAAuAC4AUgCEAKYAvgD0AQ4BLAE8AWIBlAG4AeACIAI0AlICjALEAvwDKgNiA5wDxAQMBDYEQgRcBH4EqATWBRAFLgVqBZgFxAXiBhwGTAZ+BpYGwAboBxwHXgd4B84IEgggCD4IXAhsCIIImAimCLwAAAABAAAAOACMAAwAZgAHAAEAAAAAAAAAAAAAAAAABAADeJyclNtOG1cUhj8H2216uqhQRG7QvkylZEyjECXhypSgjIpw6nF6kKpKgz0+iPHMyDOYkifodd+ib5GrPkafoup1tX8vgx1FQSAE/Hv2OvxrrX9tYJP/2KBWvwv83ZwbrrHd/NnwHb5oHhneYL/5meE6Dxv/GG4waLw13ORBo2v4E97V/zT8KU/qvxm+y1b90PDnPK5vGv5yw/Gv4a94wrsFrsEz/jBcY4vC8B02+dXwBvewmLU699gx3OBrtg032QZ6TKhImZAxwjFkwogzZiSURCTMmDAkYYAjpE1Kpa8ZsZBj9MGvMREVM2JFHFPhSIlIiSkZW8S38sp5rYxDnWZ216ZiTMyJPE6JyXDkjMjJSDhVnIqKghe0aFHSF9+CipKAkgkpATkzRrTocMgRPcZMKHEcKpJnFpEzpOKcWPmdWfjO9EnIKI3VGRkD8XTil8g75AhHh0K2q5GP1iI8xPGjvD23XLbfEujXrTBbz7tkEzNXP1N1JdXNuSY41q3P2+YH4YoXuFv1Z53J9T0a6H+lyCecaf4DTSoTkwzntmgTSUGRu49jX+eQSB35iZAer+jwhp7Obbp0aXNMj5CX8u3QxfEdHY45kEcovLg7lGKO+QXH94Sy8bET689iYgm/U5i6S3GcqY4phXrumQeqNVGFN5+w36F8TR2lfPraI2/pNL9MexYzMlUUYjhVL5faKK1/A1PEVLX42V7d+22Y2+4tt/iCXDvs1brg5Ce3YHTdVIP3NHOun4CYATknsuiTM6VFxYV4vybmjBTHgbr3SltS0b708XkupJKEqRiEZIozo9Df2HQTGff+mu6dvSUD+Xump5dV3SaLU6+uZvRG3VveRdblZGUCLZtqvqKmvrhmpv1EO7XKP5Jvqdct5xGh4i52+0OvwA7P2WWPsbL0dTO/vPOvhLfYUwdOSWQ1lKZ9DY8J2CXgKbvs8pyn7/VyycYZH7fGZzV/mwP26bB3bTUL2w77vFyL9vHMf4ntjupxPLo8Pbv1NB/cQLXfaN+u3s2uJuenMbdoV9txTMzUc3FbqzW5+wT/AwAA//8BAAD//3KhUUAAAAADAAD/9QAA/84AMgAAAAAAAAAAAAAAAAAAAAAAAAAA");
}]]></style><style type="text/css"><![CDATA[.shape {
  shape-rendering: geometricPrecision;
  stroke-linejoin: round;
}
.connection {
  stroke-linecap: round;
  stroke-linejoin: round;
}
.blend {
  mix-blend-mode: multiply;
  opacity: 0.5;
}

		.d2-2409915968 .fill-N1{fill:#0A0F25;}
		.d2-2409915968 .fill-N2{fill:#676C7E;}
		.d2-2409915968 .fill-N3{fill:#9499AB;}
		.d2-2409915968 .fill-N4{fill:#CFD2DD;}
		.d2-2409915968 .fill-N5{fill:#DEE1EB;}
		.d2-2409915968 .fill-N6{fill:#EEF1F8;}
		.d2-2409915968 .fill-N7{fill:#FFFFFF;}
		.d2-2409915968 .fill-B1{fill:#0D32B2;}
		.d2-2409915968 .fill-B2{fill:#0D32B2;}
		.d2-2409915968 .fill-B3{fill:#E3E9FD;}
		.d2-2409915968 .fill-B4{fill:#E3E9FD;}
		.d2-2409915968 .fill-B5{fill:#EDF0FD;}
		.d2-2409915968 .fill-B6{fill:#F7F8FE;}
		.d2-2409915968 .fill-AA2{fill:#4A6FF3;}
		.d2-2409915968 .fill-AA4{fill:#EDF0FD;}
		.d2-2409915968 .fill-AA5{fill:#F7F8FE;}
		.d2-2409915968 .fill-AB4{fill:#EDF0FD;}
		.d2-2409915968 .fill-AB5{fill:#F7F8FE;}
		.d2-2409915968 .stroke-N1{stroke:#0A0F25;}
		.d2-2409915968 .stroke-N2{stroke:#676C7E;}
		.d2-2409915968 .stroke-N3{stroke:#9499AB;}
		.d2-2409915968 .stroke-N4{stroke:#CFD2DD;}
		.d2-2409915968 .stroke-N5{stroke:#DEE1EB;}
		.d2-2409915968 .stroke-N6{stroke:#EEF1F8;}
		.d2-2409915968 .stroke-N7{stroke:#FFFFFF;}
		.d2-2409915968 .stroke-B1{stroke:#0D32B2;}
		.d2-2409915968 .stroke-B2{stroke:#0D32B2;}
		.d2-2409915968 .stroke-B3{stroke:#E3E9FD;}
		.d2-2409915968 .stroke-B4{stroke:#E3E9FD;}
		.d2-2409915968 .stroke-B5{stroke:#EDF0FD;}
		.d2-2409915968 .stroke-B6{stroke:#F7F8FE;}
		.d2-2409915968 .stroke-AA2{stroke:#4A6FF3;}
		.d2-2409915968 .stroke-AA4{stroke:#EDF0FD;}
		.d2-2409915968 .stroke-AA5{stroke:#F7F8FE;}
		.d2-2409915968 .stroke-AB4{stroke:#EDF0FD;}
		.d2-2409915968 .stroke-AB5{stroke:#F7F8FE;}
		.d2-2409915968 .background-color-N1{background-color:#0A0F25;}
		.d2-2409915968 .background-color-N2{background-color:#676C7E;}
		.d2-2409915968 .background-color-N3{background-color:#9499AB;}
		.d2-2409915968 .background-color-N4{background-color:#CFD2DD;}
		.d2-2409915968 .background-color-N5{background-color:#DEE1EB;}
		.d2-2409915968 .background-color-N6{background-color:#EEF1F8;}
		.d2-2409915968 .background-color-N7{background-color:#FFFFFF;}
		.d2-2409915968 .background-color-B1{background-color:#0D32B2;}
		.d2-2409915968 .background-color-B2{background-color:#0D32B2;}
		.d2-2409915968 .background-color-B3{background-color:#E3E9FD;}
		.d2-2409915968 .background-color-B4{background-color:#E3E9FD;}
		.d2-2409915968 .background-color-B5{background-color:#EDF0FD;}
		.d2-2409915968 .background-color-B6{background-color:#F7F8FE;}
		.d2-2409915968 .background-color-AA2{background-color:#4A6FF3;}
		.d2-2409915968 .background-color-AA4{background-color:#EDF0FD;}
		.d2-2409915968 .background-color-AA5{background-color:#F7F8FE;}
		.d2-2409915968 .background-color-AB4{background-color:#EDF0FD;}
		.d2-2409915968 .background-color-AB5{background-color:#F7F8FE;}
		.d2-2409915968 .color-N1{color:#0A0F25;}
		.d2-2409915968 .color-N2{color:#676C7E;}
		.d2-2409915968 .color-N3{color:#9499AB;}
		.d2-2409915968 .color-N4{color:#CFD2DD;}
		.d2-2409915968 .color-N5{color:#DEE1EB;}
		.d2-2409915968 .color-N6{color:#EEF1F8;}
		.d2-2409915968 .color-N7{color:#FFFFFF;}
		.d2-2409915968 .color-B1{color:#0D32B2;}
		.d2-2409915968 .color-B2{color:#0D32B2;}
		.d2-2409915968 .color-B3{color:#E3E9FD;}
		.d2-2409915968 .color-B4{color:#E3E9FD;}
		.d2-2409915968 .color-B5{color:#EDF0FD;}
		.d2-2409915968 .color-B6{color:#F7F8FE;}
		.d2-2409915968 .color-AA2{color:#4A6FF3;}
		.d2-2409915968 .color-AA4{color:#EDF0FD;}
		.d2-2409915968 .color-AA5{color:#F7F8FE;}
		.d2-2409915968 .color-AB4{color:#EDF0FD;}
		.d2-2409915968 .color-AB5{color:#F7F8FE;}.appendix text.text{fill:#0A0F25}.md{--color-fg-default:#0A0F25;--color-fg-muted:#676C7E;--color-fg-subtle:#9499AB;--color-canvas-default:#FFFFFF;--color-canvas-subtle:#EEF1F8;--color-border-default:#0D32B2;--color-border-muted:#0D32B2;--color-neutral-muted:#EEF1F8;--color-accent-fg:#0D32B2;--color-accent-emphasis:#0D32B2;--color-attention-subtle:#676C7E;--color-danger-fg:red;}.sketch-overlay-B1{fill:url(#streaks-darker);mix-blend-mode:lighten}.sketch-overlay-B2{fill:url(#streaks-darker);mix-blend-mode:lighten}.sketch-overlay-B3{fill:url(#streaks-bright);mix-blend-mode:darken}.sketch-overlay-B4{fill:url(#streaks-bright);mix-blend-mode:darken}.sketch-overlay-B5{fill:url(#streaks-bright);mix-blend-mode:darken}.sketch-overlay-B6{fill:url(#streaks-bright);mix-blend-mode:darken}.sketch-overlay-AA2{fill:url(#streaks-dark);mix-blend-mode:overlay}.sketch-overlay-AA4{fill:url(#streaks-bright);mix-blend-mode:darken}.sketch-overlay-AA5{fill:url(#streaks-bright);mix-blend-mode:darken}.sketch-overlay-AB4{fill:url(#streaks-bright);mix-blend-mode:darken}.sketch-overlay-AB5{fill:url(#streaks-bright);mix-blend-mode:darken}.sketch-overlay-N1{fill:url(#streaks-darker);mix-blend-mode:lighten}.sketch-overlay-N2{fill:url(#streaks-dark);mix-blend-mode:overlay}.sketch-overlay-N3{fill:url(#streaks-normal);mix-blend-mode:color-burn}.sketch-overlay-N4{fill:url(#streaks-normal);mix-blend-mode:color-burn}.sketch-overlay-N5{fill:url(#streaks-bright);mix-blend-mode:darken}.sketch-overlay-N6{fill:url(#streaks-bright);mix-blend-mode:darken}.sketch-overlay-N7{fill:url(#streaks-bright);mix-blend-mode:darken}.light-code{display: block}.dark-code{display: none}]]></style><g id="user"><g class="shape" ><rect x="12.000000" y="52.000000" width="135.000000" height="92.000000" class=" stroke-B1 fill-N7" style="stroke-width:2;" /></g><image href="https://icons.terrastruct.com/essentials%2F365-user.svg" x="12.000000" y="52.000000" width="46" height="46" /><text x="79.500000" y="103.500000" class="text fill-N1" style="text-anchor:middle;font-size:16px">John Doe</text></g><g id="mobile"><g class="shape" ><rect x="187.000000" y="52.000000" width="127.000000" height="92.000000" class=" stroke-B1 fill-B5" style="stroke-width:2;" /></g><image href="https://icons.terrastruct.com/tech%2F052-smartphone-3.svg" x="187.000000" y="52.000000" width="46" height="46" /><text x="250.500000" y="103.500000" class="text fill-N1" style="text-anchor:middle;font-size:16px">Webapp</text></g><g id="browser"><g class="shape" ><rect x="354.000000" y="52.000000" width="118.000000" height="92.000000" class=" stroke-B1 fill-B5" style="stroke-width:2;" /></g><image href="https://icons.terrastruct.com/tech%2Fbrowser-2.svg" x="354.000000" y="52.000000" width="46" height="46" /><text x="413.000000" y="103.500000" class="text fill-N1" style="text-anchor:middle;font-size:16px">Laptop</text></g><g id="portal"><g class="shape" ><rect x="789.000000" y="52.000000" width="111.000000" height="92.000000" class=" stroke-B1 fill-B5" style="stroke-width:2;" /></g><image href="https://icons.terrastruct.com/azure%2FIntegration%20Service%20Color%2FSoftware%20as%20a%20Service%20%28SaaS%29.svg" x="789.000000" y="52.000000" width="46" height="46" /><text x="844.500000" y="103.500000" class="text fill-N1" style="text-anchor:middle;font-size:16px">Portal</text></g><g id="verifier"><g class="shape" ><rect x="1095.000000" y="52.000000" width="140.000000" height="92.000000" class=" stroke-B1 fill-B5" style="stroke-width:2;" /></g><image href="https://icons.terrastruct.com/azure%2FSecurity%20Service%20Color%2FSecurity%20Center.svg" x="1095.000000" y="52.000000" width="46" height="46" /><text x="1165.000000" y="103.500000" class="text fill-N1" style="text-anchor:middle;font-size:16px">VC Verifier</text></g><g id="(user -- )[0]"><path d="M 79.500000 146.000000 L 79.500000 703.000000" fill="none" class="connection stroke-B2" style="stroke-width:2;stroke-dasharray:12.000000,11.838767;" mask="url(#d2-2409915968)" /></g><g id="(mobile -- )[0]"><path d="M 250.500000 146.000000 L 250.500000 703.000000" fill="none" class="connection stroke-B2" style="stroke-width:2;stroke-dasharray:12.000000,11.838767;" mask="url(#d2-2409915968)" /></g><g id="(browser -- )[0]"><path d="M 413.000000 146.000000 L 413.000000 703.000000" fill="none" class="connection stroke-B2" style="stroke-width:2;stroke-dasharray:12.000000,11.838767;" mask="url(#d2-2409915968)" /></g><g id="(portal -- )[0]"><path d="M 844.500000 146.000000 L 844.500000 703.000000" fill="none" class="connection stroke-B2" style="stroke-width:2;stroke-dasharray:12.000000,11.838767;" mask="url(#d2-2409915968)" /></g><g id="(verifier -- )[0]"><path d="M 1165.000000 146.000000 L 1165.000000 703.000000" fill="none" class="connection stroke-B2" style="stroke-width:2;stroke-dasharray:12.000000,11.838767;" mask="url(#d2-2409915968)" /></g><g id="mobile.car"><g class="shape" ><rect x="244.000000" y="204.000000" width="12.000000" height="30.000000" class=" stroke-B1 fill-B4" style="stroke-width:2;" /></g></g><g id="verifier.resp"><g class="shape" ><rect x="1159.000000" y="204.000000" width="12.000000" height="370.000000" class=" stroke-B1 fill-B4" style="stroke-width:2;" /></g></g><g id="portal.refresh"><g class="shape" ><rect x="838.000000" y="554.000000" width="12.000000" height="90.000000" class=" stroke-B1 fill-B4" style="stroke-width:2;" /></g></g><g id="(mobile.car -&gt; verifier.resp)[0]"><marker id="mk-3488378134" markerWidth="10.000000" markerHeight="12.000000" refX="7.000000" refY="6.000000" viewBox="0.000000 0.000000 10.000000 12.000000" orient="auto" markerUnits="userSpaceOnUse"> <polygon points="0.000000,0.000000 10.000000,6.000000 0.000000,12.000000" class="connection fill-B1" stroke-width="2" /> </marker><path d="M 258.500000 214.000000 L 1155.000000 214.000000" fill="none" class="connection stroke-B1" style="stroke-width:2;" marker-end="url(#mk-3488378134)" mask="url(#d2-2409915968)" /><text x="708.000000" y="220.000000" class="text-italic fill-N2" style="text-anchor:middle;font-size:16px">(14) POST /api/siop/authentication_response</text></g><g id="verifier.(resp -&gt; resp)[0]"><path d="M 1173.000000 284.000000 L 1235.000000 284.000000 S 1245.000000 284.000000 1245.000000 294.000000 L 1245.000000 319.000000 S 1245.000000 329.000000 1235.000000 329.000000 L 1175.000000 329.000000" fill="none" class="connection stroke-B1" style="stroke-width:2;" marker-end="url(#mk-3488378134)" mask="url(#d2-2409915968)" /><text x="1245.500000" y="312.000000" class="text-italic fill-N2" style="text-anchor:middle;font-size:16px">(15 and 16) Verify signature and issuer of LEARCredential</text></g><g id="verifier.(resp -&gt; resp)[1]"><path d="M 1173.000000 354.000000 L 1235.000000 354.000000 S 1245.000000 354.000000 1245.000000 364.000000 L 1245.000000 389.000000 S 1245.000000 399.000000 1235.000000 399.000000 L 1175.000000 399.000000" fill="none" class="connection stroke-B1" style="stroke-width:2;" marker-end="url(#mk-3488378134)" mask="url(#d2-2409915968)" /><text x="1245.500000" y="382.000000" class="text-italic fill-N2" style="text-anchor:middle;font-size:16px">(17) Verify sender of the Authentication Response</text></g><g id="verifier.(resp -&gt; resp)[2]"><path d="M 1173.000000 424.000000 L 1235.000000 424.000000 S 1245.000000 424.000000 1245.000000 434.000000 L 1245.000000 459.000000 S 1245.000000 469.000000 1235.000000 469.000000 L 1175.000000 469.000000" fill="none" class="connection stroke-B1" style="stroke-width:2;" marker-end="url(#mk-3488378134)" mask="url(#d2-2409915968)" /><text x="1245.000000" y="452.000000" class="text-italic fill-N2" style="text-anchor:middle;font-size:16px">(18) Generate Access Token</text></g><g id="(verifier.resp -&gt; mobile)[0]"><path d="M 1157.000000 494.000000 L 254.500000 494.000000" fill="none" class="connection stroke-B1" style="stroke-width:2;" marker-end="url(#mk-3488378134)" mask="url(#d2-2409915968)" /><text x="704.500000" y="500.000000" class="text-italic fill-N2" style="text-anchor:middle;font-size:16px">(19) HTTP 200 with &lt;access token&gt;</text></g><g id="(verifier.resp -&gt; portal.refresh)[0]"><path d="M 1157.000000 564.000000 L 854.500000 564.000000" fill="none" class="connection stroke-B1" style="stroke-width:2;" marker-end="url(#mk-3488378134)" mask="url(#d2-2409915968)" /><text x="1004.500000" y="570.000000" class="text-italic fill-N2" style="text-anchor:middle;font-size:16px">(20) Notify with &lt;access token&gt; and &lt;state&gt;</text></g><g id="(portal.refresh -&gt; browser)[0]"><path d="M 836.500000 634.000000 L 417.000000 634.000000" fill="none" class="connection stroke-B1" style="stroke-width:2;" marker-end="url(#mk-3488378134)" mask="url(#d2-2409915968)" /><text x="625.500000" y="640.000000" class="text-italic fill-N2" style="text-anchor:middle;font-size:16px">(21) Refresh screen with services and include &lt;access token&gt;</text></g><mask id="d2-2409915968" maskUnits="userSpaceOnUse" x="-89" y="-49" width="1618" height="854">
<rect x="-89" y="-49" width="1618" height="854" fill="white"></rect>
<rect x="561.000000" y="204.000000" width="294" height="21" fill="black"></rect>
<rect x="1062.000000" y="296.000000" width="367" height="21" fill="black"></rect>
<rect x="1087.000000" y="366.000000" width="317" height="21" fill="black"></rect>
<rect x="1157.000000" y="436.000000" width="176" height="21" fill="black"></rect>
<rect x="593.000000" y="484.000000" width="223" height="21" fill="black"></rect>
<rect x="864.000000" y="554.000000" width="281" height="21" fill="black"></rect>
<rect x="430.000000" y="624.000000" width="391" height="21" fill="black"></rect>
</mask></svg></svg>
        <ul>
            <li id='list_1087.15_and_16'><a href='#list_1087.15_and_16' class='selfref'><b>15 and 16</b></a> The Verifier receives the Authorization Request and has to perform verifications, the standard ones being defined in [[DIF.PresentationExchange]]. In order to verify that the Verifiable Credential has been issued by a trusted entity, the Relying Party has to verify:            <div>
                <ol>
                    <li id='list_1090.1'>That the DID of the entity which is the issuer of the VC is a trusted entity.                    </li>
                    <li id='list_1090.2'>That the VC was signed by that participant.                    </li>
                </ol>

                <p>Both verifications can be done by performing DID resolution, checking that the resulting DID Document contains the public key corresponding to the one specified in the Verifiable Credential, and by verifying the digital signature of the credential against that public key.
                </p>
                <p>In our case the LEARCredential was issued using the `did:elsi` method, so resolution is very simple and is specified in [[DID-ELSI]].
                </p>
            </div>
            </li>
            <li id='list_1087.17'><a href='#list_1087.17' class='selfref'><b>17</b></a> After verifying the credential, the Relying Party can also verify that the Verifiable Presentation including the Verifiable Credential is sent by the user and not by a malicious agent. To do so, it uses the public key associated to the `did:key` identifier <code>id</code> field inside the <code>credentialSubject</code> structure. That public key is cryptographically bound to the customer DID during the onboarding process that GoodAir performed with its employee.            </li>
            <li id='list_1087.18'><a href='#list_1087.18' class='selfref'><b>18</b></a> The Verifier creates an Access Token for the user so he can use it to access services in the DOME onboarding portal. The Access Token is generated in JWT format and signed by the RP component. The access token is intended for use as bearer token over HTTP [[RFC2616]] using Transport Layer Security (TLS) [[RFC5246]] to access protected resources, and it should use the JWT Profile profile described in [[RFC9068]].            <div>
                <p>For our use case, the payload of the JWT access token looks like:
                </p>

<pre class="nohighlight" style="color:#f8f8f2;background-color:#282a36;"><code><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    <span style="color:#ff79c6">&#34;iss&#34;</span>: <span style="color:#f1fa8c">&#34;did:elsi:VATFR-99999999&#34;</span>,
</span></span><span style="display:flex;"><span>    <span style="color:#ff79c6">&#34;sub&#34;</span>: <span style="color:#f1fa8c">&#34;did:key:z6MkhaXgBZDvotDkL5257faiztiGiC2QtKLGpbnnEGta2doK&#34;</span>,
</span></span><span style="display:flex;"><span>    <span style="color:#ff79c6">&#34;aud&#34;</span>:   <span style="color:#f1fa8c">&#34;https://dome-marketplace.eu/onboarding&#34;</span>,
</span></span><span style="display:flex;"><span>    <span style="color:#ff79c6">&#34;exp&#34;</span>: <span style="color:#bd93f9">1639528912</span>,
</span></span><span style="display:flex;"><span>    <span style="color:#ff79c6">&#34;iat&#34;</span>: <span style="color:#bd93f9">1618354090</span>,
</span></span><span style="display:flex;"><span>    <span style="color:#ff79c6">&#34;jti&#34;</span> : <span style="color:#f1fa8c">&#34;dbe39bf3a3ba4238a513f51d6e1691c4&#34;</span>,
</span></span><span style="display:flex;"><span>    <span style="color:#ff79c6">&#34;client_id&#34;</span>: <span style="color:#f1fa8c">&#34;did:elsi:VATFR-99999999&#34;</span>,
</span></span><span style="display:flex;"><span>    <span style="color:#ff79c6">&#34;scope&#34;</span>: <span style="color:#f1fa8c">&#34;vp_token&#34;</span>,
</span></span><span style="display:flex;"><span>    <span style="color:#ff79c6">&#34;verifiableCredential&#34;</span>: [the VC that was received inside the Verifiable Presentation]
</span></span><span style="display:flex;"><span>}
</span></span></code></pre>
                <p>Where, according to [[RFC9068]]:
                </p>
                <ul>
                    <li id='list_1119.1'><code>iss</code> and <code>client_id</code> have the same value because the access token has been generated by the Verifier component of the DOME onboarding service, acting as the DOME legal person.                    </li>
                    <li id='list_1119.2'><code>sub</code> identifies the user (employee of GoodAir acting as LEAR of the company) using the DID inside the Verifiable Credential received                    </li>
                    <li id='list_1119.3'><code>aud</code> identifies the RS (Resource Server) component in Packet Delivery. In this case we assume that it is internal and does not have a DID assigned, so we use the URI of the component.                    </li>
                    <li id='list_1119.4'><code>kid</code> in the header identifies the key that is used to sign the JWT and which must be configured up-front and known by the RS (Resource Server.                    </li>
                    <li id='list_1119.5'><code>scope</code> has the same value as the equivalent <code>scope</code> parameter in the initial Authorization Request.                    </li>
                    <li id='list_1119.6'><code>verifiableCredential</code> contains the Verifiable Credential that was received, specifically the value of the first element of the field <code>verifiableCredential</code> of the Verifiable Presentation.                    </li>
                </ul>

            </div>
            </li>
            <li id='list_1087.19'><a href='#list_1087.19' class='selfref'><b>19</b></a> The Verifier sends a successful response to the POST request from the wallet. The wallet receives the response to the POST indicating the success or failure of the process. The Verifier continues processing because the web portal of Packet Delivery has to be refreshed with the services that this specific user can access, based on the information received in the Verifiable Credential and the access control policies implemented by the DOME portal.            </li>
            <li id='list_1087.20'><a href='#list_1087.20' class='selfref'><b>20</b></a> The Verifier notifies the DOME portal to refresh the login page so it can present the services to the user. The notification includes the following:            <div>
                <ul>
                    <li id='list_1136.1'>The <code>state</code> nonce that was generated by the portal when it generated the QR code. The portal uses the <code>state</code> nonce to know what login session is notified.                    </li>
                    <li id='list_1136.2'>The access token generated before.                    </li>
                </ul>

                <p>The notification is a simple POST request with both parameters in the body:
                </p>

<pre class="nohighlight" style="color:#f8f8f2;background-color:#282a36;"><code><span style="display:flex;"><span><span style="color:#50fa7b">POST</span> /api/notify <span style="color:#ff79c6">HTTP</span><span style="color:#ff79c6">/</span><span style="color:#bd93f9">1.1</span>
</span></span><span style="display:flex;"><span>Host<span style="color:#ff79c6">:</span> dome-marketplace.eu
</span></span><span style="display:flex;"><span>Content-Type<span style="color:#ff79c6">:</span> application/x-www-form-urlencoded
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>access_token=[the access token]
</span></span><span style="display:flex;"><span>&amp;state=af0ifjsldkj
</span></span></code></pre>
                <p>The portal component replies immediately and continues processing.
                </p>
            </div>
            </li>
            <li id='list_1087.21'><a href='#list_1087.21' class='selfref'><b>21</b></a> The DOM portal refreshes the screen and displays the services available to users, sending the Access Token to the browser of the user. The Access Token will be sent by the browser to the DOME portal whenever the user tries to access a protected resource of the portal, and so access control can be performed using the data inside the token, in the same way as with any other access token in other authentication mechanisms.            </li>
        </ul>

    </section>

</section>


<section id='request_scope' class='appendix'><h2>Request Scope</h2>

    <p>According to section 5.3 of [[OpenID.VP]], wallets MAY support requesting presentation of credentials using OAuth 2.0 <code>scope</code> values. Such a scope value MUST be an alias for a well-defined presentation definition as it will be refered to in the <code>presentation_submission</code> response parameter.
    </p>
    <p>In this specification we define concrete scope values and the mapping between a certain scope value and the respective presentation definition, in particular the mapping between scope values and specific types of Verifiable Credentials used for access control in the use case described in this document. In a production implementation of a Data Space ecosystem, the Trust Framework has to define the mappings used in the ecosysyem and the mechanisms and governance model used to update those mappings.
    </p>
    <p>In this example we only need the mapping for the LEARCredential, where the scope <code>dome.credentials.presentation.LEARCredential</code> represents the following presentation definition:
    </p>

<pre class="nohighlight" style="color:#f8f8f2;background-color:#282a36;"><code><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    <span style="color:#ff79c6">&#34;id&#34;</span>: <span style="color:#f1fa8c">&#34;dome.credentials.presentation.LEARCredential&#34;</span>,
</span></span><span style="display:flex;"><span>    <span style="color:#ff79c6">&#34;input_descriptors&#34;</span>: [
</span></span><span style="display:flex;"><span>        {
</span></span><span style="display:flex;"><span>        <span style="color:#ff79c6">&#34;id&#34;</span>: <span style="color:#f1fa8c">&#34;LEARCredentialDefinitionv1.01&#34;</span>,
</span></span><span style="display:flex;"><span>        <span style="color:#ff79c6">&#34;format&#34;</span>: {
</span></span><span style="display:flex;"><span>            <span style="color:#ff79c6">&#34;ldp_vc&#34;</span>: {
</span></span><span style="display:flex;"><span>                <span style="color:#ff79c6">&#34;proof_type&#34;</span>: [
</span></span><span style="display:flex;"><span>                    <span style="color:#f1fa8c">&#34;RsaSignature2018&#34;</span>
</span></span><span style="display:flex;"><span>                ]
</span></span><span style="display:flex;"><span>            }
</span></span><span style="display:flex;"><span>        },
</span></span><span style="display:flex;"><span>        <span style="color:#ff79c6">&#34;constraints&#34;</span>: {
</span></span><span style="display:flex;"><span>            <span style="color:#ff79c6">&#34;fields&#34;</span>: [
</span></span><span style="display:flex;"><span>                {
</span></span><span style="display:flex;"><span>                    <span style="color:#ff79c6">&#34;path&#34;</span>: [
</span></span><span style="display:flex;"><span>                        <span style="color:#f1fa8c">&#34;$.type&#34;</span>
</span></span><span style="display:flex;"><span>                    ],
</span></span><span style="display:flex;"><span>                    <span style="color:#ff79c6">&#34;filter&#34;</span>: {
</span></span><span style="display:flex;"><span>                        <span style="color:#ff79c6">&#34;type&#34;</span>: <span style="color:#f1fa8c">&#34;string&#34;</span>,
</span></span><span style="display:flex;"><span>                        <span style="color:#ff79c6">&#34;pattern&#34;</span>: <span style="color:#f1fa8c">&#34;LEARCredential&#34;</span>
</span></span><span style="display:flex;"><span>                    }
</span></span><span style="display:flex;"><span>                }
</span></span><span style="display:flex;"><span>            ]
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>    ]
</span></span><span style="display:flex;"><span>}
</span></span></code></pre>
</section>


<section><h2>Access control with the LEARCredential</h2>

    <p>Once the user has performed authentication and the portal displays the services that he has available, the user clicks on a specific service that he wants to access.
    </p>
    <p>If the Relying Party (the portal) is the DOME Onboarding service, this could be the onboarding service itself, or a service to upload additional information for a partially completed onboarding process.
    </p>
    <p>If the RP is the Marketplace and the organisation wants to offer products in it, these services could be to register the organisation as a <i>Seller</i>, or to create a Product specification and offering.
    </p>
    <p>If the RP is the Marketplace and the organisation wants to contract products in it, these services could be to register the organisation as a <i>Customer</i>, or to launch a procurement order of a product.
    </p>
    <p>The same mechanism can be used by any participant in the ecosystem, if they want to use an advanced IAM mechanism which is aligned with the EU strategy on digital identity based on Verifiable Credential and eIDAS2.
    </p>
    <p>For the explanation we will use the following figure from [[[NIST-AUTH]]] which describes a reference architecture with necessary functional components to achieve enforcement the authorization policies. The authorization process depends on four layers of functionality: <b>Enforcement</b>, <b>Decision</b>, <b>Access Control Data</b>, and <b>Administration</b>.
    </p>

    <figure id='authn-reference'>
        <p><img src="images/login_in_DOME/authn_reference.jpeg" alt="" />
        </p>
    </figure>


    <figcaption>Authentication reference architecture (NIST)
    </figcaption>

    <p>For our use case we convert the reference architecture into a sequence diagram.        
    </p>
<!-- Original D2 diagram definition
    shape: sequence_diagram
    # Definition of the participants
    user: John Doe {
        icon: https://icons.terrastruct.com/essentials%2F365-user.svg
    }
    browser: Laptop {
        icon: https://icons.terrastruct.com/tech%2Fbrowser-2.svg
    }
    pep: PEP {
        icon: https://icons.terrastruct.com/azure%2FIdentity%20Service%20Color%2FConditional%20Access.svg
    }
    pdp: PDP {
        icon: https://icons.terrastruct.com/azure%2FIntegration%20Service%20Color%2FLogic%20Apps%20Custom%20Connector.svg
    }
    prp: PRP {
        icon: https://icons.terrastruct.com/aws%2FManagement%20&%20Governance%2FAmazon-CloudWatch_Rule_light-bg.svg
    }
    pip: PIP {
        icon: https://icons.terrastruct.com/azure%2FGeneral%20Service%20Icons%2FInformation.svg
    }
    resource: Resource {
        icon: https://icons.terrastruct.com/essentials%2F117-database.svg
    }
    # ==================================================
    user -> browser.req: (1) Access protected resource
    browser.req -> pep.1: (2) PEP intercepts the call
    pep.1 -> pdp.1: (3) Request a decision
    pdp.1 -> prp.req: (4) Query policies
    prp.req -> pdp.2: (5) Reply with policies
    pdp.2 -> pdp.2: (6) Initial evaluation of the policies
    pdp.2 -> pip.req: (7) Query additional attributes
    pip.req -> pdp.3: (8) Reply with attributes
    pdp.3 -> pdp.3: (9) Final evaluation of the policies
    pdp.3 -> pep.2: (10) Return decision
    pep.2 -> resource.req: (11) Perform operation
    resource.req -> pep.3: (12) Return result
    pep.3 -> browser.resp: (13) Return result
    browser.resp -> user: Display result
 -->

<?xml version="1.0" encoding="utf-8"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" d2Version="v0.4.0-HEAD" preserveAspectRatio="xMinYMin meet" viewBox="0 0 1438 1344"><svg id="d2-svg" class="d2-1818978809" width="1438" height="1344" viewBox="-89 -49 1438 1344"><rect x="-89.000000" y="-49.000000" width="1438.000000" height="1344.000000" rx="0.000000" class=" fill-N7" stroke-width="0" /><style type="text/css"><![CDATA[
.d2-1818978809 .text {
	font-family: "d2-1818978809-font-regular";
}
@font-face {
	font-family: d2-1818978809-font-regular;
	src: url("data:application/font-woff;base64,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");
}
.d2-1818978809 .text-italic {
	font-family: "d2-1818978809-font-italic";
}
@font-face {
	font-family: d2-1818978809-font-italic;
	src: url("data:application/font-woff;base64,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");
}]]></style><style type="text/css"><![CDATA[.shape {
  shape-rendering: geometricPrecision;
  stroke-linejoin: round;
}
.connection {
  stroke-linecap: round;
  stroke-linejoin: round;
}
.blend {
  mix-blend-mode: multiply;
  opacity: 0.5;
}

		.d2-1818978809 .fill-N1{fill:#0A0F25;}
		.d2-1818978809 .fill-N2{fill:#676C7E;}
		.d2-1818978809 .fill-N3{fill:#9499AB;}
		.d2-1818978809 .fill-N4{fill:#CFD2DD;}
		.d2-1818978809 .fill-N5{fill:#DEE1EB;}
		.d2-1818978809 .fill-N6{fill:#EEF1F8;}
		.d2-1818978809 .fill-N7{fill:#FFFFFF;}
		.d2-1818978809 .fill-B1{fill:#0D32B2;}
		.d2-1818978809 .fill-B2{fill:#0D32B2;}
		.d2-1818978809 .fill-B3{fill:#E3E9FD;}
		.d2-1818978809 .fill-B4{fill:#E3E9FD;}
		.d2-1818978809 .fill-B5{fill:#EDF0FD;}
		.d2-1818978809 .fill-B6{fill:#F7F8FE;}
		.d2-1818978809 .fill-AA2{fill:#4A6FF3;}
		.d2-1818978809 .fill-AA4{fill:#EDF0FD;}
		.d2-1818978809 .fill-AA5{fill:#F7F8FE;}
		.d2-1818978809 .fill-AB4{fill:#EDF0FD;}
		.d2-1818978809 .fill-AB5{fill:#F7F8FE;}
		.d2-1818978809 .stroke-N1{stroke:#0A0F25;}
		.d2-1818978809 .stroke-N2{stroke:#676C7E;}
		.d2-1818978809 .stroke-N3{stroke:#9499AB;}
		.d2-1818978809 .stroke-N4{stroke:#CFD2DD;}
		.d2-1818978809 .stroke-N5{stroke:#DEE1EB;}
		.d2-1818978809 .stroke-N6{stroke:#EEF1F8;}
		.d2-1818978809 .stroke-N7{stroke:#FFFFFF;}
		.d2-1818978809 .stroke-B1{stroke:#0D32B2;}
		.d2-1818978809 .stroke-B2{stroke:#0D32B2;}
		.d2-1818978809 .stroke-B3{stroke:#E3E9FD;}
		.d2-1818978809 .stroke-B4{stroke:#E3E9FD;}
		.d2-1818978809 .stroke-B5{stroke:#EDF0FD;}
		.d2-1818978809 .stroke-B6{stroke:#F7F8FE;}
		.d2-1818978809 .stroke-AA2{stroke:#4A6FF3;}
		.d2-1818978809 .stroke-AA4{stroke:#EDF0FD;}
		.d2-1818978809 .stroke-AA5{stroke:#F7F8FE;}
		.d2-1818978809 .stroke-AB4{stroke:#EDF0FD;}
		.d2-1818978809 .stroke-AB5{stroke:#F7F8FE;}
		.d2-1818978809 .background-color-N1{background-color:#0A0F25;}
		.d2-1818978809 .background-color-N2{background-color:#676C7E;}
		.d2-1818978809 .background-color-N3{background-color:#9499AB;}
		.d2-1818978809 .background-color-N4{background-color:#CFD2DD;}
		.d2-1818978809 .background-color-N5{background-color:#DEE1EB;}
		.d2-1818978809 .background-color-N6{background-color:#EEF1F8;}
		.d2-1818978809 .background-color-N7{background-color:#FFFFFF;}
		.d2-1818978809 .background-color-B1{background-color:#0D32B2;}
		.d2-1818978809 .background-color-B2{background-color:#0D32B2;}
		.d2-1818978809 .background-color-B3{background-color:#E3E9FD;}
		.d2-1818978809 .background-color-B4{background-color:#E3E9FD;}
		.d2-1818978809 .background-color-B5{background-color:#EDF0FD;}
		.d2-1818978809 .background-color-B6{background-color:#F7F8FE;}
		.d2-1818978809 .background-color-AA2{background-color:#4A6FF3;}
		.d2-1818978809 .background-color-AA4{background-color:#EDF0FD;}
		.d2-1818978809 .background-color-AA5{background-color:#F7F8FE;}
		.d2-1818978809 .background-color-AB4{background-color:#EDF0FD;}
		.d2-1818978809 .background-color-AB5{background-color:#F7F8FE;}
		.d2-1818978809 .color-N1{color:#0A0F25;}
		.d2-1818978809 .color-N2{color:#676C7E;}
		.d2-1818978809 .color-N3{color:#9499AB;}
		.d2-1818978809 .color-N4{color:#CFD2DD;}
		.d2-1818978809 .color-N5{color:#DEE1EB;}
		.d2-1818978809 .color-N6{color:#EEF1F8;}
		.d2-1818978809 .color-N7{color:#FFFFFF;}
		.d2-1818978809 .color-B1{color:#0D32B2;}
		.d2-1818978809 .color-B2{color:#0D32B2;}
		.d2-1818978809 .color-B3{color:#E3E9FD;}
		.d2-1818978809 .color-B4{color:#E3E9FD;}
		.d2-1818978809 .color-B5{color:#EDF0FD;}
		.d2-1818978809 .color-B6{color:#F7F8FE;}
		.d2-1818978809 .color-AA2{color:#4A6FF3;}
		.d2-1818978809 .color-AA4{color:#EDF0FD;}
		.d2-1818978809 .color-AA5{color:#F7F8FE;}
		.d2-1818978809 .color-AB4{color:#EDF0FD;}
		.d2-1818978809 .color-AB5{color:#F7F8FE;}.appendix text.text{fill:#0A0F25}.md{--color-fg-default:#0A0F25;--color-fg-muted:#676C7E;--color-fg-subtle:#9499AB;--color-canvas-default:#FFFFFF;--color-canvas-subtle:#EEF1F8;--color-border-default:#0D32B2;--color-border-muted:#0D32B2;--color-neutral-muted:#EEF1F8;--color-accent-fg:#0D32B2;--color-accent-emphasis:#0D32B2;--color-attention-subtle:#676C7E;--color-danger-fg:red;}.sketch-overlay-B1{fill:url(#streaks-darker);mix-blend-mode:lighten}.sketch-overlay-B2{fill:url(#streaks-darker);mix-blend-mode:lighten}.sketch-overlay-B3{fill:url(#streaks-bright);mix-blend-mode:darken}.sketch-overlay-B4{fill:url(#streaks-bright);mix-blend-mode:darken}.sketch-overlay-B5{fill:url(#streaks-bright);mix-blend-mode:darken}.sketch-overlay-B6{fill:url(#streaks-bright);mix-blend-mode:darken}.sketch-overlay-AA2{fill:url(#streaks-dark);mix-blend-mode:overlay}.sketch-overlay-AA4{fill:url(#streaks-bright);mix-blend-mode:darken}.sketch-overlay-AA5{fill:url(#streaks-bright);mix-blend-mode:darken}.sketch-overlay-AB4{fill:url(#streaks-bright);mix-blend-mode:darken}.sketch-overlay-AB5{fill:url(#streaks-bright);mix-blend-mode:darken}.sketch-overlay-N1{fill:url(#streaks-darker);mix-blend-mode:lighten}.sketch-overlay-N2{fill:url(#streaks-dark);mix-blend-mode:overlay}.sketch-overlay-N3{fill:url(#streaks-normal);mix-blend-mode:color-burn}.sketch-overlay-N4{fill:url(#streaks-normal);mix-blend-mode:color-burn}.sketch-overlay-N5{fill:url(#streaks-bright);mix-blend-mode:darken}.sketch-overlay-N6{fill:url(#streaks-bright);mix-blend-mode:darken}.sketch-overlay-N7{fill:url(#streaks-bright);mix-blend-mode:darken}.light-code{display: block}.dark-code{display: none}]]></style><g id="user"><g class="shape" ><rect x="12.000000" y="52.000000" width="135.000000" height="92.000000" class=" stroke-B1 fill-B5" style="stroke-width:2;" /></g><image href="https://icons.terrastruct.com/essentials%2F365-user.svg" x="12.000000" y="52.000000" width="46" height="46" /><text x="79.500000" y="103.500000" class="text fill-N1" style="text-anchor:middle;font-size:16px">John Doe</text></g><g id="browser"><g class="shape" ><rect x="250.000000" y="52.000000" width="118.000000" height="92.000000" class=" stroke-B1 fill-B5" style="stroke-width:2;" /></g><image href="https://icons.terrastruct.com/tech%2Fbrowser-2.svg" x="250.000000" y="52.000000" width="46" height="46" /><text x="309.000000" y="103.500000" class="text fill-N1" style="text-anchor:middle;font-size:16px">Laptop</text></g><g id="pep"><g class="shape" ><rect x="464.000000" y="52.000000" width="100.000000" height="92.000000" class=" stroke-B1 fill-B5" style="stroke-width:2;" /></g><image href="https://icons.terrastruct.com/azure%2FIdentity%20Service%20Color%2FConditional%20Access.svg" x="464.000000" y="52.000000" width="46" height="46" /><text x="514.000000" y="103.500000" class="text fill-N1" style="text-anchor:middle;font-size:16px">PEP</text></g><g id="pdp"><g class="shape" ><rect x="645.000000" y="52.000000" width="100.000000" height="92.000000" class=" stroke-B1 fill-B5" style="stroke-width:2;" /></g><image href="https://icons.terrastruct.com/azure%2FIntegration%20Service%20Color%2FLogic%20Apps%20Custom%20Connector.svg" x="645.000000" y="52.000000" width="46" height="46" /><text x="695.000000" y="103.500000" class="text fill-N1" style="text-anchor:middle;font-size:16px">PDP</text></g><g id="prp"><g class="shape" ><rect x="826.000000" y="52.000000" width="100.000000" height="92.000000" class=" stroke-B1 fill-B5" style="stroke-width:2;" /></g><image href="https://icons.terrastruct.com/aws%2FManagement%20&amp;%20Governance%2FAmazon-CloudWatch_Rule_light-bg.svg" x="826.000000" y="52.000000" width="46" height="46" /><text x="876.000000" y="103.500000" class="text fill-N1" style="text-anchor:middle;font-size:16px">PRP</text></g><g id="pip"><g class="shape" ><rect x="976.000000" y="52.000000" width="100.000000" height="92.000000" class=" stroke-B1 fill-B5" style="stroke-width:2;" /></g><image href="https://icons.terrastruct.com/azure%2FGeneral%20Service%20Icons%2FInformation.svg" x="976.000000" y="52.000000" width="46" height="46" /><text x="1026.000000" y="103.500000" class="text fill-N1" style="text-anchor:middle;font-size:16px">PIP</text></g><g id="resource"><g class="shape" ><rect x="1116.000000" y="52.000000" width="132.000000" height="92.000000" class=" stroke-B1 fill-B5" style="stroke-width:2;" /></g><image href="https://icons.terrastruct.com/essentials%2F117-database.svg" x="1116.000000" y="52.000000" width="46" height="46" /><text x="1182.000000" y="103.500000" class="text fill-N1" style="text-anchor:middle;font-size:16px">Resource</text></g><g id="(user -- )[0]"><path d="M 79.500000 146.000000 L 79.500000 1193.000000" fill="none" class="connection stroke-B2" style="stroke-width:2;stroke-dasharray:12.000000,11.838767;" mask="url(#d2-1818978809)" /></g><g id="(browser -- )[0]"><path d="M 309.000000 146.000000 L 309.000000 1193.000000" fill="none" class="connection stroke-B2" style="stroke-width:2;stroke-dasharray:12.000000,11.838767;" mask="url(#d2-1818978809)" /></g><g id="(pep -- )[0]"><path d="M 514.000000 146.000000 L 514.000000 1193.000000" fill="none" class="connection stroke-B2" style="stroke-width:2;stroke-dasharray:12.000000,11.838767;" mask="url(#d2-1818978809)" /></g><g id="(pdp -- )[0]"><path d="M 695.000000 146.000000 L 695.000000 1193.000000" fill="none" class="connection stroke-B2" style="stroke-width:2;stroke-dasharray:12.000000,11.838767;" mask="url(#d2-1818978809)" /></g><g id="(prp -- )[0]"><path d="M 876.000000 146.000000 L 876.000000 1193.000000" fill="none" class="connection stroke-B2" style="stroke-width:2;stroke-dasharray:12.000000,11.838767;" mask="url(#d2-1818978809)" /></g><g id="(pip -- )[0]"><path d="M 1026.000000 146.000000 L 1026.000000 1193.000000" fill="none" class="connection stroke-B2" style="stroke-width:2;stroke-dasharray:12.000000,11.838767;" mask="url(#d2-1818978809)" /></g><g id="(resource -- )[0]"><path d="M 1182.000000 146.000000 L 1182.000000 1193.000000" fill="none" class="connection stroke-B2" style="stroke-width:2;stroke-dasharray:12.000000,11.838767;" mask="url(#d2-1818978809)" /></g><g id="browser.req"><g class="shape" ><rect x="303.000000" y="204.000000" width="12.000000" height="90.000000" class=" stroke-B1 fill-B4" style="stroke-width:2;" /></g></g><g id="pep.1"><g class="shape" ><rect x="508.000000" y="274.000000" width="12.000000" height="90.000000" class=" stroke-B1 fill-B4" style="stroke-width:2;" /></g></g><g id="pdp.1"><g class="shape" ><rect x="689.000000" y="344.000000" width="12.000000" height="90.000000" class=" stroke-B1 fill-B4" style="stroke-width:2;" /></g></g><g id="prp.req"><g class="shape" ><rect x="870.000000" y="414.000000" width="12.000000" height="90.000000" class=" stroke-B1 fill-B4" style="stroke-width:2;" /></g></g><g id="pdp.2"><g class="shape" ><rect x="689.000000" y="484.000000" width="12.000000" height="160.000000" class=" stroke-B1 fill-B4" style="stroke-width:2;" /></g></g><g id="pip.req"><g class="shape" ><rect x="1020.000000" y="624.000000" width="12.000000" height="90.000000" class=" stroke-B1 fill-B4" style="stroke-width:2;" /></g></g><g id="pdp.3"><g class="shape" ><rect x="689.000000" y="694.000000" width="12.000000" height="160.000000" class=" stroke-B1 fill-B4" style="stroke-width:2;" /></g></g><g id="pep.2"><g class="shape" ><rect x="508.000000" y="834.000000" width="12.000000" height="90.000000" class=" stroke-B1 fill-B4" style="stroke-width:2;" /></g></g><g id="resource.req"><g class="shape" ><rect x="1176.000000" y="904.000000" width="12.000000" height="90.000000" class=" stroke-B1 fill-B4" style="stroke-width:2;" /></g></g><g id="pep.3"><g class="shape" ><rect x="508.000000" y="974.000000" width="12.000000" height="90.000000" class=" stroke-B1 fill-B4" style="stroke-width:2;" /></g></g><g id="browser.resp"><g class="shape" ><rect x="303.000000" y="1044.000000" width="12.000000" height="90.000000" class=" stroke-B1 fill-B4" style="stroke-width:2;" /></g></g><g id="(user -&gt; browser.req)[0]"><marker id="mk-3488378134" markerWidth="10.000000" markerHeight="12.000000" refX="7.000000" refY="6.000000" viewBox="0.000000 0.000000 10.000000 12.000000" orient="auto" markerUnits="userSpaceOnUse"> <polygon points="0.000000,0.000000 10.000000,6.000000 0.000000,12.000000" class="connection fill-B1" stroke-width="2" /> </marker><path d="M 81.500000 214.000000 L 299.000000 214.000000" fill="none" class="connection stroke-B1" style="stroke-width:2;" marker-end="url(#mk-3488378134)" mask="url(#d2-1818978809)" /><text x="191.500000" y="220.000000" class="text-italic fill-N2" style="text-anchor:middle;font-size:16px">(1) Access protected resource</text></g><g id="(browser.req -&gt; pep.1)[0]"><path d="M 317.000000 284.000000 L 504.000000 284.000000" fill="none" class="connection stroke-B1" style="stroke-width:2;" marker-end="url(#mk-3488378134)" mask="url(#d2-1818978809)" /><text x="411.500000" y="290.000000" class="text-italic fill-N2" style="text-anchor:middle;font-size:16px">(2) PEP intercepts the call</text></g><g id="(pep.1 -&gt; pdp.1)[0]"><path d="M 522.000000 354.000000 L 685.000000 354.000000" fill="none" class="connection stroke-B1" style="stroke-width:2;" marker-end="url(#mk-3488378134)" mask="url(#d2-1818978809)" /><text x="604.500000" y="360.000000" class="text-italic fill-N2" style="text-anchor:middle;font-size:16px">(3) Request a decision</text></g><g id="(pdp.1 -&gt; prp.req)[0]"><path d="M 703.000000 424.000000 L 866.000000 424.000000" fill="none" class="connection stroke-B1" style="stroke-width:2;" marker-end="url(#mk-3488378134)" mask="url(#d2-1818978809)" /><text x="786.000000" y="430.000000" class="text-italic fill-N2" style="text-anchor:middle;font-size:16px">(4) Query policies</text></g><g id="(prp.req -&gt; pdp.2)[0]"><path d="M 868.000000 494.000000 L 705.000000 494.000000" fill="none" class="connection stroke-B1" style="stroke-width:2;" marker-end="url(#mk-3488378134)" mask="url(#d2-1818978809)" /><text x="785.500000" y="500.000000" class="text-italic fill-N2" style="text-anchor:middle;font-size:16px">(5) Reply with policies</text></g><g id="pdp.(2 -&gt; 2)[0]"><path d="M 703.000000 564.000000 L 765.000000 564.000000 S 775.000000 564.000000 775.000000 574.000000 L 775.000000 599.000000 S 775.000000 609.000000 765.000000 609.000000 L 705.000000 609.000000" fill="none" class="connection stroke-B1" style="stroke-width:2;" marker-end="url(#mk-3488378134)" mask="url(#d2-1818978809)" /><text x="775.500000" y="592.000000" class="text-italic fill-N2" style="text-anchor:middle;font-size:16px">(6) Initial evaluation of the policies</text></g><g id="(pdp.2 -&gt; pip.req)[0]"><path d="M 703.000000 634.000000 L 1016.000000 634.000000" fill="none" class="connection stroke-B1" style="stroke-width:2;" marker-end="url(#mk-3488378134)" mask="url(#d2-1818978809)" /><text x="861.000000" y="640.000000" class="text-italic fill-N2" style="text-anchor:middle;font-size:16px">(7) Query additional attributes</text></g><g id="(pip.req -&gt; pdp.3)[0]"><path d="M 1018.000000 704.000000 L 705.000000 704.000000" fill="none" class="connection stroke-B1" style="stroke-width:2;" marker-end="url(#mk-3488378134)" mask="url(#d2-1818978809)" /><text x="861.000000" y="710.000000" class="text-italic fill-N2" style="text-anchor:middle;font-size:16px">(8) Reply with attributes</text></g><g id="pdp.(3 -&gt; 3)[0]"><path d="M 703.000000 774.000000 L 765.000000 774.000000 S 775.000000 774.000000 775.000000 784.000000 L 775.000000 809.000000 S 775.000000 819.000000 765.000000 819.000000 L 705.000000 819.000000" fill="none" class="connection stroke-B1" style="stroke-width:2;" marker-end="url(#mk-3488378134)" mask="url(#d2-1818978809)" /><text x="775.500000" y="802.000000" class="text-italic fill-N2" style="text-anchor:middle;font-size:16px">(9) Final evaluation of the policies</text></g><g id="(pdp.3 -&gt; pep.2)[0]"><path d="M 687.000000 844.000000 L 524.000000 844.000000" fill="none" class="connection stroke-B1" style="stroke-width:2;" marker-end="url(#mk-3488378134)" mask="url(#d2-1818978809)" /><text x="605.000000" y="850.000000" class="text-italic fill-N2" style="text-anchor:middle;font-size:16px">(10) Return decision</text></g><g id="(pep.2 -&gt; resource.req)[0]"><path d="M 522.000000 914.000000 L 1172.000000 914.000000" fill="none" class="connection stroke-B1" style="stroke-width:2;" marker-end="url(#mk-3488378134)" mask="url(#d2-1818978809)" /><text x="848.500000" y="920.000000" class="text-italic fill-N2" style="text-anchor:middle;font-size:16px">(11) Perform operation</text></g><g id="(resource.req -&gt; pep.3)[0]"><path d="M 1174.000000 984.000000 L 524.000000 984.000000" fill="none" class="connection stroke-B1" style="stroke-width:2;" marker-end="url(#mk-3488378134)" mask="url(#d2-1818978809)" /><text x="848.500000" y="990.000000" class="text-italic fill-N2" style="text-anchor:middle;font-size:16px">(12) Return result</text></g><g id="(pep.3 -&gt; browser.resp)[0]"><path d="M 506.000000 1054.000000 L 319.000000 1054.000000" fill="none" class="connection stroke-B1" style="stroke-width:2;" marker-end="url(#mk-3488378134)" mask="url(#d2-1818978809)" /><text x="411.500000" y="1060.000000" class="text-italic fill-N2" style="text-anchor:middle;font-size:16px">(13) Return result</text></g><g id="(browser.resp -&gt; user)[0]"><path d="M 301.000000 1124.000000 L 83.500000 1124.000000" fill="none" class="connection stroke-B1" style="stroke-width:2;" marker-end="url(#mk-3488378134)" mask="url(#d2-1818978809)" /><text x="191.000000" y="1130.000000" class="text-italic fill-N2" style="text-anchor:middle;font-size:16px">Display result</text></g><mask id="d2-1818978809" maskUnits="userSpaceOnUse" x="-89" y="-49" width="1438" height="1344">
<rect x="-89" y="-49" width="1438" height="1344" fill="white"></rect>
<rect x="97.000000" y="204.000000" width="189" height="21" fill="black"></rect>
<rect x="329.000000" y="274.000000" width="165" height="21" fill="black"></rect>
<rect x="534.000000" y="344.000000" width="141" height="21" fill="black"></rect>
<rect x="730.000000" y="414.000000" width="112" height="21" fill="black"></rect>
<rect x="715.000000" y="484.000000" width="141" height="21" fill="black"></rect>
<rect x="663.000000" y="576.000000" width="225" height="21" fill="black"></rect>
<rect x="762.000000" y="624.000000" width="198" height="21" fill="black"></rect>
<rect x="783.000000" y="694.000000" width="156" height="21" fill="black"></rect>
<rect x="666.000000" y="786.000000" width="219" height="21" fill="black"></rect>
<rect x="541.000000" y="834.000000" width="128" height="21" fill="black"></rect>
<rect x="775.000000" y="904.000000" width="147" height="21" fill="black"></rect>
<rect x="792.000000" y="974.000000" width="113" height="21" fill="black"></rect>
<rect x="355.000000" y="1044.000000" width="113" height="21" fill="black"></rect>
<rect x="146.000000" y="1114.000000" width="90" height="21" fill="black"></rect>
</mask></svg></svg>
    <ul>
        <li id='list_1270.1'><a href='#list_1270.1' class='selfref'><b>1</b></a> The user interacts with the browser to access a protected resource.        </li>
        <li id='list_1270.2'><a href='#list_1270.2' class='selfref'><b>2</b></a> The PEP intercepts the call. The PEP is normally implemented as a reverse proxy or API gateway, so all calls to protected resources entering the organisation are intercepted and forwarded if they are accepted.        </li>
        <li id='list_1270.3'><a href='#list_1270.3' class='selfref'><b>3</b></a> The PEP requests a decision from the PEP. The request from the PEP to the PDP consists of subject attributes (typically for the user who issued the request), resource attributes (the resource for which access is sought), action attributes (the operations to be performed on the resource), and environment attributes.        </li>
    </ul>

    <p>Some of the above attributes are obtained by the PEP from the original request received from the browser. For example, the HTTP verb (GET, POST, PUT, PATCH, DELETE) and the URL and possibly the body of the request provide action attributes.
    </p>
    <p>The access token generated during authentication provides some subject attributes (identification data and roles assigned by the issuer of the credential).
    </p>
    <p>An example access token would be:
    </p>

<pre class="nohighlight" style="color:#f8f8f2;background-color:#282a36;"><code><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    <span style="color:#ff79c6">&#34;token_type&#34;</span>: <span style="color:#f1fa8c">&#34;Bearer&#34;</span>,
</span></span><span style="display:flex;"><span>    <span style="color:#ff79c6">&#34;expires_in&#34;</span>: <span style="color:#bd93f9">3600</span>,
</span></span><span style="display:flex;"><span>    <span style="color:#ff79c6">&#34;access_token&#34;</span>: <span style="color:#f1fa8c">&#34;ewogICJhbGciOiAiRVMyNTYiLAogICJraWQiOiAiV09IRnU0SFo1OVNNODUzQzdlTjBPdmxLR3JNZWVyRENwSE9VUm9UUXdIdyIsCiAgInR5cCI6ICJKV1QiCn0.ewogICJAY29udGV4dCI6IFsKICAgICJodHRwczovL3d3dy53My5vcmcvMjAxOC9jcmVkZW50aWFscy92MSIKICBdLAogICJ0eXBlIjogWwogICAgIlZlcmlmaWFibGVQcmVzZW50YXRpb24iCiAgXSwKICAidmVyaWZpYWJsZUNyZWRlbnRpYWwiOiBbCiAgICB7CiAgICAgICJ0eXBlcyI6IFsKICAgICAgICAiUGFja2V0RGVsaXZlcnlTZXJ2aWNlIiwKICAgICAgICAiVmVyaWZpYWJsZUNyZWRlbnRpYWwiCiAgICAgIF0sCiAgICAgICJAY29udGV4dCI6IFsKICAgICAgICAiaHR0cHM6Ly93d3cudzMub3JnLzIwMTgvY3JlZGVudGlhbHMvdjEiLAogICAgICAgICJodHRwczovL3czaWQub3JnL3NlY3VyaXR5L3N1aXRlcy9qd3MtMjAyMC92MSIKICAgICAgXSwKICAgICAgImNyZWRlbnRpYWxzU3ViamVjdCI6IHt9LAogICAgICAiYWRkaXRpb25hbFByb3AxIjoge30KICAgIH0KICBdLAogICJpZCI6ICJlYmM2ZjFjMiIsCiAgImhvbGRlciI6IHsKICAgICJpZCI6ICJkaWQ6a2V5Ono2TWtzOW05aWZMd3kzSldxSDRjNTdFYkJRVlMyU3BSQ2pmYTc5d0hiNXZXTTZ2aCIKICB9LAogICJwcm9vZiI6IHsKICAgICJ0eXBlIjogIkpzb25XZWJTaWduYXR1cmUyMDIwIiwKICAgICJjcmVhdG9yIjogImRpZDprZXk6ejZNa3M5bTlpZkx3eTNKV3FINGM1N0ViQlFWUzJTcFJDamZhNzl3SGI1dldNNnZoIiwKICAgICJjcmVhdGVkIjogIjIwMjMtMDEtMDZUMDc6NTE6MzZaIiwKICAgICJ2ZXJpZmljYXRpb25NZXRob2QiOiAiZGlkOmtleTp6Nk1rczltOWlmTHd5M0pXcUg0YzU3RWJCUVZTMlNwUkNqZmE3OXdIYjV2V002dmgjejZNa3M5bTlpZkx3eTNKV3FINGM1N0ViQlFWUzJTcFJDamZhNzl3SGI1dldNNnZoIiwKICAgICJqd3MiOiAiZXlKaU5qUWlPbVpoYkhObExDSmpjbWwwSWpwYkltSTJOQ0pkTENKaGJHY2lPaUpGWkVSVFFTSjkuLjZ4U3FvWmphME53akYwYWY5WmtucXgzQ2JoOUdFTnVuQmY5Qzh1TDJ1bEdmd3VzM1VGTV9abmhQald0SFBsLTcyRTlwM0JUNWYycHRab1lrdE1LcERBIgogIH0KfQ&#34;</span>
</span></span><span style="display:flex;"><span>}
</span></span></code></pre>
    <p>Decoding the <code>access_token</code> field we could see a Verifiable Presentation including the LEARCredential that the user presented when authenticating:
    </p>

<pre class="nohighlight" style="color:#f8f8f2;background-color:#282a36;"><code><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    <span style="color:#ff79c6">&#34;@context&#34;</span>: [
</span></span><span style="display:flex;"><span>        <span style="color:#f1fa8c">&#34;https://www.w3.org/2018/credentials/v1&#34;</span>,
</span></span><span style="display:flex;"><span>        <span style="color:#f1fa8c">&#34;https://dome-marketplace.eu//2022/credentials/learcredential/v1&#34;</span>
</span></span><span style="display:flex;"><span>    ],
</span></span><span style="display:flex;"><span>    <span style="color:#ff79c6">&#34;id&#34;</span>: <span style="color:#f1fa8c">&#34;urn:did:elsi:25159389-8dd17b796ac0&#34;</span>,
</span></span><span style="display:flex;"><span>    <span style="color:#ff79c6">&#34;type&#34;</span>: [<span style="color:#f1fa8c">&#34;VerifiableCredential&#34;</span>, <span style="color:#f1fa8c">&#34;LEARCredential&#34;</span>],
</span></span><span style="display:flex;"><span>    <span style="color:#ff79c6">&#34;issuer&#34;</span>: {
</span></span><span style="display:flex;"><span>        <span style="color:#ff79c6">&#34;id&#34;</span>: <span style="color:#f1fa8c">&#34;did:elsi:VATES-12345678&#34;</span>
</span></span><span style="display:flex;"><span>    },
</span></span><span style="display:flex;"><span>    <span style="color:#ff79c6">&#34;issuanceDate&#34;</span>: <span style="color:#f1fa8c">&#34;2022-03-22T14:00:00Z&#34;</span>,
</span></span><span style="display:flex;"><span>    <span style="color:#ff79c6">&#34;validFrom&#34;</span>: <span style="color:#f1fa8c">&#34;2022-03-22T14:00:00Z&#34;</span>,
</span></span><span style="display:flex;"><span>    <span style="color:#ff79c6">&#34;expirationDate&#34;</span>: <span style="color:#f1fa8c">&#34;2023-03-22T14:00:00Z&#34;</span>,
</span></span><span style="display:flex;"><span>    <span style="color:#ff79c6">&#34;credentialSubject&#34;</span>: {
</span></span><span style="display:flex;"><span>        <span style="color:#ff79c6">&#34;id&#34;</span>: <span style="color:#f1fa8c">&#34;did:key:z6MkhaXgBZDvotDkL5257faiztiGiC2QtKLGpbnnEGta2doK&#34;</span>,
</span></span><span style="display:flex;"><span>        <span style="color:#ff79c6">&#34;title&#34;</span>: <span style="color:#f1fa8c">&#34;Mr.&#34;</span>,
</span></span><span style="display:flex;"><span>        <span style="color:#ff79c6">&#34;first_name&#34;</span>: <span style="color:#f1fa8c">&#34;John&#34;</span>,
</span></span><span style="display:flex;"><span>        <span style="color:#ff79c6">&#34;last_name&#34;</span>: <span style="color:#f1fa8c">&#34;Doe&#34;</span>,
</span></span><span style="display:flex;"><span>        <span style="color:#ff79c6">&#34;gender&#34;</span>: <span style="color:#f1fa8c">&#34;M&#34;</span>,
</span></span><span style="display:flex;"><span>        <span style="color:#ff79c6">&#34;postal_address&#34;</span>: <span style="color:#f1fa8c">&#34;&#34;</span>,
</span></span><span style="display:flex;"><span>        <span style="color:#ff79c6">&#34;email&#34;</span>: <span style="color:#f1fa8c">&#34;johndoe@goodair.com&#34;</span>,
</span></span><span style="display:flex;"><span>        <span style="color:#ff79c6">&#34;telephone&#34;</span>: <span style="color:#f1fa8c">&#34;&#34;</span>,
</span></span><span style="display:flex;"><span>        <span style="color:#ff79c6">&#34;fax&#34;</span>: <span style="color:#f1fa8c">&#34;&#34;</span>,
</span></span><span style="display:flex;"><span>        <span style="color:#ff79c6">&#34;mobile_phone&#34;</span>: <span style="color:#f1fa8c">&#34;+34787426623&#34;</span>,
</span></span><span style="display:flex;"><span>        <span style="color:#ff79c6">&#34;legalRepresentative&#34;</span>: {
</span></span><span style="display:flex;"><span>            <span style="color:#ff79c6">&#34;cn&#34;</span>: <span style="color:#f1fa8c">&#34;56565656V Jesus Ruiz&#34;</span>,
</span></span><span style="display:flex;"><span>            <span style="color:#ff79c6">&#34;serialNumber&#34;</span>: <span style="color:#f1fa8c">&#34;56565656V&#34;</span>,
</span></span><span style="display:flex;"><span>            <span style="color:#ff79c6">&#34;organizationIdentifier&#34;</span>: <span style="color:#f1fa8c">&#34;VATES-12345678&#34;</span>,
</span></span><span style="display:flex;"><span>            <span style="color:#ff79c6">&#34;o&#34;</span>: <span style="color:#f1fa8c">&#34;GoodAir&#34;</span>,
</span></span><span style="display:flex;"><span>            <span style="color:#ff79c6">&#34;c&#34;</span>: <span style="color:#f1fa8c">&#34;ES&#34;</span>
</span></span><span style="display:flex;"><span>        },
</span></span><span style="display:flex;"><span>        <span style="color:#ff79c6">&#34;rolesAndDuties&#34;</span>: [
</span></span><span style="display:flex;"><span>            {
</span></span><span style="display:flex;"><span>                <span style="color:#ff79c6">&#34;type&#34;</span>: <span style="color:#f1fa8c">&#34;LEARCredential&#34;</span>,
</span></span><span style="display:flex;"><span>                <span style="color:#ff79c6">&#34;id&#34;</span>: <span style="color:#f1fa8c">&#34;https://dome-marketplace.eu//lear/v1/6484994n4r9e990494&#34;</span>
</span></span><span style="display:flex;"><span>            }
</span></span><span style="display:flex;"><span>        ]
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>}
</span></span></code></pre>
    <p>Environmental attributes, which depend on the availability of system sensors that can detect and report values, are somewhat different from subject and resource attributes, which are administratively created. Environmental attributes are not properties of the subject or resources, but are measurable characteristics that pertain to the operational or situational context in which access requests occur. These environmental characteristics are subject and resource independent, and may include the current time, day of the week, or threat level.
    </p>
    <p>The PDP computes decisions to permit or deny subject requests to perform actions on resources. In computing a decision, the PDP queries policies stored in a PRP.
    </p>
    <p>If the attributes of the request are not sufficient for rule and policy evaluation, the PDP may need to search the PIP for additional attributes. The PIP is shown as one logical store, but in fact may comprise multiple physical stores of different types. In our case, the logical PIP includes one or more Trusted Issuers Lists (to check if the issuer of the credential is included in them as a trusted issuer of that type of credential), and also the Authorization Registry (AR), which can check for finer granularity authorisation records which may be very dynamic in nature (e.g. if some resource usage by employees and machines owned by the issuer have exceeded some quota this month).
    </p>
    <p>The actual Trusted Issuers Lists that the PDP needs to check is determined by the policy rules retrieved from the PRP. Those policy rules also determine the additional queries performed to the PIP data stores.
    </p>
    <p>The set of information and data stored in the PIP and PRP comprise the access control data and collectively define the current authorization state, which the PDP will use to compute its decision.
    </p>
    <ul>
        <li id='list_1346.4'><a href='#list_1346.4' class='selfref'><b>4</b></a> Query policy rules applicable to this request.        </li>
        <li id='list_1346.5'><a href='#list_1346.5' class='selfref'><b>5</b></a> Reply with policy rules        </li>
        <li id='list_1346.6'><a href='#list_1346.6' class='selfref'><b>6</b></a> The PDP performs an initial evaluation of the policy rules and if the attributes of the request are not sufficient for rule and policy evaluation, it determines the PIP stores to query, including the set of Trusted Issuers Lists to query.        </li>
        <li id='list_1346.7'><a href='#list_1346.7' class='selfref'><b>7</b></a> Query additional attributes        </li>
        <li id='list_1346.8'><a href='#list_1346.8' class='selfref'><b>8</b></a> Reply with attributes        </li>
        <li id='list_1346.9'><a href='#list_1346.9' class='selfref'><b>9</b></a> The PDP performs a final evaluation of the policy rules, taking into consideration the attributes received from the PEP and also the attributes received from the PIP, and computes a decision.        </li>
        <li id='list_1346.10'><a href='#list_1346.10' class='selfref'><b>10</b></a> The PDP returns the decision to the PEP, which will enforce it.        </li>
        <li id='list_1346.11'><a href='#list_1346.11' class='selfref'><b>11</b></a> If the decision from the PDP is Reject, the PEP returns an error to the browser in the laptop of the user. Otherwise, it forwards the original request to the Resource.        </li>
        <li id='list_1346.12'><a href='#list_1346.12' class='selfref'><b>12</b></a> The resource executes the request and returns the result        </li>
        <li id='list_1346.13'><a href='#list_1346.13' class='selfref'><b>13</b></a> The PEP returns the result to the laptop of the user.        </li>
        <li id='list_1346.14'><a href='#list_1346.14' class='selfref'><b>14</b></a> The laptop displays the result to the user.        </li>
    </ul>

</section>


<section id="references">


</body>
</html>
